<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[DreamEverAfter]]></title>
  <link href="www.dreameverafter.com/atom.xml" rel="self"/>
  <link href="www.dreameverafter.com/"/>
  <updated>2023-11-16T18:00:06+08:00</updated>
  <id>www.dreameverafter.com/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.mweb.im">MWeb</generator>

  
  <entry>
    <title type="html"><![CDATA[ä¸‰æ±ç„–é”…]]></title>
    <link href="www.dreameverafter.com/16996865532784.html"/>
    <updated>2023-11-11T15:09:13+08:00</updated>
    <id>www.dreameverafter.com/16996865532784.html</id>
    <content type="html"><![CDATA[
<p>ğŸ‘‰é£Ÿæï¼šé¸¡ç¿…ã€é¸¡çˆªã€è™¾ã€é¹Œé¹‘è›‹ã€ç‰ç±³ã€åœŸè±†â€¦ï¼ˆä½ å–œæ¬¢çš„é£Ÿæéƒ½å¯ä»¥æ”¾ï¼‰<br />
ğŸ‘‰ç§˜åˆ¶æ–™æ±ï¼š2å‹ºæ–™é…’+4å‹ºç”ŸæŠ½+2å‹ºè€æŠ½+2å‹ºèšæ²¹+1å‹ºè±†ç“£é…±+1å‹ºç”œé¢é…±+4å‹ºç•ªèŒ„é…±+1å‹ºèƒ¡æ¤’ç²‰+1å‹ºè¾£æ¤’é¢ï¼ˆè¿™ä¸ªæ–™æ±ï¼Œç„–å•¥éƒ½å¥½åƒï¼ï¼ï¼‰</p>
<span id="more"></span><!-- more -->
<p>ğŸ‘‰æ­¥éª¤ï¼š<br />
1ã€ç´ èœåˆ‡å—ï¼Œè™¾ç”¨æ–™é…’+å§œç‰‡è…Œåˆ¶ï¼›é¸¡ç¿…åˆ’å‡ åˆ€ï¼Œå’Œé¸¡çˆªä¸€èµ·ç”¨æ–™é…’+å§œç‰‡+1å‹ºç”ŸæŠ½ï¼Œè…Œåˆ¶15åˆ†é’Ÿå·¦å³å»è…¥<br />
2ã€ç…®é”…ä¸­å€’å°‘è®¸æ²¹ï¼Œåº•ä¸‹é“ºä¸Šå„ç§ç´ èœï¼Œä¸Šå±‚é“ºä¸Šè‚‰ï¼Œå€’ä¸Šæ–™æ±ï¼Œ180åº¦ç„–35åˆ†é’Ÿå·¦å³ï¼Œå‡ºé”…æ”¾ç‚¹é’çº¢æ¤’å’ŒèŠéº»ç‚¹ç¼€å°±å¯ä»¥äº†</p>
<p>ğŸ‘‰é…ç€ä¸‰æ±ç„–é”…å†æ‰“ä¸€ä¸ªè§£è…»çš„çš„æœæ±ï¼šæ©™å­+é›ªæ¢¨+500mlæ°´ï¼è¿™é…æ–¹æ¸…çˆ½åˆå¥½å–è§£è…»ï¼</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[åˆ«äº†ï¼Œä¸­å›½å¤§é™†çš„Kindle]]></title>
    <link href="www.dreameverafter.com/17001172774052.html"/>
    <updated>2023-11-16T14:47:57+08:00</updated>
    <id>www.dreameverafter.com/17001172774052.html</id>
    <content type="html"><![CDATA[
<p><img src="media/17001172774052/kindle.jpg" alt="kindle" /></p>
<p>è¿™å‡ å¹´ Amazon ä¸€æ­¥æ­¥é€€å‡ºä¸­å›½å¸‚åœºï¼Œä¼¼ä¹é¢„ç¤ºç€è¿™ä¸€å¤©å·²ç»ä¸è¿œã€‚æœä¸å…¶ç„¶ï¼Œå‰é˜µå­ Amazon å®˜æ–¹å®£å¸ƒé€€å‡ºä¸­å›½ç”µå­ä¹¦ä¸šåŠ¡ã€‚ä»Šå¹´äº”æœˆç”±äºç–«æƒ…åœ¨å®¶è¿œç¨‹åŠå…¬ä¸€å‘¨ï¼Œè‹¦äº Kindle æ”¾å…¬å¸å¿˜äº†å¸¦å›å®¶æ—  Kindle å¯çœ‹ï¼Œé‚å‡†å¤‡ä¹°ä¸ªæ–°çš„ Whitepaper5ã€‚æ‰¾ä¸€åœˆå‘ç°ï¼ŒWhitepaper5 åœ¨å®˜æ–¹æ¸ é“æ²¡æœ‰é”€å”®ï¼Œå½“æ—¶å°±æ„Ÿè§‰ä¸å¤ªå¯¹åŠ²ã€‚å¦‚ä»Šï¼Œç®—æ˜¯æ­£å¼å¼€å¯é€€å‡ºä¸­å›½å¸‚åœºçš„è®¡åˆ’äº†ã€‚</p>
<p>æˆ‘ä¹Ÿç®—æ˜¯ Kindle æ¯”è¾ƒæ—©æœŸçš„ç”¨æˆ·äº†ï¼Œä»ä¸€å¼€å§‹çš„æ ‡å‡†ç‰ˆï¼Œåˆ° Oasis2ï¼Œåˆ°ç°åœ¨çš„ Whitepaper5ï¼Œä¸€å…±ä½¿ç”¨è¿‡ 3 ä¸ªè®¾å¤‡ã€‚è¿˜ç»™åª³å¦‡ä¹°äº†ä¸ª Kindleï¼Œä¸è¿‡å¥¹ä¸€ç›´æ²¡æœ‰ç”¨è¿™ä¸ªçœ‹ä¹¦çš„ä¹ æƒ¯ï¼ŒåŸºæœ¬ä¸Šå±äºåƒç°çš„çŠ¶æ€ã€‚</p>
<p>åœ¨ Kindle ä¸­å›½å•†åŸé‡Œä¹°äº†ä¸å°‘ç”µå­ä¹¦ï¼Œç”šè‡³å¤§éƒ¨åˆ†éƒ½æ²¡çœ‹è¿‡ï¼Œæ¯•ç«Ÿä¹°è¿‡å°±ç®—æ˜¯çœ‹è¿‡äº†å“ˆå“ˆã€‚é€€å‡ºè¿™ä¸ªäº‹æƒ…æ­£å¥½ä¹Ÿåˆºæ¿€äº†æˆ‘çœ‹ä¹¦çš„è¿›åº¦ï¼Œè¿™æ®µæ—¶é—´æŠŠçœ‹ Kindle çš„ä¼˜å…ˆçº§è°ƒé«˜äº†å¾ˆå¤šï¼Œæœ‰ç‚¹æ—¶é—´å°±æ‹¿èµ·æ¥çœ‹çœ‹ã€‚</p>
<p>å…¶å®å…«æœˆæ˜¯æœ‰ä¸€ä¸ªå¥½æ¶ˆæ¯çš„ï¼Œé‚£å°±æ˜¯ Kindle æ”¯æŒ epub çš„æ ¼å¼è½¬æ¢äº†ï¼Œä»Šå¹´æˆ‘ä¸€åº¦å› ä¸ºå„ç§æ ¼å¼çš„å‰²è£‚ï¼Œæƒ³åšä¸€ä¸ªå…¨æ ¼å¼æ”¯æŒçš„æœ¬åœ°é˜…è¯»å™¨åº”ç”¨ï¼Œç”±äºç–«æƒ…åŸå› ï¼Œæ— é™æœŸæç½®äº†ã€‚å½“çŸ¥é“è¿™ä¸ªæ¶ˆæ¯åï¼Œæ„Ÿè§‰è¿™ä¸ªé˜…è¯»å™¨åº”ç”¨çš„æ„ä¹‰ä¸å¤§äº†ã€‚</p>
<p>å¯¹äºä¸€ç›´æ¼‚æ¥æ¼‚å»çš„æˆ‘æ¥è¯´ï¼Œå¯ä»¥éšæ—¶éšåœ°ä¹°åˆ°æˆ–æ‰¾åˆ°æƒ³çœ‹çš„ä¹¦ï¼Œç€å®æ¯”å®ä½“ä¹¦é¦™å¾ˆå¤šï¼Œä¸å åœ°æ–¹ï¼Œè€Œä¸”æ¬å®¶ä¹Ÿå‡è½»äº†ä¸å°‘è´Ÿæ‹…ã€‚æ¯æ¬¡æ¬å®¶ï¼Œæ¬å®¶å¸ˆå‚…éƒ½é—®æˆ‘æœ‰æ²¡æœ‰ä¹¦ï¼Œè¢«é—®çš„æˆ‘éƒ½æœ‰ç‚¹å°´å°¬ã€‚æœ‰ï¼Œä¹Ÿä¸å°‘ï¼Œä¸¤ç®±ã€‚è¿™å·²ç»æ˜¯å°½é‡æ‰¾ç”µå­ä¹¦çš„å‰æäº†ï¼Œæ²¡åŠæ³•ï¼Œå¾ˆå¤šä¹¦è¦ä¸æ²¡æœ‰ç”µå­ç‰ˆï¼Œè¦ä¸å°±æ˜¯ä¸é€‚åˆå°å±å¹•é˜…è¯»ã€‚</p>
<p>è¿˜å¥½å®ƒåªæ˜¯é€€å‡ºä¸­å›½å¸‚åœºï¼Œç¾æœè´¦å·è¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œæ­£å¥½å¾ˆå¤šè‹±æ–‡ä¹¦åœ¨å›½å†…ä¸æ˜¯å¾ˆæ–¹ä¾¿çš„è´­ä¹°ã€‚ä¸è¿‡ä¸­å›½ä¹¦ç”µå­ä¹¦åœ¨å¾€åçš„ä¸€æ®µæ—¶é—´å†…ï¼Œè´¨é‡å’Œæ•°é‡åº”è¯¥ä¼šæœ‰äº›é€€æ­¥äº†ã€‚</p>
<p>è¿™ä»¶äº‹ä¹Ÿå……åˆ†ä½“ç°å‡ºæ¥è´­ä¹°ç”µå­åŒ–äº§å“çš„ä¼˜ç¼ºç‚¹ï¼Œä»¥åä¹°ç”µå­äº§å“ï¼Œè¦è®¤çœŸæ€è€ƒä¸€ä¸‹è¦çš„æ˜¯ä»€ä¹ˆï¼Œæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå®æ•ˆæ€§ç­‰é—®é¢˜äº†ã€‚</p>
<p>ä»–æ¥äº†ï¼Œæ€èµ·ä¸€æ³¢ç”µå­ä¹¦æ­£ç‰ˆåŒ–çš„æ½®æµï¼Œä¹Ÿå¼€å‘å‡ºç›–æ³¡é¢æ–°å§¿åŠ¿ï¼Œç°åœ¨ä»–èµ°äº†ï¼Œåº”è¯¥ä¸ä¼šå†è§äº†ã€‚</p>
<p>åˆ«äº†ï¼Œä¸­å›½å¤§é™†çš„Kindleã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[HomeBrewæ›´æ–°æŠ¥é”™â€œfatal- Could not resolve HEAD to a revisionâ€]]></title>
    <link href="www.dreameverafter.com/17001265068678.html"/>
    <updated>2023-11-16T17:21:46+08:00</updated>
    <id>www.dreameverafter.com/17001265068678.html</id>
    <content type="html"><![CDATA[
<p>ä»Šå¤©æƒ³é€šè¿‡ <code>brew</code> è£… <code>openvc</code>ï¼Œç»“æœå‘ç°æ ¹æœ¬ <code>search</code> ä¸åˆ°ã€‚<br />
ä½†æ˜¯ç½‘ä¸Šæœç´¢æ€ä¹ˆå®‰è£…è¿™ä¸ªåº“ï¼Œçš„ç¡®éƒ½æ˜¯ç”¨ <code>brew</code>ï¼Œæ‰€ä»¥æƒ³æ›´æ–°ä¸€ä¸‹ <code>brew</code> å†æœã€‚<br />
ç»“æœæ›´æ–°ç›´æ¥æŠ¥é”™å¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text">brew update

fatal: Could not resolve HEAD to a revision

Already up-to-date.
</code></pre>
<p>çœ‹ä¼¼ <code>Already up-to-date.</code>ï¼Œå®é™…ä¸Šä»€ä¹ˆéƒ½æ²¡æ›´æ–°ä¸‹æ¥ã€‚<br />
è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<h3><a id="1%E6%89%BE%E5%88%B0%E6%9B%B4%E6%96%B0%E6%97%B6%E5%80%99%E5%87%BA%E9%94%99%E7%9A%84%E8%B7%AF%E5%BE%84%E3%80%82" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. æ‰¾åˆ°æ›´æ–°æ—¶å€™å‡ºé”™çš„è·¯å¾„ã€‚</h3>
<pre><code class="language-plain_text">brew update --verbose

Checking if we need to fetch /usr/local/Homebrew...

Checking if we need to fetch /usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask...

Checking if we need to fetch /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core...

Fetching /usr/local/Homebrew...

Updating /usr/local/Homebrew...

Branch 'master' set up to track remote branch 'master' from 'origin'.

Switched to and reset branch 'master'

Your branch is up to date with 'origin/master'.

Switched to and reset branch 'stable'

Current branch stable is up to date.

Updating /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core...

fatal: Could not resolve HEAD to a revision

Already up-to-date.
</code></pre>
<p>ä¸éš¾çœ‹å‡ºå‡ºé”™çš„è·¯å¾„æ˜¯ <code>/usr/local/Homebrew/Library/Taps/homebrew/homebrew-core</code></p>
<h3><a id="2%E6%89%8B%E5%8A%A8%E6%9B%B4%E6%96%B0%E5%87%BA%E9%94%99%E8%B7%AF%E5%BE%84%E4%BB%93%E5%BA%93" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. æ‰‹åŠ¨æ›´æ–°å‡ºé”™è·¯å¾„ä»“åº“</h3>
<pre><code class="language-plain_text">cd /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core

git fetch --prune origin

git pull --rebase origin master

From https://github.com/Homebrew/homebrew-core

* branch                    master     -&gt; FETCH_HEAD
</code></pre>
<p><code>pull</code> æˆåŠŸåï¼Œå°±å·²ç»æ›´æ–°å®Œæˆï¼Œä¸æ”¾å¿ƒçš„å¯ä»¥å†æ‰§è¡Œä¸€ä¸‹ <code>brew update</code> çœ‹è¿˜æœ‰æ²¡æœ‰æŠ¥é”™ã€‚<br />
æ›´æ–°å®Œåï¼Œè‡ªç„¶å¯ä»¥æ­£å¸¸å®‰è£… <code>opencv</code> äº†ã€‚</p>
<h3><a id="ps%EF%BC%9A%E5%BB%BA%E8%AE%AE%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90%EF%BC%8C%E6%9C%89%E5%BC%BA%E8%BF%AB%E7%97%87%E7%9A%84%E5%8F%AF%E4%BB%A5%E4%B8%B4%E6%97%B6%E6%9B%B4%E6%8D%A2%E3%80%82" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>PSï¼š å»ºè®®æ›´æ¢å›½å†…æºï¼Œæœ‰å¼ºè¿«ç—‡çš„å¯ä»¥ä¸´æ—¶æ›´æ¢ã€‚</h3>
<pre><code class="language-plain_text"># ä¸´æ—¶æ›¿æ¢ï¼š
export HOMEBREW_BOTTLE_DOMAIN=&quot;https://mirrors.ustc.edu.cn/homebrew-bottles&quot;

# æ°¸ä¹…æ›¿æ¢
# å¯¹äº bash ç”¨æˆ·
echo 'export HOMEBREW_BOTTLE_DOMAIN=&quot;https://mirrors.ustc.edu.cn/homebrew-bottles&quot;' &gt;&gt; ~/.bash_profile

# å¯¹äº zsh ç”¨æˆ·
echo 'export HOMEBREW_BOTTLE_DOMAIN=&quot;https://mirrors.ustc.edu.cn/homebrew-bottles&quot;' &gt;&gt; ~/.zshrc
</code></pre>
<p>å‚è€ƒï¼š</p>
<ol>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/">https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/homebrew-bottles.html">https://mirrors.ustc.edu.cn/help/homebrew-bottles.html</a></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[LiSSAç¬¬å››ä»£è®¡æ—¶å™¨è¯´æ˜ä¹¦]]></title>
    <link href="www.dreameverafter.com/17001171363865.html"/>
    <updated>2023-11-16T14:45:36+08:00</updated>
    <id>www.dreameverafter.com/17001171363865.html</id>
    <content type="html"><![CDATA[
<p><img src="media/17001171363865/LiSSA-header.jpeg" alt="LiSSA-header" /></p>
<p>ä¹‹å‰ä¹°äº†ä¸€ä¸ªLISSAçš„è®¡æ—¶å™¨ä½œä¸ºæ—¶é—´ç®¡ç†çš„å·¥å…·ï¼Œå‘ç°è¯¥è®¡æ—¶å™¨æ˜¯ç›®å‰æˆ‘çœ‹åˆ°æœ€èƒ½æ»¡è¶³æˆ‘éœ€æ±‚çš„ã€‚å¦‚ä¸‹å‡ ä¸ªåŠŸèƒ½æ˜¯æˆ‘éœ€è¦çš„ã€‚</p>
<ol>
<li>å€’è®¡æ—¶</li>
<li>æ­£è®¡æ—¶</li>
<li>é—¹é’Ÿ</li>
<li>ç•ªèŒ„å·¥ä½œåŠæ—¶</li>
<li>æ”¯æŒèœ‚é¸£æé†’ï¼Œä¸¤çº§éŸ³é‡å¯è°ƒã€‚</li>
<li>æ”¯æŒæŒ¯åŠ¨æé†’ï¼ˆè¿™ä¸ªåŠŸèƒ½éå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨å®‰é™çš„åŠå…¬å®¤æˆ–è€…å›¾ä¹¦é¦†ï¼Œæ”¯æŒæŒ¯åŠ¨çš„è®¡æ—¶å™¨ä¸å¤šï¼Œæˆ‘ä¹Ÿæ˜¯èŠ±åŠŸå¤«æ‰¾äº†ä¸€é˜µå­æ‰æ‰¾åˆ°ï¼‰ã€‚</li>
</ol>
<p>ä»¥ä¸Šæ–‡å­—æ˜¯æˆ‘å€Ÿé‰´çš„ï¼Œç­‰æœ‰æ—¶é—´äº†è‡ªå·±æ¢³ç†ä¸€ä¸‹ï¼Œé‡ç‚¹æ˜¯è¯´æ˜ä¹¦ã€‚</p>
<p><img src="media/17001171363865/desc1.jpg" alt="desc1" /><br />
<img src="media/17001171363865/desc2.jpg" alt="desc2" /></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[C++ STLç®€ä»‹]]></title>
    <link href="www.dreameverafter.com/17001191890787.html"/>
    <updated>2023-11-16T15:19:49+08:00</updated>
    <id>www.dreameverafter.com/17001191890787.html</id>
    <content type="html"><![CDATA[
<!--more-->
<pre><code class="language-cpp">vector, å˜é•¿æ•°ç»„ï¼Œå€å¢çš„æ€æƒ³
    size()  è¿”å›å…ƒç´ ä¸ªæ•°
    empty()  è¿”å›æ˜¯å¦ä¸ºç©º
    clear()  æ¸…ç©º
    front()/back()
    push_back()/pop_back()
    begin()/end()
    []
    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼ŒæŒ‰å­—å…¸åº
</code></pre>
<pre><code class="language-cpp">pair&lt;int, int&gt;
    first, ç¬¬ä¸€ä¸ªå…ƒç´ 
    second, ç¬¬äºŒä¸ªå…ƒç´ 
    æ”¯æŒæ¯”è¾ƒè¿ç®—ï¼Œä»¥firstä¸ºç¬¬ä¸€å…³é”®å­—ï¼Œä»¥secondä¸ºç¬¬äºŒå…³é”®å­—ï¼ˆå­—å…¸åºï¼‰
</code></pre>
<pre><code class="language-cpp">stringï¼Œå­—ç¬¦ä¸²
    size()/length()  è¿”å›å­—ç¬¦ä¸²é•¿åº¦
    empty()
    clear()
    substr(èµ·å§‹ä¸‹æ ‡ï¼Œ(å­ä¸²é•¿åº¦))  è¿”å›å­ä¸²
    c_str()  è¿”å›å­—ç¬¦ä¸²æ‰€åœ¨å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€
</code></pre>
<pre><code class="language-cpp">queue, é˜Ÿåˆ—
    size()
    empty()
    push()  å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´ 
    front()  è¿”å›é˜Ÿå¤´å…ƒç´ 
    back()  è¿”å›é˜Ÿå°¾å…ƒç´ 
    pop()  å¼¹å‡ºé˜Ÿå¤´å…ƒç´ 

priority_queue, ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé»˜è®¤æ˜¯å¤§æ ¹å †
    size()
    empty()
    push()  æ’å…¥ä¸€ä¸ªå…ƒç´ 
    top()  è¿”å›å †é¡¶å…ƒç´ 
    pop()  å¼¹å‡ºå †é¡¶å…ƒç´ 
    å®šä¹‰æˆå°æ ¹å †çš„æ–¹å¼ï¼špriority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; q;
</code></pre>
<pre><code class="language-cpp">stack, æ ˆ
    size()
    empty()
    push()  å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªå…ƒç´ 
    top()  è¿”å›æ ˆé¡¶å…ƒç´ 
    pop()  å¼¹å‡ºæ ˆé¡¶å…ƒç´ 

deque, åŒç«¯é˜Ÿåˆ—
    size()
    empty()
    clear()
    front()/back()
    push_back()/pop_back()
    push_front()/pop_front()
    begin()/end()
    []
</code></pre>
<pre><code class="language-cpp">set, map, multiset, multimap, åŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒåŠ¨æ€ç»´æŠ¤æœ‰åºåºåˆ—
    size()
    empty()
    clear()
    begin()/end()
    ++, -- è¿”å›å‰é©±å’Œåç»§ï¼Œæ—¶é—´å¤æ‚åº¦ O(logn)

    set/multiset
        insert()  æ’å…¥ä¸€ä¸ªæ•°
        find()  æŸ¥æ‰¾ä¸€ä¸ªæ•°
        count()  è¿”å›æŸä¸€ä¸ªæ•°çš„ä¸ªæ•°
        erase()
            (1) è¾“å…¥æ˜¯ä¸€ä¸ªæ•°xï¼Œåˆ é™¤æ‰€æœ‰x   O(k + logn)
            (2) è¾“å…¥ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåˆ é™¤è¿™ä¸ªè¿­ä»£å™¨
        lower_bound()/upper_bound()
            lower_bound(x)  è¿”å›å¤§äºç­‰äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨
            upper_bound(x)  è¿”å›å¤§äºxçš„æœ€å°çš„æ•°çš„è¿­ä»£å™¨
    map/multimap
        insert()  æ’å…¥çš„æ•°æ˜¯ä¸€ä¸ªpair
        erase()  è¾“å…¥çš„å‚æ•°æ˜¯pairæˆ–è€…è¿­ä»£å™¨
        find()
        []  æ³¨æ„multimapä¸æ”¯æŒæ­¤æ“ä½œã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn)
        lower_bound()/upper_bound()
</code></pre>
<pre><code class="language-cpp">unordered_set, unordered_map, unordered_multiset, unordered_multimap, å“ˆå¸Œè¡¨
    å’Œä¸Šé¢ç±»ä¼¼ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)
    ä¸æ”¯æŒ lower_bound()/upper_bound()ï¼Œ è¿­ä»£å™¨çš„++ï¼Œ--
</code></pre>
<pre><code class="language-cpp">bitset, åœ§ä½
    bitset&lt;10000&gt; s;
    ~, &amp;, |, ^
    &gt;&gt;, &lt;&lt;
    ==, !=
    []

    count()  è¿”å›æœ‰å¤šå°‘ä¸ª1

    any()  åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª1
    none()  åˆ¤æ–­æ˜¯å¦å…¨ä¸º0

    set()  æŠŠæ‰€æœ‰ä½ç½®æˆ1
    set(k, v)  å°†ç¬¬kä½å˜æˆv
    reset()  æŠŠæ‰€æœ‰ä½å˜æˆ0
    flip()  ç­‰ä»·äº~
    flip(k) æŠŠç¬¬kä½å–å
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[å¸¸ç”¨ä»£ç æ¨¡æ¿2â€”â€”æ•°æ®ç»“æ„]]></title>
    <link href="www.dreameverafter.com/17001178696932.html"/>
    <updated>2023-11-16T14:57:49+08:00</updated>
    <id>www.dreameverafter.com/17001178696932.html</id>
    <content type="html"><![CDATA[
<h3><a id="%E5%8D%95%E9%93%BE%E8%A1%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å•é“¾è¡¨</h3>
<pre><code class="language-cpp">// headå­˜å‚¨é“¾è¡¨å¤´ï¼Œe[]å­˜å‚¨èŠ‚ç‚¹çš„å€¼ï¼Œne[]å­˜å‚¨èŠ‚ç‚¹çš„nextæŒ‡é’ˆï¼Œidxè¡¨ç¤ºå½“å‰ç”¨åˆ°äº†å“ªä¸ªèŠ‚ç‚¹
int head, e[N], ne[N], idx;

// åˆå§‹åŒ–
void init()
{
    head = -1;
    idx = 0;
}

// åœ¨é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•°a
void insert(int a)
{
    e[idx] = a, ne[idx] = head, head = idx ++ ;
}

// å°†å¤´ç»“ç‚¹åˆ é™¤ï¼Œéœ€è¦ä¿è¯å¤´ç»“ç‚¹å­˜åœ¨
void remove()
{
    head = ne[head];
}
</code></pre>
<h3><a id="%E5%8F%8C%E9%93%BE%E8%A1%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åŒé“¾è¡¨</h3>
<pre><code class="language-cpp">// e[]è¡¨ç¤ºèŠ‚ç‚¹çš„å€¼ï¼Œl[]è¡¨ç¤ºèŠ‚ç‚¹çš„å·¦æŒ‡é’ˆï¼Œr[]è¡¨ç¤ºèŠ‚ç‚¹çš„å³æŒ‡é’ˆï¼Œidxè¡¨ç¤ºå½“å‰ç”¨åˆ°äº†å“ªä¸ªèŠ‚ç‚¹
int e[N], l[N], r[N], idx;

// åˆå§‹åŒ–
void init()
{
    //0æ˜¯å·¦ç«¯ç‚¹ï¼Œ1æ˜¯å³ç«¯ç‚¹
    r[0] = 1, l[1] = 0;
    idx = 2;
}

// åœ¨èŠ‚ç‚¹açš„å³è¾¹æ’å…¥ä¸€ä¸ªæ•°x
void insert(int a, int x)
{
    e[idx] = x;
    l[idx] = a, r[idx] = r[a];
    l[r[a]] = idx, r[a] = idx ++ ;
}

// åˆ é™¤èŠ‚ç‚¹a
void remove(int a)
{
    l[r[a]] = l[a];
    r[l[a]] = r[a];
}
</code></pre>
<h3><a id="%E6%A0%88" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ ˆ</h3>
<pre><code class="language-cpp">// ttè¡¨ç¤ºæ ˆé¡¶
int stk[N], tt = 0;

// å‘æ ˆé¡¶æ’å…¥ä¸€ä¸ªæ•°
stk[ ++ tt] = x;

// ä»æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªæ•°
tt -- ;

// æ ˆé¡¶çš„å€¼
stk[tt];

// åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º
if (tt &gt; 0)
{

}
</code></pre>
<h3><a id="%E9%98%9F%E5%88%97" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é˜Ÿåˆ—</h3>
<p>æ™®é€šé˜Ÿåˆ—ï¼š</p>
<pre><code class="language-cpp">// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾
int q[N], hh = 0, tt = -1;

// å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•°
q[ ++ tt] = x;

// ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°
hh ++ ;

// é˜Ÿå¤´çš„å€¼
q[hh];

// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
if (hh &lt;= tt)
{

}
</code></pre>
<p>å¾ªç¯é˜Ÿåˆ—ï¼š</p>
<pre><code class="language-cpp">// hh è¡¨ç¤ºé˜Ÿå¤´ï¼Œttè¡¨ç¤ºé˜Ÿå°¾çš„åä¸€ä¸ªä½ç½®
int q[N], hh = 0, tt = 0;

// å‘é˜Ÿå°¾æ’å…¥ä¸€ä¸ªæ•°
q[tt ++ ] = x;
if (tt == N) tt = 0;

// ä»é˜Ÿå¤´å¼¹å‡ºä¸€ä¸ªæ•°
hh ++ ;
if (hh == N) hh = 0;

// é˜Ÿå¤´çš„å€¼
q[hh];

// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
if (hh != tt)
{

}
</code></pre>
<h3><a id="%E5%8D%95%E8%B0%83%E6%A0%88" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å•è°ƒæ ˆ</h3>
<pre><code class="language-cpp">å¸¸è§æ¨¡å‹ï¼šæ‰¾å‡ºæ¯ä¸ªæ•°å·¦è¾¹ç¦»å®ƒæœ€è¿‘çš„æ¯”å®ƒå¤§/å°çš„æ•°
int tt = 0;
for (int i = 1; i &lt;= n; i ++ )
{
    while (tt &amp;&amp; check(stk[tt], i)) tt -- ;
    stk[ ++ tt] = i;
}
</code></pre>
<h3><a id="%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å•è°ƒé˜Ÿåˆ—</h3>
<pre><code class="language-cpp">å¸¸è§æ¨¡å‹ï¼šæ‰¾å‡ºæ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼/æœ€å°å€¼
int hh = 0, tt = -1;
for (int i = 0; i &lt; n; i ++ )
{
    while (hh &lt;= tt &amp;&amp; check_out(q[hh])) hh ++ ;  // åˆ¤æ–­é˜Ÿå¤´æ˜¯å¦æ»‘å‡ºçª—å£
    while (hh &lt;= tt &amp;&amp; check(q[tt], i)) tt -- ;
    q[ ++ tt] = i;
}
</code></pre>
<h3><a id="kmp" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>KMP</h3>
<pre><code class="language-cpp">// s[]æ˜¯é•¿æ–‡æœ¬ï¼Œp[]æ˜¯æ¨¡å¼ä¸²ï¼Œnæ˜¯sçš„é•¿åº¦ï¼Œmæ˜¯pçš„é•¿åº¦
æ±‚æ¨¡å¼ä¸²çš„Nextæ•°ç»„ï¼š
for (int i = 2, j = 0; i &lt;= m; i ++ )
{
    while (j &amp;&amp; p[i] != p[j + 1]) j = ne[j];
    if (p[i] == p[j + 1]) j ++ ;
    ne[i] = j;
}

// åŒ¹é…
for (int i = 1, j = 0; i &lt;= n; i ++ )
{
    while (j &amp;&amp; s[i] != p[j + 1]) j = ne[j];
    if (s[i] == p[j + 1]) j ++ ;
    if (j == m)
    {
        j = ne[j];
        // åŒ¹é…æˆåŠŸåçš„é€»è¾‘
    }
}
</code></pre>
<h3><a id="trie%E6%A0%91" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Trieæ ‘</h3>
<pre><code class="language-cpp">int son[N][26], cnt[N], idx;
// 0å·ç‚¹æ—¢æ˜¯æ ¹èŠ‚ç‚¹ï¼Œåˆæ˜¯ç©ºèŠ‚ç‚¹
// son[][]å­˜å‚¨æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹
// cnt[]å­˜å‚¨ä»¥æ¯ä¸ªèŠ‚ç‚¹ç»“å°¾çš„å•è¯æ•°é‡

// æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²
void insert(char *str)
{
    int p = 0;
    for (int i = 0; str[i]; i ++ )
    {
        int u = str[i] - 'a';
        if (!son[p][u]) son[p][u] = ++ idx;
        p = son[p][u];
    }
    cnt[p] ++ ;
}

// æŸ¥è¯¢å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°
int query(char *str)
{
    int p = 0;
    for (int i = 0; str[i]; i ++ )
    {
        int u = str[i] - 'a';
        if (!son[p][u]) return 0;
        p = son[p][u];
    }
    return cnt[p];
}
</code></pre>
<h3><a id="%E5%B9%B6%E6%9F%A5%E9%9B%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å¹¶æŸ¥é›†</h3>
<pre><code class="language-cpp">(1)æœ´ç´ å¹¶æŸ¥é›†ï¼š

    int p[N]; //å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹

    // è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹
    int find(int x)
    {
        if (p[x] != x) p[x] = find(p[x]);
        return p[x];
    }

    // åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n
    for (int i = 1; i &lt;= n; i ++ ) p[i] = i;

    // åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š
    p[find(a)] = find(b);

(2)ç»´æŠ¤sizeçš„å¹¶æŸ¥é›†ï¼š

    int p[N], size[N];
    //p[]å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹, size[]åªæœ‰ç¥–å®—èŠ‚ç‚¹çš„æœ‰æ„ä¹‰ï¼Œè¡¨ç¤ºç¥–å®—èŠ‚ç‚¹æ‰€åœ¨é›†åˆä¸­çš„ç‚¹çš„æ•°é‡

    // è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹
    int find(int x)
    {
        if (p[x] != x) p[x] = find(p[x]);
        return p[x];
    }

    // åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n
    for (int i = 1; i &lt;= n; i ++ )
    {
        p[i] = i;
        size[i] = 1;
    }

    // åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š
    size[find(b)] += size[find(a)];
    p[find(a)] = find(b);

(3)ç»´æŠ¤åˆ°ç¥–å®—èŠ‚ç‚¹è·ç¦»çš„å¹¶æŸ¥é›†ï¼š

    int p[N], d[N];
    //p[]å­˜å‚¨æ¯ä¸ªç‚¹çš„ç¥–å®—èŠ‚ç‚¹, d[x]å­˜å‚¨xåˆ°p[x]çš„è·ç¦»

    // è¿”å›xçš„ç¥–å®—èŠ‚ç‚¹
    int find(int x)
    {
        if (p[x] != x)
        {
            int u = find(p[x]);
            d[x] += d[p[x]];
            p[x] = u;
        }
        return p[x];
    }

    // åˆå§‹åŒ–ï¼Œå‡å®šèŠ‚ç‚¹ç¼–å·æ˜¯1~n
    for (int i = 1; i &lt;= n; i ++ )
    {
        p[i] = i;
        d[i] = 0;
    }

    // åˆå¹¶aå’Œbæ‰€åœ¨çš„ä¸¤ä¸ªé›†åˆï¼š
    p[find(a)] = find(b);
    d[find(a)] = distance; // æ ¹æ®å…·ä½“é—®é¢˜ï¼Œåˆå§‹åŒ–find(a)çš„åç§»é‡
</code></pre>
<h3><a id="%E5%A0%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å †</h3>
<pre><code class="language-cpp">// h[N]å­˜å‚¨å †ä¸­çš„å€¼, h[1]æ˜¯å †é¡¶ï¼Œxçš„å·¦å„¿å­æ˜¯2x, å³å„¿å­æ˜¯2x + 1
// ph[k]å­˜å‚¨ç¬¬kä¸ªæ’å…¥çš„ç‚¹åœ¨å †ä¸­çš„ä½ç½®
// hp[k]å­˜å‚¨å †ä¸­ä¸‹æ ‡æ˜¯kçš„ç‚¹æ˜¯ç¬¬å‡ ä¸ªæ’å…¥çš„
int h[N], ph[N], hp[N], size;

// äº¤æ¢ä¸¤ä¸ªç‚¹ï¼ŒåŠå…¶æ˜ å°„å…³ç³»
void heap_swap(int a, int b)
{
    swap(ph[hp[a]],ph[hp[b]]);
    swap(hp[a], hp[b]);
    swap(h[a], h[b]);
}

void down(int u)
{
    int t = u;
    if (u * 2 &lt;= size &amp;&amp; h[u * 2] &lt; h[t]) t = u * 2;
    if (u * 2 + 1 &lt;= size &amp;&amp; h[u * 2 + 1] &lt; h[t]) t = u * 2 + 1;
    if (u != t)
    {
        heap_swap(u, t);
        down(t);
    }
}

void up(int u)
{
    while (u / 2 &amp;&amp; h[u] &lt; h[u / 2])
    {
        heap_swap(u, u / 2);
        u &gt;&gt;= 1;
    }
}

// O(n)å»ºå †
for (int i = n / 2; i; i -- ) down(i);
</code></pre>
<h3><a id="%E4%B8%80%E8%88%AC%E5%93%88%E5%B8%8C" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸€èˆ¬å“ˆå¸Œ</h3>
<pre><code class="language-cpp">(1) æ‹‰é“¾æ³•
    int h[N], e[N], ne[N], idx;

    // å‘å“ˆå¸Œè¡¨ä¸­æ’å…¥ä¸€ä¸ªæ•°
    void insert(int x)
    {
        int k = (x % N + N) % N;
        e[idx] = x;
        ne[idx] = h[k];
        h[k] = idx ++ ;
    }

    // åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥è¯¢æŸä¸ªæ•°æ˜¯å¦å­˜åœ¨
    bool find(int x)
    {
        int k = (x % N + N) % N;
        for (int i = h[k]; i != -1; i = ne[i])
            if (e[i] == x)
                return true;

        return false;
    }

(2) å¼€æ”¾å¯»å€æ³•
    int h[N];

    // å¦‚æœxåœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xçš„ä¸‹æ ‡ï¼›å¦‚æœxä¸åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè¿”å›xåº”è¯¥æ’å…¥çš„ä½ç½®
    int find(int x)
    {
        int t = (x % N + N) % N;
        while (h[t] != null &amp;&amp; h[t] != x)
        {
            t ++ ;
            if (t == N) t = 0;
        }
        return t;
    }
</code></pre>
<h3><a id="%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%93%88%E5%B8%8C" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å­—ç¬¦ä¸²å“ˆå¸Œ</h3>
<pre><code class="language-cpp">æ ¸å¿ƒæ€æƒ³ï¼šå°†å­—ç¬¦ä¸²çœ‹æˆPè¿›åˆ¶æ•°ï¼ŒPçš„ç»éªŒå€¼æ˜¯131æˆ–13331ï¼Œå–è¿™ä¸¤ä¸ªå€¼çš„å†²çªæ¦‚ç‡ä½
å°æŠ€å·§ï¼šå–æ¨¡çš„æ•°ç”¨2^64ï¼Œè¿™æ ·ç›´æ¥ç”¨unsigned long longå­˜å‚¨ï¼Œæº¢å‡ºçš„ç»“æœå°±æ˜¯å–æ¨¡çš„ç»“æœ

typedef unsigned long long ULL;
ULL h[N], p[N]; // h[k]å­˜å‚¨å­—ç¬¦ä¸²å‰kä¸ªå­—æ¯çš„å“ˆå¸Œå€¼, p[k]å­˜å‚¨ P^k mod 2^64

// åˆå§‹åŒ–
p[0] = 1;
for (int i = 1; i &lt;= n; i ++ )
{
    h[i] = h[i - 1] * P + str[i];
    p[i] = p[i - 1] * P;
}

// è®¡ç®—å­ä¸² str[l ~ r] çš„å“ˆå¸Œå€¼
ULL get(int l, int r)
{
    return h[r] - h[l - 1] * p[r - l + 1];
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[å¸¸ç”¨ä»£ç æ¨¡æ¿1â€”â€”åŸºç¡€ç®—æ³•]]></title>
    <link href="www.dreameverafter.com/17001178251653.html"/>
    <updated>2023-11-16T14:57:05+08:00</updated>
    <id>www.dreameverafter.com/17001178251653.html</id>
    <content type="html"><![CDATA[
<h3><a id="%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å¿«é€Ÿæ’åºç®—æ³•æ¨¡æ¿</h3>
<pre><code class="language-cpp">void quick_sort(int q[], int l, int r)
{
    if (l &gt;= r) return;

		int i = l - 1, j = r + 1, x = q[(l + r) &gt;&gt; 1];
    while (i &lt; j)
    {
        do i ++ ; while (q[i] &lt; x);
        do j -- ; while (q[j] &gt; x);
        if (i &lt; j) swap(q[i], q[j]);
    }
    quick_sort(q, l, j), quick_sort(q, j + 1, r);
}
</code></pre>
<h3><a id="%E5%BF%AB%E9%80%9F%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å¿«é€Ÿé€‰æ‹©ç®—æ³•æ¨¡æ¿</h3>
<pre><code class="language-cpp">int quick_select(int q[], int l, int r, int k) {

    if (l &gt;= r) return q[l];
    int i = l - 1, j = r + 1, x = q[(l + r) &gt;&gt; 1];

    while (i &lt; j) {
        while (q[++i] &lt; x);
        while (q[--j] &gt; x);
        if (i &lt; j) swap(q[i],  q[j]);
    }

    if (j - l + 1 &gt;= k) return quick_select(q, l, j, k);
    else return quick_select(q, j + 1, r, k - (j - l + 1));
}
</code></pre>
<h3><a id="%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å½’å¹¶æ’åºç®—æ³•æ¨¡æ¿</h3>
<pre><code class="language-cpp">const int N = 1e5 + 10; // æ•°ç»„å…ƒç´ ä¸ªæ•°

int a[N], tmp[N];

void merge_sort(int q[], int l, int r)
{
    if (l &gt;= r) return;

    int mid = l + r &gt;&gt; 1;
    merge_sort(q, l, mid);
    merge_sort(q, mid + 1, r);

    int k = 0, i = l, j = mid + 1;
    while (i &lt;= mid &amp;&amp; j &lt;= r)
        if (q[i] &lt;= q[j]) tmp[k ++ ] = q[i ++ ];
        else tmp[k ++ ] = q[j ++ ];

    while (i &lt;= mid) tmp[k ++ ] = q[i ++ ];
    while (j &lt;= r) tmp[k ++ ] = q[j ++ ];

    for (i = l, j = 0; i &lt;= r; i ++, j ++ ) q[i] = tmp[j];
}
</code></pre>
<h3><a id="%E6%95%B4%E6%95%B0%E4%BA%8C%E5%88%86%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ•´æ•°äºŒåˆ†ç®—æ³•æ¨¡æ¿</h3>
<pre><code class="language-cpp">bool check(int x) {/* ... */} // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨

// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid]å’Œ[mid + 1, r]æ—¶ä½¿ç”¨ï¼š
int bsearch_1(int l, int r)
{
    while (l &lt; r)
    {
        int mid = l + r &gt;&gt; 1;
        if (check(mid)) r = mid;    // check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨
        else l = mid + 1;
    }
    return l;
}
// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid - 1]å’Œ[mid, r]æ—¶ä½¿ç”¨ï¼š
int bsearch_2(int l, int r)
{
    while (l &lt; r)
    {
        int mid = l + r + 1 &gt;&gt; 1;
        if (check(mid)) l = mid;
        else r = mid - 1;
    }
    return l;
}
</code></pre>
<h3><a id="%E6%B5%AE%E7%82%B9%E6%95%B0%E4%BA%8C%E5%88%86%E7%AE%97%E6%B3%95%E6%A8%A1%E6%9D%BF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æµ®ç‚¹æ•°äºŒåˆ†ç®—æ³•æ¨¡æ¿</h3>
<pre><code class="language-cpp">bool check(double x) {/* ... */} // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨

double bsearch_3(double l, double r)
{
    const double eps = 1e-6;   // eps è¡¨ç¤ºç²¾åº¦ï¼Œå–å†³äºé¢˜ç›®å¯¹ç²¾åº¦çš„è¦æ±‚
    while (r - l &gt; eps)
    {
        double mid = (l + r) / 2;
        if (check(mid)) r = mid;
        else l = mid;
    }
    return l;
}
</code></pre>
<h3><a id="%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%8A%A0%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é«˜ç²¾åº¦åŠ æ³•</h3>
<pre><code class="language-cpp">// C = A + B, A &gt;= 0, B &gt;= 0
vector&lt;int&gt; add(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B)
{
    if (A.size() &lt; B.size()) return add(B, A);

    vector&lt;int&gt; C;
    int t = 0;
    for (int i = 0; i &lt; A.size(); i ++ )
    {
        t += A[i];
        if (i &lt; B.size()) t += B[i];
        C.push_back(t % 10);
        t /= 10;
    }

    if (t) C.push_back(t);
    return C;
}
</code></pre>
<h3><a id="%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%87%8F%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é«˜ç²¾åº¦å‡æ³•</h3>
<pre><code class="language-cpp">bool cmp(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B)
{
    if (A.size() != B.size()) return A.size() &gt; B.size();

    for (int i = A.size() - 1; i &gt;= 0; i -- )
        if (A[i] != B[i])
            return A[i] &gt; B[i];

    return true;
}

// C = A - B, æ»¡è¶³A &gt;= B, A &gt;= 0, B &gt;= 0
vector&lt;int&gt; sub(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B)
{
    vector&lt;int&gt; C;
    for (int i = 0, t = 0; i &lt; A.size(); i ++ )
    {
        t = A[i] - t;
        if (i &lt; B.size()) t -= B[i];
        C.push_back((t + 10) % 10);
        if (t &lt; 0) t = 1;
        else t = 0;
    }

    while (C.size() &gt; 1 &amp;&amp; C.back() == 0) C.pop_back();
    return C;
}
</code></pre>
<h3><a id="%E9%AB%98%E7%B2%BE%E5%BA%A6%E4%B9%98%E4%BD%8E%E7%B2%BE%E5%BA%A6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é«˜ç²¾åº¦ä¹˜ä½ç²¾åº¦</h3>
<pre><code class="language-cpp">// C = A * b, A &gt;= 0, b &gt; 0
vector&lt;int&gt; mul(vector&lt;int&gt; &amp;A, int b)
{
    vector&lt;int&gt; C;

    int t = 0;
    for (int i = 0; i &lt; A.size() || t; i ++ )
    {
        if (i &lt; A.size()) t += A[i] * b;
        C.push_back(t % 10);
        t /= 10;
    }

    while (C.size() &gt; 1 &amp;&amp; C.back() == 0) C.pop_back();

    return C;
}
</code></pre>
<h3><a id="%E9%AB%98%E7%B2%BE%E5%BA%A6%E9%99%A4%E4%BB%A5%E4%BD%8E%E7%B2%BE%E5%BA%A6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é«˜ç²¾åº¦é™¤ä»¥ä½ç²¾åº¦</h3>
<pre><code class="language-cpp">// A / b = C ... r, A &gt;= 0, b &gt; 0
vector&lt;int&gt; div(vector&lt;int&gt; &amp;A, int b, int &amp;r)
{
    vector&lt;int&gt; C;
    r = 0;
    for (int i = A.size() - 1; i &gt;= 0; i -- )
    {
        r = r * 10 + A[i];
        C.push_back(r / b);
        r %= b;
    }
    reverse(C.begin(), C.end());
    while (C.size() &gt; 1 &amp;&amp; C.back() == 0) C.pop_back();
    return C;
}
</code></pre>
<h3><a id="%E4%B8%80%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸€ç»´å‰ç¼€å’Œ</h3>
<pre><code class="language-cpp">S[i] = a[1] + a[2] + ... a[i]
a[l] + ... + a[r] = S[r] - S[l - 1]
</code></pre>
<h3><a id="%E4%BA%8C%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>äºŒç»´å‰ç¼€å’Œ</h3>
<pre><code class="language-cpp">S[i, j] = ç¬¬iè¡Œjåˆ—æ ¼å­å·¦ä¸Šéƒ¨åˆ†æ‰€æœ‰å…ƒç´ çš„å’Œ
ä»¥(x1, y1)ä¸ºå·¦ä¸Šè§’ï¼Œ(x2, y2)ä¸ºå³ä¸‹è§’çš„å­çŸ©é˜µçš„å’Œä¸ºï¼š
S[x2, y2] - S[x1 - 1, y2] - S[x2, y1 - 1] + S[x1 - 1, y1 - 1]
</code></pre>
<h3><a id="%E4%B8%80%E7%BB%B4%E5%B7%AE%E5%88%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸€ç»´å·®åˆ†</h3>
<pre><code class="language-cpp">ç»™åŒºé—´[l, r]ä¸­çš„æ¯ä¸ªæ•°åŠ ä¸Šcï¼šB[l] += c, B[r + 1] -= c
</code></pre>
<h3><a id="%E4%BA%8C%E7%BB%B4%E5%B7%AE%E5%88%86" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>äºŒç»´å·®åˆ†</h3>
<pre><code class="language-cpp">ç»™ä»¥(x1, y1)ä¸ºå·¦ä¸Šè§’ï¼Œ(x2, y2)ä¸ºå³ä¸‹è§’çš„å­çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ åŠ ä¸Šcï¼š
S[x1, y1] += c, S[x2 + 1, y1] -= c, S[x1, y2 + 1] -= c, S[x2 + 1, y2 + 1] += c
</code></pre>
<h3><a id="%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åŒæŒ‡é’ˆç®—æ³•</h3>
<pre><code class="language-cpp">for (int i = 0, j = 0; i &lt; n; i ++ )
{
    while (j &lt; i &amp;&amp; check(i, j)) j ++ ;

    // å…·ä½“é—®é¢˜çš„é€»è¾‘
}
å¸¸è§é—®é¢˜åˆ†ç±»ï¼š
    (1) å¯¹äºä¸€ä¸ªåºåˆ—ï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆç»´æŠ¤ä¸€æ®µåŒºé—´
    (2) å¯¹äºä¸¤ä¸ªåºåˆ—ï¼Œç»´æŠ¤æŸç§æ¬¡åºï¼Œæ¯”å¦‚å½’å¹¶æ’åºä¸­åˆå¹¶ä¸¤ä¸ªæœ‰åºåºåˆ—çš„æ“ä½œ
</code></pre>
<h3><a id="%E7%A6%BB%E6%95%A3%E5%8C%96" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç¦»æ•£åŒ–</h3>
<pre><code class="language-cpp">vector&lt;int&gt; alls; // å­˜å‚¨æ‰€æœ‰å¾…ç¦»æ•£åŒ–çš„å€¼
sort(alls.begin(), alls.end()); // å°†æ‰€æœ‰å€¼æ’åº
alls.erase(unique(alls.begin(), alls.end()), alls.end());   // å»æ‰é‡å¤å…ƒç´ 

// äºŒåˆ†æ±‚å‡ºxå¯¹åº”çš„ç¦»æ•£åŒ–çš„å€¼
int find(int x) // æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½®
{
    int l = 0, r = alls.size() - 1;
    while (l &lt; r)
    {
        int mid = l + r &gt;&gt; 1;
        if (alls[mid] &gt;= x) r = mid;
        else l = mid + 1;
    }
    return r + 1; // æ˜ å°„åˆ°1, 2, ...n
}
</code></pre>
<h3><a id="%E5%8C%BA%E9%97%B4%E5%90%88%E5%B9%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åŒºé—´åˆå¹¶</h3>
<pre><code class="language-cpp">// å°†æ‰€æœ‰å­˜åœ¨äº¤é›†çš„åŒºé—´åˆå¹¶
void merge(vector&lt;PII&gt; &amp;segs)
{
    vector&lt;PII&gt; res;

    sort(segs.begin(), segs.end());

    int st = -2e9, ed = -2e9;
    for (auto seg : segs)
        if (ed &lt; seg.first)
        {
            if (st != -2e9) res.push_back({st, ed});
            st = seg.first, ed = seg.second;
        }
        else ed = max(ed, seg.second);

    if (st != -2e9) res.push_back({st, ed});

    segs = res;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ä»£ç å¤§å…¨â€”â€”1.æ¬¢è¿è¿›å…¥è½¯ä»¶æ„å»ºçš„ä¸–ç•Œ]]></title>
    <link href="www.dreameverafter.com/17001195727549.html"/>
    <updated>2023-11-16T15:26:12+08:00</updated>
    <id>www.dreameverafter.com/17001195727549.html</id>
    <content type="html"><![CDATA[
<p>ä»¥ä¸‹æ˜¯é˜…è¯»ä»£ç å¤§å…¨æ‘˜æŠ„ã€‚</p>
<ol>
<li>è½¯ä»¶æ„å»ºæ˜¯è½¯ä»¶å¼€å‘çš„æ ¸å¿ƒæ´»åŠ¨ï¼›æ„å»ºæ´»åŠ¨æ˜¯æ¯ä¸ªé¡¹ç›®ä¸­å”¯ä¸€ä¸€é¡¹å¿…ä¸å¯å°‘çš„å·¥ä½œã€‚</li>
<li>è½¯ä»¶æ„å»ºçš„ä¸»è¦æ´»åŠ¨åŒ…æ‹¬ï¼šè¯¦ç»†è®¾è®¡ã€ç¼–ç ã€è°ƒè¯•ã€é›†æˆã€å¼€å‘è€…æµ‹è¯•ï¼ˆdevelope textingï¼‰ï¼ˆåŒ…æ‹¬å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼‰ã€‚</li>
<li>æ„å»ºä¹Ÿå¸¸è¢«ç§°ä½œâ€œç¼–ç â€å’Œâ€œç¼–ç¨‹â€ã€‚</li>
<li>æ„å»ºæ´»åŠ¨çš„è´¨é‡å¯¹è½¯ä»¶çš„è´¨é‡æœ‰ç€å®è´¨æ€§çš„å½±å“ã€‚</li>
<li>æœ€åï¼Œä½ å¯¹â€œå¦‚ä½•è¿›è¡Œæ„å»ºâ€çš„ç†è§£ç¨‹åº¦ï¼Œå†³å®šäº†ä½ è¿™åç¨‹åºå‘˜çš„ä¼˜ç§€ç¨‹åº¦â€”â€”è¿™å°±æ˜¯æœ¬ä¹¦å…¶ä½™éƒ¨åˆ†çš„ä¸»é¢˜äº†ã€‚</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç»ˆäºçœ‹å®Œäº†ã€Šæ‰å…‹Â·æ–½å¥ˆå¾·ç‰ˆæ­£ä¹‰è”ç›Ÿã€‹]]></title>
    <link href="www.dreameverafter.com/17001155269640.html"/>
    <updated>2023-11-16T14:18:46+08:00</updated>
    <id>www.dreameverafter.com/17001155269640.html</id>
    <content type="html"><![CDATA[
<p>å¼€å§‹æˆ‘æ˜¯æ²¡æƒ³åˆ°çœ‹ä¸€ä¸ªç”µå½±ä¼šè¿™ä¹ˆéš¾ã€‚</p>
<!--more-->
<p>ä¸Šä¸ªæœˆçªç„¶å„ç§ç¾¤é‡Œéƒ½åœ¨è¯´æ‰å¯¼ç‰ˆçš„æ­£ä¹‰è”ç›Ÿï¼Œ<a href="https://movie.douban.com/subject/35076714/">è±†ç“£</a>ä¸Šä¸€æŸ¥åˆ†è¿˜å¾ˆé«˜ï¼Œç„¶åæˆ‘ä¹Ÿå°±è·Ÿé£ä¸‹äº†ä¸ªå‡†å¤‡çœ‹çœ‹ï¼Œä¸€æ‰“å¼€å››ä¸ªå°æ—¶å·®ç‚¹åŠé€€ï¼Œç„¶åçœ‹äº†ä¸€ä¸‹å½±è¯„ï¼Œå¤§æ¦‚æ„æ€æ˜¯ä¹‹å‰ä¸¤ä¸ªå°æ—¶ç‰ˆæœ¬æ ¹æœ¬è®²ä¸æ¸…æ¥šï¼Œæ‰€ä»¥è¿˜æ˜¯é€‰æ‹©çœ‹ä¸‹å»ã€‚</p>
<p>ä¸è¿‡çœ‹çš„è¿‡ç¨‹åˆé‡åˆ°äº†ä¸€äº›é˜»åŠ›ï¼Œå­—å¹•æ²¡æœ‰åŒè¯­çš„ï¼Œéƒ½æ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹ç¬¬äºŒå­—å¹•ï¼Œä½†æ˜¯é‚£æ ·ä¸¤ä¸ªå­—å¹•ä½ç½®å·®çš„å°±å¾ˆè¿œï¼Œä½“éªŒå¾ˆä¸çˆ½ã€‚å†åŠ ä¸Šè¿™ä¸ªå¥½åƒå¾—ç”¨æ”¯æŒHDRçš„æ˜¾ç¤ºå™¨ï¼Œæ‰èƒ½çœ‹å‡ºæ¥æ•ˆæœï¼Œæ™®é€šæ˜¾ç¤ºå™¨çœ‹çš„è¯ï¼Œé¢œè‰²å¾ˆæ·¡ï¼Œæ­£å¥½æˆ‘é‚£ä¸ªæ˜¾ç¤ºå™¨çš„HDRå¾ˆæ¸£ï¼Œè·Ÿæ²¡æœ‰ä¸€æ ·ï¼Œåæ¥ç”¨æ’­æ”¾å™¨æ¨¡æ‹Ÿäº†ä¸€ä¸‹ï¼Œé¢œè‰²å‡‘æ´»èƒ½çœ‹äº†ã€‚</p>
<p>ç»è¿‡ä¸Šæ¬¡ç§ç§çš„é˜»ç¢ï¼Œå†çœ‹äº†ä¸¤ä¸ªå°æ•…äº‹åï¼Œæš‚åœäº†ä¸€ä¸‹ï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ã€‚æ˜¨å¤©å¬è¯´å›½å†…çš„è§†é¢‘å¹³å°ä¸Šæ¶äº†è¿™ä¸ªç”µå½±ï¼Œä»Šå¤©ä¸Šåˆè¯•çœ‹æ„Ÿè§‰ä¸è¿‡ï¼Œå­—å¹•æ˜¯åŒè¯­çš„ï¼Œé¢œè‰²ä¼¼ä¹ä¹Ÿæ­£å¸¸äº†ï¼ˆä¹Ÿè®¸æ˜¯æˆ‘çš„çœ¼ç›å·²ç»é€‚åº”äº†è¿™ä¸ªç”µå½±çš„é¢œè‰²ï¼‰ï¼Œæ‰€ä»¥å°±æ–¥èµ„å…­å¤§æ´‹è´­ä¹°äº†ç”µå½±ï¼Œä¸€å£æ°”çœ‹å®Œäº†å®ƒã€‚</p>
<p>çœ‹åˆ°ä¸­é—´æ¸æ¸å‘ç°ï¼Œæˆ‘ä¼¼ä¹ä¹‹å‰è·Ÿåª³å¦‡åœ¨ç”µå½±é™¢çœ‹è¿‡é‚£ä¸ªä¸¤å°æ—¶ç‰ˆçš„ï¼Œæ¥ç€å°±åœ¨è±†ç“£ä¸ŠæŸ¥äº†ä¸€ä¸‹ï¼Œçš„ç¡®åœ¨2017å¹´11æœˆ18æ—¥çœ‹è¿‡äº†ï¼Œå†æ¬¡ç»™æˆ‘æƒŠäººçš„é—å¿˜èƒ½åŠ›è·ªäº†ï¼Œå¯èƒ½å½“æ—¶ä¹Ÿå°±æ˜¯çœ‹äº†ä¸ªçƒ­é—¹ã€‚æ‰å¯¼ç‰ˆçš„ç¡®æ•…äº‹è®²å¾—æ›´æ¸…æ™°ä¸€äº›ï¼Œè€Œä¸”ä¹Ÿå¤Ÿå¸å¼•äººï¼Œä¸ä¼šè§‰å¾—å†—é•¿ä¹å‘³ã€‚æ‰“æ–—é•œå¤´ä¹Ÿéå¸¸ç²¾å½©ï¼Œè¯¥ç‡ƒçš„åœ°æ–¹ä¹Ÿå¾ˆç‡ƒã€‚åˆ«çš„å°±ä¸è¯´ä»€ä¹ˆäº†ï¼Œè‚šå­é‡Œæœ¬æ¥å°±æ²¡å•¥ä¸œè¥¿ï¼Œæ™ƒè¡ä¸å‡ºæ¥ä»€ä¹ˆï¼Œè±†ç“£ä¸Šå„ç§å½±è¯„ä¹Ÿè®²äº†ä¸å°‘ã€‚æœ€åæä¸€å¥ï¼Œé—ªç”µä¾ æ‰æ˜¯yydsï¼</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è§‚ã€Šè§‚å±±æµ·ã€‹]]></title>
    <link href="www.dreameverafter.com/17001174083229.html"/>
    <updated>2023-11-16T14:50:08+08:00</updated>
    <id>www.dreameverafter.com/17001174083229.html</id>
    <content type="html"><![CDATA[
<p>ä¹…é—»ã€Šå±±æµ·ç»ã€‹å¤§åäº†ï¼Œå´ä¸€ç›´æ²¡æœ‰ç»†è‡´çš„çœ‹è¿‡ã€‚å¯èƒ½æ˜¯æ½œæ„è¯†è§‰å¾—çœ‹è¿™æœ¬ä¹¦éœ€è¦ç²¾å¿ƒæŒ‘é€‰ä¸€ä¸ªç‰ˆæœ¬ï¼Œç„¶åæ–‹æˆ’ä¸‰æ—¥æ²æµ´æ›´è¡£æ‰èƒ½å¼€å§‹çœ‹å§ã€‚è¿™æ ·çš„æƒ³æ³•åè€Œé€ æˆçš„æå¤§çš„è¡Œä¸ºæˆæœ¬ï¼Œç»“æœå°±æ˜¯ç›´åˆ°ä»Šå¤©æ‰æœ‰ä¸€ä¸ªçœ‹è¿™æœ¬ä¹¦çš„å¥‘æœºï¼Œæ²¡é”™ï¼Œè¿˜æ˜¯è¢«åŠ¨çš„ã€‚</p>
<p>ã€Šè§‚å±±æµ·ã€‹æ˜¯åª³å¦‡å‰ä¸¤å¹´ä¹°çš„ï¼Œå½“æ—¶å¥¹ä¸çŸ¥ä½•æ•…æ–‡é’æ°”è´¨çˆ†ç‚¸ï¼Œç„¶åå°±ä¹°äº†è¿™æœ¬ä¹¦ã€‚æœ¬èº«æˆ‘æ˜¯æ²¡æ‰“ç®—çœ‹çš„ï¼Œä¹Ÿå°±ä¸æ›¾ç ”ç©¶è¿™ç‰ˆå’ŒåŸç‰ˆä¹‹é—´çš„å·®å¼‚ï¼Œæ¯•ç«Ÿæ˜¯åª³å¦‡ä¹°çš„ï¼Œå¥¹å¼€å¿ƒæ¯”ä»€ä¹ˆéƒ½é‡è¦ã€‚å‰ä¸¤ä¸ªæœˆé¢ä¸´å¤å¤©å¯èƒ½è¦æ¬å®¶çš„äº‹å®ï¼Œæ„è¯†åˆ°å®¶é‡Œå„ç§ç‰©ä»¶å®åœ¨å¤ªå¤šï¼Œå›æƒ³èµ·ä¸Šæ¬¡æ¬å®¶å·®ç‚¹è¦äº†è€å‘½ï¼Œå°±èµ·äº†æŠŠå®¶é‡Œçš„ä¸œè¥¿â€œç²¾ç®€â€ä¸€ä¸‹çš„å¿µå¤´ã€‚æ‰”æ˜¯ä¸å¯èƒ½æ‰”çš„ï¼Œå¤§æ–¹å‘å°±æ˜¯ä¸å¸¸ç”¨ç”šè‡³å°±æ²¡ç”¨è¿‡çš„ï¼Œç›´æ¥é‚®å¯„å›å®¶äº†äº‹ã€‚è‡³äºé‚£å¥½å‡ æ’çš„ä¹¦ï¼Œå¾—æä¸Šæ—¥ç¨‹å°½å¿«çœ‹å®Œï¼Œä¹Ÿé‚®å›å®¶ã€‚ã€Šè§‚å±±æµ·ã€‹è‡ªç„¶æ˜¯å°½å¿«çœ‹å®Œçš„é¦–é€‰ï¼Œè°è®©å®ƒåˆå¤§åˆåšå‘¢ã€‚</p>
<p>ä¹¦ä¸­çš„æ’ç”»æ˜¯çœŸçš„æ£’ï¼Œä¹‹å‰åœ¨åˆ«çš„ä¹¦é‡Œä¹Ÿå¶æœ‰æåˆ°ã€Šå±±æµ·ç»ã€‹ä¸­çš„ç¥æ€ªçš„åœ°æ–¹ï¼Œä½†æ˜¯åªèƒ½è‡ªæˆ‘å‘æŒ¥æƒ³è±¡ï¼Œæ¯ä¸ªç¥æ€ªçš„æ ·å­å¹¶ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œæœ‰çš„åªæ˜¯ä¸€ä¸ªç¬¦å·ã€‚è¿™ä¹¦é‡Œçš„æ’ç”»è®©æˆ‘å¿ƒä¸­çš„é‚£äº›ç¬¦å·æœ‰äº†å…·ä½“çš„å½¢è±¡ï¼Œç”»é£éå¸¸ç»†è…»ï¼Œçœ‹ç€å¾ˆè¿‡ç˜¾ã€‚</p>
<p>æœ€è®©æˆ‘å¤´å¤§çš„æ˜¯ï¼Œæˆ‘å‘ç°è¿™ä¹¦ï¼Œé¦–å…ˆæ˜¯ä¸€æœ¬åœ°ç†ä¹¦ï¼Œè€Œæˆ‘æ˜¯å¾ˆä¸æ“…é•¿è®°è¿™äº›çš„ï¼Œçœ‹è¿‡åŸºæœ¬ä¸Šå°±å¿˜è®°äº†ï¼Œåªæœ‰ä¸€ç‚¹ç‚¹æ–¹å‘ä¸Šçš„æ¦‚å¿µï¼Œè¿˜æœ‰ç‰¹äº§çŸ¿çŸ³ä»€ä¹ˆçš„ï¼Œå®Œå…¨è®°ä¸ä½ã€‚é‡Œé¢è¿˜ä¼šæåˆ°ä¸€äº›ç¥­ç¥€çš„æ–¹å¼ï¼Œå„ç§æ€ªç‰©åƒäº†æœ‰ä»€ä¹ˆåŠŸæ•ˆç­‰ç­‰ï¼Œæ„Ÿè§‰è¿™å°±æ˜¯ä¸€æœ¬å¤ä»£çš„ç™¾ç§‘å…¨ä¹¦ã€‚å¬è¯´è¿™ç‰ˆå†…å®¹ä¸æ˜¯å…¨çš„ï¼Œä¹Ÿæ— æ‰€è°“äº†ï¼Œåæ­£éƒ½è®°ä¸ä½ï¼Œæˆ‘ä¹Ÿå°±æ˜¯çœ‹ä¸ªçƒ­é—¹ã€‚</p>
<p>è¿™å‡ å¹´çœ‹ä¹¦åŠŸåˆ©æ€§å¾ˆå¼ºï¼ŒåŒ…æ‹¬è¿™æœ¬ä¹Ÿæ˜¯å¸¦ç€ç›®çš„å»çœ‹çš„ï¼ˆå°½å¿«çœ‹å®Œï¼‰ï¼Œä¸è¿‡çœ‹äº†éƒ¨åˆ†åï¼Œå°±ä¸å†æƒ¦è®°è¿™äº›ï¼Œè¢«å…¶å†…å®¹å’Œæ’ç”»æ‰€å¸å¼•ï¼Œçœ‹è¿›å»äº†ã€‚å¾ˆä¹…æ²¡æœ‰ä½“éªŒè¿‡è¿™ç§æ¯«æ— è´Ÿæ‹…ï¼ˆè®°ä¸ä½ï¼‰çœ‹ä¹¦è¿‡ç¨‹äº†ï¼Œæœ‰ç‚¹å°æ„Ÿè§¦ï¼Œå°±å†™åœ¨è¿™é‡Œäº†ã€‚</p>
<p><img src="media/17001174083229/17001174544409.jpg" alt="" /></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ(ç¬¬äºŒç‰ˆ) å®¶åº­ä½œä¸š ç¬¬äºŒç« ]]></title>
    <link href="www.dreameverafter.com/17001265070006.html"/>
    <updated>2023-11-16T17:21:46+08:00</updated>
    <id>www.dreameverafter.com/17001265070006.html</id>
    <content type="html"><![CDATA[
<p>æ­£åœ¨çœ‹ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹è¿™æœ¬ä¹¦ï¼Œè¯¾åèŒ«èŒ«å¤šçš„ä¹ é¢˜ï¼Œçœ‹ç€å°±è®©äººå‘æ€µã€‚ã€‚</p>
<p>åšçš„æ—¶å€™ä¹Ÿéœ€è¦éªŒè¯ä¸€ä¸‹å¯¹é”™ï¼Œæ‰€ä»¥åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šç›¸å…³çš„é¢˜è§£ã€‚é¡ºä¾¿å°±åœ¨è¿™é‡Œè®°ä¸€ä¸‹äº†ã€‚</p>
<p>å…ˆæ”¾ä¸€ä¸‹æºç åœ°å€ï¼š</p>
<p><a href="http://csapp.cs.cmu.edu/2e/code.html">Code Examples</a></p>
<p>ç¬¬äºŒç« å„ç§ç¼–ç å’Œç»•æ¥å¥—å–çš„è®¡ç®—å½“æ—¶å·®ç‚¹æŠŠæˆ‘åŠé€€ï¼Œåšä¸ªå°ç»“å°±æ˜¯ä¸€èˆ¬æ¥è¯´æ•´æ•°ç”¨è¡¥ç ç¼–ç ï¼Œæµ®ç‚¹æ•°ç”¨ IEEE æµ®ç‚¹ç¼–ç ï¼Œå’Œå°å¿ƒç²¾åº¦é—®é¢˜ã€‚</p>
<h2><a id="2-55" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.55</h2>
<p>å…ˆä¸Š show-bytes.c æºç ï¼š</p>
<pre><code class="language-c">/* $begin show-bytes */
#include &lt;stdio.h&gt;
/* $end show-bytes */
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
/* $begin show-bytes */

typedef unsigned char *byte_pointer;

void show_bytes(byte_pointer start, int len) {
    int i;
    for (i = 0; i &lt; len; i++)
	printf(&quot; %.2x&quot;, start[i]);    //line:data:show_bytes_printf
    printf(&quot;\n&quot;);
}

void show_int(int x) {
    show_bytes((byte_pointer) &amp;x, sizeof(int)); //line:data:show_bytes_amp1
}

void show_float(float x) {
    show_bytes((byte_pointer) &amp;x, sizeof(float)); //line:data:show_bytes_amp2
}

void show_pointer(void *x) {
    show_bytes((byte_pointer) &amp;x, sizeof(void *)); //line:data:show_bytes_amp3
}
/* $end show-bytes */


/* $begin test-show-bytes */
void test_show_bytes(int val) {
    int ival = val;
    float fval = (float) ival;
    int *pval = &amp;ival;
    show_int(ival);
    show_float(fval);
    show_pointer(pval);
}
/* $end test-show-bytes */

void simple_show_a() {
/* $begin simple-show-a */
int val = 0x87654321;
byte_pointer valp = (byte_pointer) &amp;val;
show_bytes(valp, 1); /* A. */
show_bytes(valp, 2); /* B. */
show_bytes(valp, 3); /* C. */
/* $end simple-show-a */
}

void simple_show_b() {
/* $begin simple-show-b */
int val = 0x12345678;
byte_pointer valp = (byte_pointer) &amp;val;
show_bytes(valp, 1); /* A. */
show_bytes(valp, 2); /* B. */
show_bytes(valp, 3); /* C. */
/* $end simple-show-b */
}

void float_eg() {
  int x = 3490593;
  float f = (float) x;
  printf(&quot;For x = %d\n&quot;, x);
  show_int(x);
  show_float(f);

  x = 3510593;
  f = (float) x;
  printf(&quot;For x = %d\n&quot;, x);
  show_int(x);
  show_float(f);

}

void string_ueg() {
/* $begin show-ustring */
const char *s = &quot;ABCDEF&quot;;
show_bytes((byte_pointer) s, strlen(s)); 
/* $end show-ustring */
}

void string_leg() {
/* $begin show-lstring */
const char *s = &quot;abcdef&quot;;
show_bytes((byte_pointer) s, strlen(s)); 
/* $end show-lstring */
}

void show_twocomp() 
{
/* $begin show-twocomp */
    short x = 12345; 
    short mx = -x; 
    
    show_bytes((byte_pointer) &amp;x, sizeof(short)); 
    show_bytes((byte_pointer) &amp;mx, sizeof(short)); 
/* $end show-twocomp */
}

int main(int argc, char *argv[])
{
    int val = 12345;

    if (argc &gt; 1) {
        if (argc &gt; 1) {
            val = strtol(argv[1], NULL, 0);
        }
        printf(&quot;calling test_show_bytes\n&quot;);
        test_show_bytes(val);
    } else {
        printf(&quot;calling show_twocomp\n&quot;);
        show_twocomp();
        printf(&quot;Calling simple_show_a\n&quot;);
        simple_show_a();
        printf(&quot;Calling simple_show_b\n&quot;);
        simple_show_b();
        printf(&quot;Calling float_eg\n&quot;);
        float_eg();
        printf(&quot;Calling string_ueg\n&quot;);
        string_ueg();
        printf(&quot;Calling string_leg\n&quot;);
        string_leg();
    }
    return 0;
}

</code></pre>
<p>ç”¨ GCC ç¼–è¯‘ï¼š</p>
<pre><code class="language-shell">// mac os 11.1
gcc -m64 show-bytes.c -o show-bytes
</code></pre>
<p>run ä¸€ä¸‹ï¼š</p>
<pre><code class="language-shell">./show-bytes
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="language-shell">calling show_twocomp
 39 30
 c7 cf
Calling simple_show_a
 21
 21 43
 21 43 65
Calling simple_show_b
 78
 78 56
 78 56 34
Calling float_eg
For x = 3490593
 21 43 35 00
 84 0c 55 4a
For x = 3510593
 41 91 35 00
 04 45 56 4a
Calling string_ueg
 41 42 43 44 45 46
Calling string_leg
 61 62 63 64 65 66
</code></pre>
<h2><a id="2-56" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.56</h2>
<p>å¯ä»¥åœ¨åé¢åŠ å‚æ•°ï¼Œå°±å¯ä»¥è¯•ä¸åŒçš„ç¤ºä¾‹å€¼äº†ï¼š</p>
<pre><code class="language-shell">// è¾“å…¥
./show-bytes 1

// è¾“å‡º é¡ºä¾¿çœ‹å‡ºæ¥æ˜¯å°ç«¯æ¨¡å¼ã€‚
calling test_show_bytes
 01 00 00 00
 00 00 80 3f
 58 f9 14 e4 fe 7f 00 00

// è¾“å…¥
./show-bytes 996

// è¾“å‡º
calling test_show_bytes
 e4 03 00 00
 00 00 79 44
 58 79 ad ec fe 7f 00 00

</code></pre>
<h2><a id="2-57" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.57</h2>
<p>å¢åŠ ä¸‰ä¸ªå‡½æ•°å¹¶ä¿®æ”¹æµ‹è¯•å‡½æ•°ï¼š</p>
<pre><code class="language-c">void show_short(short x) {
  show_bytes((byte_pointer) &amp;x, sizeof(short));
}

void show_long(long x) {
  show_bytes((byte_pointer) &amp;x, sizeof(long));
}

void show_double(double x) {
  show_bytes((byte_pointer) &amp;x, sizeof(double));
}

void test_show_bytes(int val) {
    int ival = val;
    float fval = (float) ival;
    int *pval = &amp;ival;
    
    show_int(ival);
    show_float(fval);
    show_pointer(pval);
    
    short sval = (short) ival;
    long lval = (long) ival;
    double dval = (double) ival;

    show_short(sval);
    show_long(lval);
    show_double(dval);
}
</code></pre>
<p>é‡æ–°ç¼–è¯‘ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼Œæ³¨æ„æœ€åä¸‰è¡Œè¾“å‡ºæ˜¯æ–°åŠ çš„ï¼š</p>
<pre><code class="language-shell">// è¾“å…¥
./show-bytes 1

// è¾“å‡º
calling test_show_bytes
 01 00 00 00
 00 00 80 3f
 58 39 b0 e5 fe 7f 00 00
 01 00
 01 00 00 00 00 00 00 00
 00 00 00 00 00 00 f0 3f

// è¾“å…¥
./show-bytes 996

// è¾“å‡º
calling test_show_bytes
 e4 03 00 00
 00 00 79 44
 58 a9 35 ed fe 7f 00 00
 e4 03
 e4 03 00 00 00 00 00 00
 00 00 00 00 00 20 8f 40

</code></pre>
<h2><a id="2-58" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.58</h2>
<pre><code class="language-c">/*
 * is-little-endian.c
 */

#include &lt;stdio.h&gt;
#include &lt;assert.h&gt;

typedef unsigned char* byte_pointer;

int is_little_endian() {
  int test_num = 0xff;
  byte_pointer byte_start = (byte_pointer) &amp;test_num;

  if (byte_start[0] == 0xff) {
    return 1;
  }
  return 0;
}

int is_little_endian_other(){
    int a = 1;
    return *((char*)&amp;a);
}

int main(int argc, char* argv[]) {
  assert(is_little_endian());
  return 0;
}
</code></pre>
<h2><a id="2-59" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.59</h2>
<pre><code class="language-c">(x &amp; 0xFF) | (y &amp; ~0xFF)
</code></pre>
<h2><a id="2-60" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.60</h2>
<pre><code class="language-c">
/*
 * replace-byte.c
 */

#include &lt;stdio.h&gt;
#include &lt;assert.h&gt;

unsigned replace_byte(unsigned x, int i, unsigned char b) {
  if (i &lt; 0) {
    printf(&quot;error: i is negetive\n&quot;);
    return x;
  }
  if (i &gt; sizeof(unsigned)-1) {
    printf(&quot;error: too big i&quot;);
    return x;
  }

  // 1 byte æœ‰ 8 bitsï¼Œ &lt;&lt; 3 å°±æ˜¯ * 8
  unsigned mask = ((unsigned) 0xFF) &lt;&lt; (i &lt;&lt; 3);
  unsigned pos_byte = ((unsigned) b) &lt;&lt; (i &lt;&lt; 3);

  return (x &amp; ~mask) | pos_byte;
}

int main(int argc, char *argv[]) {
  unsigned rep_0 = replace_byte(0x12345678, 0, 0xAB);
  unsigned rep_3 = replace_byte(0x12345678, 3, 0xAB);

  assert(rep_0 == 0x123456AB);
  assert(rep_3 == 0xAB345678);
  return 0;
}

</code></pre>
<h2><a id="2-61" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.61</h2>
<pre><code class="language-c">
// A x çš„ä»»ä½•ä½éƒ½ç­‰äº 1
!~x

// B x çš„ä»»ä½•ä½éƒ½ç­‰äº 0
!x

// C x çš„æœ€é«˜æœ‰æ•ˆå­—èŠ‚ä¸­çš„ä½éƒ½ç­‰äº 1
!~(x &gt;&gt; ((sizeof(int) - 1) &lt;&lt; 3))

// D x çš„æœ€ä½æœ‰æ•ˆå­—èŠ‚ä¸­çš„ä½éƒ½ç­‰äº 0
!(x &amp; 0xFF)

</code></pre>
<h2><a id="2-62" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.62</h2>
<pre><code class="language-c">/*
 * int-shifts-are-arithemetic.c
 */

#include &lt;stdio.h&gt;
#include &lt;assert.h&gt;

int int_shifts_are_arithemetic() {
  int num = -1;
  return !(num ^ (num &gt;&gt; 1));
}

int main(int argc, char* argv[]) {
  assert(int_shifts_are_arithemetic());
  return 0;
}
</code></pre>
<h2><a id="2-63" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.63</h2>
<pre><code class="language-c">/*
 * srl-sra.c
 */

#include &lt;stdio.h&gt;
#include &lt;assert.h&gt;

// å°† xrsl çš„ç¬¬ w-k-1 ä½æ‰©å±•åˆ°å‰ k ä¸ªé«˜ä½
int sra(int x, int k) {
  int xsrl = (unsigned) x &gt;&gt; k;

  int w = sizeof(int) &lt;&lt; 3;
  // mask çš„å‰ k é«˜ä½å…¨æ˜¯ 1
  int mask = (int) -1 &lt;&lt; (w - k);
  // m æœ€é«˜ä½æ˜¯ 1ï¼Œå…¶ä»–éƒ½æ˜¯ 0
  int m = 1 &lt;&lt; (w - 1);
  // x &amp; mï¼Œç¡®å®šç¬¦å·ä½æ˜¯ 1 è¿˜æ˜¯ 0ã€‚
  // ç„¶åå¦‚æœç¬¦å·ä½æ˜¯ 1ï¼Œ!(x &amp; m) ä¸º 0ï¼Œ0 - 1 ç­‰äº -1ï¼Œmask &amp;= -1 è¿˜æ˜¯ä»–æœ¬èº«ã€‚
  // å¦‚æœç¬¦å·ä½æ˜¯ 0ï¼Œ!(x &amp; m) ä¸º 1ï¼Œ1 - 1 ç­‰äº 0ï¼Œmask &amp;= 0 ä¸º 0ã€‚
  mask &amp;= !(x &amp; m) - 1;
  return xsrl | mask;
}

// å‰ k é«˜ä½æ¸…é›¶å³å¯
unsigned srl(unsigned x, int k) {
  unsigned xsra = (int) x &gt;&gt; k;

  int w = sizeof(int) &lt;&lt; 3;
  int mask = (int) -1 &lt;&lt; (w - k);
  return xsra &amp; ~mask;
}

int main(int argc, char* argv[]) {
  unsigned test_unsigned = 0x12345678;
  int test_int = 0x12345678;

  assert(srl(test_unsigned, 4) == test_unsigned &gt;&gt; 4);
  assert(sra(test_int, 4) == test_int &gt;&gt; 4);

  test_unsigned = 0x87654321;
    test_int = 0x87654321;

    assert (srl (test_unsigned, 4) == test_unsigned &gt;&gt; 4);
    assert (sra (test_int, 4) == test_int &gt;&gt; 4);

  return 0;
}
</code></pre>
<h2><a id="2-64" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.64</h2>
<pre><code class="language-c">int any_even_one(unsigned x) {
    return !!(0x55555555 &amp; x);
}
</code></pre>
<h2><a id="2-65" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.65</h2>
<pre><code class="language-c">// x çš„æ¯ä¸ªä½è¿›è¡Œå¼‚æˆ–ï¼Œå¦‚æœä¸º 0 å°±è¯´æ˜æ˜¯å¶æ•°ä¸ª 1ï¼Œå¦‚æœä¸º 1 å°±æ˜¯å¥‡æ•°ä¸ª 1 ã€‚
// é€šè¿‡ç®—æ•°å³ç§»ä¸€åŠçš„ä½æ•°ï¼Œç›¸å½“äºæŠŠå·¦åŠéƒ¨åˆ†ä½æ•°é™ä½åˆ°å’Œå³åŠéƒ¨åˆ†ä¸€è‡´ï¼Œåªå…³å¿ƒå³åŠéƒ¨åˆ†å¼‚æˆ–ç»“æœå°±å¥½ã€‚
int even_ones(unsigned x){
    x ^= (x &gt;&gt; 16);
    x ^= (x &gt;&gt; 8);
    x ^= (x &gt;&gt; 4);
    x ^= (x &gt;&gt; 2);
    x ^= (x &gt;&gt; 1);
    return !(x &amp; 1);
} 
</code></pre>
<h2><a id="2-66" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.66</h2>
<p>å®ç°æ©è†œï¼Œæ•°ä½ä¸­åªå‰©ä¸‹æœ€å·¦è¾¹çš„ 1ï¼Œå…¶ä»–ä½éƒ½æ˜¯ 0ã€‚å¦‚æœ x ä¸º 0,é‚£ä¹ˆå‡½æ•°è¿”å› 0ã€‚</p>
<p>åˆ©ç”¨ç§»ä½æ“ä½œï¼Œé¦–å…ˆå°† x å³ç§»å†æˆ–ï¼Œåˆ†åˆ«åˆ©ç”¨<code>1,2,4,8,16</code>ï¼Œå¾—åˆ°ä»æœ€å·¦è¾¹çš„ 1 åé¢å…¨éƒ¨ä¸º 1ï¼Œç„¶åå†å³ç§»1ä½ï¼Œå–å¼‚æˆ–ã€‚</p>
<pre><code class="language-c">int leftmost_one(unsigned x) {
    x |= (x &gt;&gt; 1);
    x |= (x &gt;&gt; 2);
    x |= (x &gt;&gt; 4);
    x |= (x &gt;&gt; 8);
    x |= (x &gt;&gt; 16);
    return x^(x&gt;&gt;1);
}
</code></pre>
<h2><a id="2-67" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.67</h2>
<p>Aï¼š</p>
<p>If the value of the right operand is negative or is greater than or equal to the width of the promoted left operand, the behavior it undefined.</p>
<p>32ä½æœºå™¨ä¸Šæ²¡æœ‰å®šä¹‰ç§»ä½32æ¬¡ï¼Œæ‰€ä»¥éœ€è¦åˆ†å¤šæ¬¡å·¦ç§»ã€‚</p>
<pre><code class="language-c">/*
 * int-size-is-32.c
 */

#include &lt;stdio.h&gt;
#include &lt;assert.h&gt;

/* The following function does not run properly on some machine */
/*
int bad_int_size_is_32() {
  int set_msb = 1 &lt;&lt; 31;
  int beyond_msb = 1 &lt;&lt; 32;

  return set_msb &amp;&amp; !beyond_msb;
}
*/

int int_size_is_32() {
  int set_msb = 1 &lt;&lt; 31;
  int beyond_msb = set_msb &lt;&lt; 1;

  return set_msb &amp;&amp; !beyond_msb;
}

int int_size_is_32_for_16bit() {
  int set_msb = 1 &lt;&lt; 15 &lt;&lt; 15 &lt;&lt; 1;
  int beyond_msb = set_msb &lt;&lt; 1;

  return set_msb &amp;&amp; !beyond_msb;
}

int main(int argc, char *argv[]) {
  assert(int_size_is_32());
  assert(int_size_is_32_for_16bit());
  return 0;
}

</code></pre>
<h2><a id="2-68" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.68</h2>
<p>è®© x çš„æœ€ä½ n ä½å˜ 1ã€‚</p>
<pre><code class="language-c">/*
 * lower-one-mask.c
 */
#include &lt;stdio.h&gt;
#include &lt;assert.h&gt;

/*
 * Mask with least signficant n bits set to 1
 * Example: n = 6 -&gt; 0x3F, n = 17 -&gt; 0x1FFFF
 * Assume 1 &lt;= n &lt;= w
 */
int lower_one_mask(int n) {
  int w = sizeof(int) &lt;&lt; 3;
  return (unsigned) -1 &gt;&gt; (w - n);
}

int main(int argc, char* argv[]) {
  assert(lower_one_mask(6) == 0x3F);
  assert(lower_one_mask(17) == 0x1FFFF);
  assert(lower_one_mask(32) == 0xFFFFFFFF);
  return 0;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æ°´ä»™ ğŸŒ¼]]></title>
    <link href="www.dreameverafter.com/17001150891969.html"/>
    <updated>2023-11-16T14:11:29+08:00</updated>
    <id>www.dreameverafter.com/17001150891969.html</id>
    <content type="html"><![CDATA[
<p>ä¹°ä¸ªå®‰å“æ‰‹æœºåšå¯¼èˆªç”¨çš„ï¼Œæ²¡æˆæƒ³åˆ°æ‰‹ç¬¬ä¸€ä»¶äº‹å°±æ˜¯è£…äº†ä¸ªonsæ¨¡æ‹Ÿå™¨ï¼Œç„¶åä¸€æ™šä¸ŠæŠŠæ°´ä»™1å’Œ2ç©å®Œäº†ã€‚</p>
<p><img src="media/17001150891969/17001182613721.png" alt="æ°´ä»™" /></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ã€Šåä¸‡å¬‰çš®ã€‹]]></title>
    <link href="www.dreameverafter.com/17001174848432.html"/>
    <updated>2023-11-16T14:51:24+08:00</updated>
    <id>www.dreameverafter.com/17001174848432.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>ä¸‡èƒ½é’å¹´æ—…åº—</p>
</blockquote>
<p>å¤§æ¢¦ä¸€åœºçš„è‘£äºŒåƒå…ˆç”Ÿ</p>
<p>æ¨å¼€çª—æˆ· ä¸¾èµ·æœ›è¿œé•œ</p>
<p>çœ¼åº•æ˜ å‡º ä¸€é˜µæµ“çƒŸ</p>
<p>å‰å·²æ— é€šè·¯ åä¸è§å½’é€”</p>
<p>æ•Œè§†ç°å® è™šæ„è¿œæ–¹</p>
<p>ä¸œå¼ è¥¿æœ› ä¸€æ— æ‰€é•¿</p>
<p>å››ä½“ä¸å‹¤ äº”è°·ä¸åˆ†</p>
<p>æ–‡ä¸èƒ½æµ‹å­— æ­¦ä¸èƒ½é˜²èº«</p>
<p>å–œæ¬¢å…»ç‹— ä¸çˆ±æ´—å¤´</p>
<p>ä¸äº‹åŠ³ä½œ ä¸€æ— æ‰€è·</p>
<p>åŒæ¶äº‰æ‰§ ä¸å–„è¨€è¯´</p>
<p>ç»ˆäºæ²¦ä¸ºæ²‰é»˜çš„å¸®å‡¶</p>
<p>å€Ÿé…’æ¶ˆæ„ ä¸å¤ªèƒ½å–</p>
<p>è›Šæƒ‘ä»–äºº éº»é†‰å†…å¿ƒ</p>
<p>æµ‡ä¸Šæ±½æ²¹ èˆ’å±•çœ‰å¤´</p>
<p>çºµç«çš„é’å¹´ è¿«è¿‘çš„æ—¶é—´</p>
<p>å¤§æ¢¦ä¸€åœºçš„è‘£äºŒåƒå…ˆç”Ÿ</p>
<p>æ¨å¼€çª—æˆ· ä¸¾èµ·æœ›è¿œé•œ</p>
<p>çœ¼åº•æ˜ å‡º ä¸€é˜µæµ“çƒŸ</p>
<p>å‰å·²æ— é€šè·¯ åä¸è§å½’é€”</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vue çš„ä¸€äº›æŒ‡ä»¤å’Œç¼©å†™]]></title>
    <link href="www.dreameverafter.com/17001187952144.html"/>
    <updated>2023-11-16T15:13:15+08:00</updated>
    <id>www.dreameverafter.com/17001187952144.html</id>
    <content type="html"><![CDATA[
<p>è¿™é‡Œå¾—å…ˆäº†è§£ä¸€ä¸‹vueä¸­çš„æŒ‡ä»¤(Directives)ã€‚</p>
<p>æŒ‡ä»¤æ˜¯å¸¦æœ‰ <code>v-</code> å‰ç¼€çš„ç‰¹æ®Š <code>attribute</code>ã€‚æŒ‡ä»¤ <code>attribute</code> çš„å€¼é¢„æœŸæ˜¯ <strong>å•ä¸ª JavaScript è¡¨è¾¾å¼</strong> (<code>v-for</code> æ˜¯ä¾‹å¤–æƒ…å†µï¼Œç¨åæˆ‘ä»¬å†è®¨è®º)ã€‚æŒ‡ä»¤çš„èŒè´£æ˜¯ï¼Œå½“è¡¨è¾¾å¼çš„å€¼æ”¹å˜æ—¶ï¼Œå°†å…¶äº§ç”Ÿçš„è¿å¸¦å½±å“ï¼Œå“åº”å¼åœ°ä½œç”¨äº DOMã€‚å›é¡¾æˆ‘ä»¬åœ¨ä»‹ç»ä¸­çœ‹åˆ°çš„ä¾‹å­ï¼š</p>
<pre><code class="language-html">&lt;p v-if=&quot;seen&quot;&gt;ç°åœ¨ä½ çœ‹åˆ°æˆ‘äº†&lt;/p&gt;
</code></pre>
<p>è¿™é‡Œï¼Œ<code>v-if</code> æŒ‡ä»¤å°†æ ¹æ®è¡¨è¾¾å¼ <code>seen</code> çš„å€¼çš„çœŸå‡æ¥æ’å…¥/ç§»é™¤ <code>&lt;p&gt;</code> å…ƒç´ ã€‚</p>
<p><code>v-</code> å‰ç¼€ä½œä¸ºä¸€ç§è§†è§‰æç¤ºï¼Œç”¨æ¥è¯†åˆ«æ¨¡æ¿ä¸­ Vue ç‰¹å®šçš„ attributeã€‚å½“ä½ åœ¨ä½¿ç”¨ Vue.js ä¸ºç°æœ‰æ ‡ç­¾æ·»åŠ åŠ¨æ€è¡Œä¸º (dynamic behavior) æ—¶ï¼Œ<code>v-</code> å‰ç¼€å¾ˆæœ‰å¸®åŠ©ï¼Œç„¶è€Œï¼Œå¯¹äºä¸€äº›é¢‘ç¹ç”¨åˆ°çš„æŒ‡ä»¤æ¥è¯´ï¼Œå°±ä¼šæ„Ÿåˆ°ä½¿ç”¨ç¹çã€‚</p>
<p>åŒæ—¶ï¼Œåœ¨æ„å»ºç”± Vue ç®¡ç†æ‰€æœ‰æ¨¡æ¿çš„ <strong>å•é¡µé¢åº”ç”¨ç¨‹åº (SPA - single page application)</strong> æ—¶ï¼Œ<code>v-</code> å‰ç¼€ä¹Ÿå˜å¾—æ²¡é‚£ä¹ˆé‡è¦äº†ã€‚å› æ­¤ï¼ŒVue ä¸º <code>v-bind</code> å’Œ <code>v-on</code> è¿™ä¸¤ä¸ªæœ€å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œæä¾›äº†ç‰¹å®šç®€å†™ã€‚</p>
<h2><a id="" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>$</code></h2>
<p>Vue å®ä¾‹æš´éœ²äº†ä¸€äº›æœ‰ç”¨çš„å®ä¾‹å±æ€§ä¸æ–¹æ³•ã€‚å®ƒä»¬éƒ½æœ‰å‰ç¼€ <code>$</code>ï¼Œä»¥ä¾¿ä¸ç”¨æˆ·å®šä¹‰çš„å±æ€§åŒºåˆ†å¼€æ¥ï¼Œé¿å…Vueçš„å±æ€§è¢«ç”¨æˆ·è‡ªå®šä¹‰çš„å±æ€§è¦†ç›–ã€‚</p>
<h2><a id="%EF%BC%8Cv-bind%E7%BC%A9%E5%86%99" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>:</code>ï¼Œ<code>v-bind</code> ç¼©å†™</h2>
<pre><code class="language-html">&lt;!-- å®Œæ•´è¯­æ³• --&gt;
&lt;a v-bind:href=&quot;url&quot;&gt;...&lt;/a&gt;

&lt;!-- ç¼©å†™ --&gt;
&lt;a :href=&quot;url&quot;&gt;...&lt;/a&gt;

&lt;!-- åŠ¨æ€å‚æ•°çš„ç¼©å†™ (2.6.0+) --&gt;
&lt;a :[key]=&quot;url&quot;&gt; ... &lt;/a&gt;
</code></pre>
<h2><a id="%EF%BC%8Cv-on%E7%BC%A9%E5%86%99" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>@</code>ï¼Œ<code>v-on</code> ç¼©å†™</h2>
<pre><code class="language-html">&lt;!-- å®Œæ•´è¯­æ³• --&gt;
&lt;a v-on:click=&quot;doSomething&quot;&gt;...&lt;/a&gt;

&lt;!-- ç¼©å†™ --&gt;
&lt;a @click=&quot;doSomething&quot;&gt;...&lt;/a&gt;

&lt;!-- åŠ¨æ€å‚æ•°çš„ç¼©å†™ (2.6.0+) --&gt;
&lt;a @[event]=&quot;doSomething&quot;&gt; ... &lt;/a&gt;
</code></pre>
<h2><a id="v-for" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>v-for</code></h2>
<h3><a id="%E7%94%A8v-for%E6%8A%8A%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84%E5%AF%B9%E5%BA%94%E4%B8%BA%E4%B8%80%E7%BB%84%E5%85%83%E7%B4%A0" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç”¨<code>v-for</code>æŠŠä¸€ä¸ªæ•°ç»„å¯¹åº”ä¸ºä¸€ç»„å…ƒç´ </h3>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>v-for</code> æŒ‡ä»¤åŸºäºä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨ã€‚<code>v-for</code> æŒ‡ä»¤éœ€è¦ä½¿ç”¨ <code>item in items</code> å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­ <code>items</code> æ˜¯æºæ•°æ®æ•°ç»„ï¼Œè€Œ <code>item</code> åˆ™æ˜¯è¢«è¿­ä»£çš„æ•°ç»„å…ƒç´ çš„<strong>åˆ«å</strong>ã€‚</p>
<pre><code class="language-html">&lt;ul id=&quot;example-1&quot;&gt;
  &lt;li v-for=&quot;item in items&quot; :key=&quot;item.message&quot;&gt;
    {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>åœ¨ <code>v-for</code> å—ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ propertyã€‚<code>v-for</code> è¿˜æ”¯æŒä¸€ä¸ªå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå³å½“å‰é¡¹çš„ç´¢å¼•ã€‚</p>
<pre><code class="language-html">&lt;ul id=&quot;example-2&quot;&gt;
  &lt;li v-for=&quot;(item, index) in items&quot;&gt;
    {{ parentMessage }} - {{ index }} - {{ item.message }}
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨ <code>of</code> æ›¿ä»£ <code>in</code> ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå› ä¸ºå®ƒæ›´æ¥è¿‘ JavaScript è¿­ä»£å™¨çš„è¯­æ³•ï¼š</p>
<pre><code class="language-html">&lt;div v-for=&quot;item of items&quot;&gt;&lt;/div&gt;
</code></pre>
<h3><a id="%E5%9C%A8v-for%E9%87%8C%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åœ¨ <code>v-for</code> é‡Œä½¿ç”¨å¯¹è±¡</h3>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨ <code>v-for</code> æ¥éå†ä¸€ä¸ªå¯¹è±¡çš„ propertyã€‚</p>
<pre><code class="language-html">&lt;ul id=&quot;v-for-object&quot; class=&quot;demo&quot;&gt;
  &lt;li v-for=&quot;value in object&quot;&gt;
    {{ value }}
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<pre><code class="language-js">new Vue({
  el: '#v-for-object',
  data: {
    object: {
      title: 'How to do lists in Vue',
      author: 'Jane Doe',
      publishedAt: '2016-04-10'
    }
  }
})
</code></pre>
<p>è¿˜å¯ä»¥ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°ä½œä¸ºç´¢å¼•ï¼š</p>
<pre><code class="language-html">&lt;div v-for=&quot;(value, name, index) in object&quot;&gt;
  {{ index }}. {{ name }}: {{ value }}
&lt;/div&gt;
</code></pre>
<p>åœ¨éå†å¯¹è±¡æ—¶ï¼Œä¼šæŒ‰ <code>Object.keys()</code> çš„ç»“æœéå†ï¼Œä½†æ˜¯<strong>ä¸èƒ½</strong>ä¿è¯å®ƒçš„ç»“æœåœ¨ä¸åŒçš„ JavaScript å¼•æ“ä¸‹éƒ½ä¸€è‡´ã€‚</p>
<h3><a id="%E7%BB%B4%E6%8A%A4%E7%8A%B6%E6%80%81" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç»´æŠ¤çŠ¶æ€</h3>
<p>å½“ Vue æ­£åœ¨æ›´æ–°ä½¿ç”¨ <code>v-for</code> æ¸²æŸ“çš„å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå®ƒé»˜è®¤ä½¿ç”¨â€œå°±åœ°æ›´æ–°â€çš„ç­–ç•¥ã€‚å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜ï¼ŒVue å°†ä¸ä¼šç§»åŠ¨ DOM å…ƒç´ æ¥åŒ¹é…æ•°æ®é¡¹çš„é¡ºåºï¼Œè€Œæ˜¯å°±åœ°æ›´æ–°æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ç¡®ä¿å®ƒä»¬åœ¨æ¯ä¸ªç´¢å¼•ä½ç½®æ­£ç¡®æ¸²æŸ“ã€‚è¿™ä¸ªç±»ä¼¼ Vue 1.x çš„ <code>track-by=&quot;$index&quot;</code>ã€‚</p>
<p>è¿™ä¸ªé»˜è®¤çš„æ¨¡å¼æ˜¯é«˜æ•ˆçš„ï¼Œä½†æ˜¯<strong>åªé€‚ç”¨äºä¸ä¾èµ–å­ç»„ä»¶çŠ¶æ€æˆ–ä¸´æ—¶ DOM çŠ¶æ€ (ä¾‹å¦‚ï¼šè¡¨å•è¾“å…¥å€¼) çš„åˆ—è¡¨æ¸²æŸ“è¾“å‡º</strong>ã€‚</p>
<p>ä¸ºäº†ç»™ Vue ä¸€ä¸ªæç¤ºï¼Œä»¥ä¾¿å®ƒèƒ½è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»è€Œé‡ç”¨å’Œé‡æ–°æ’åºç°æœ‰å…ƒç´ ï¼Œä½ éœ€è¦ä¸ºæ¯é¡¹æä¾›ä¸€ä¸ªå”¯ä¸€ <code>key</code> attributeï¼š</p>
<pre><code class="language-html">&lt;div v-for=&quot;item in items&quot; v-bind:key=&quot;item.id&quot;&gt;
  &lt;!-- å†…å®¹ --&gt;
&lt;/div&gt;
</code></pre>
<p>å»ºè®®å°½å¯èƒ½åœ¨ä½¿ç”¨ <code>v-for</code> æ—¶æä¾› <code>key</code> attributeï¼Œé™¤ééå†è¾“å‡ºçš„ DOM å†…å®¹éå¸¸ç®€å•ï¼Œæˆ–è€…æ˜¯åˆ»æ„ä¾èµ–é»˜è®¤è¡Œä¸ºä»¥è·å–æ€§èƒ½ä¸Šçš„æå‡ã€‚</p>
<p>å› ä¸ºå®ƒæ˜¯ Vue è¯†åˆ«èŠ‚ç‚¹çš„ä¸€ä¸ªé€šç”¨æœºåˆ¶ï¼Œ<code>key</code> å¹¶ä¸ä»…ä¸ <code>v-for</code> ç‰¹åˆ«å…³è”ã€‚åé¢æˆ‘ä»¬å°†åœ¨æŒ‡å—ä¸­çœ‹åˆ°ï¼Œå®ƒè¿˜å…·æœ‰å…¶å®ƒç”¨é€”ã€‚</p>
<p>ä¸è¦ä½¿ç”¨å¯¹è±¡æˆ–æ•°ç»„ä¹‹ç±»çš„éåŸºæœ¬ç±»å‹å€¼ä½œä¸º <code>v-for</code> çš„ <code>key</code>ã€‚è¯·ç”¨å­—ç¬¦ä¸²æˆ–æ•°å€¼ç±»å‹çš„å€¼ã€‚</p>
<p>æ›´å¤š <code>key</code> attribute çš„ç»†èŠ‚ç”¨æ³•è¯·ç§»æ­¥è‡³ <a href="https://cn.vuejs.org/v2/api/#key"><code>key</code> çš„ API æ–‡æ¡£</a>ã€‚</p>
<h3><a id="%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ•°ç»„æ›´æ–°æ£€æµ‹</h3>
<p>å˜æ›´æ–¹æ³•ï¼šVue å°†è¢«ä¾¦å¬çš„æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹ï¼Œæ‰€ä»¥å®ƒä»¬ä¹Ÿå°†ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚è¿™äº›è¢«åŒ…è£¹è¿‡çš„æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>push()</code></li>
<li><code>pop()</code></li>
<li><code>shift()</code></li>
<li><code>unshift()</code></li>
<li><code>splice()</code></li>
<li><code>sort()</code></li>
<li><code>reverse()</code></li>
</ul>
<p>ä½ å¯ä»¥æ‰“å¼€æ§åˆ¶å°ï¼Œç„¶åå¯¹å‰é¢ä¾‹å­çš„ <code>items</code> æ•°ç»„å°è¯•è°ƒç”¨å˜æ›´æ–¹æ³•ã€‚æ¯”å¦‚ <code>example1.items.push({ message: 'Baz' })</code>ã€‚</p>
<p>æ›¿æ¢æ•°ç»„ï¼šå˜æ›´æ–¹æ³•ï¼Œé¡¾åæ€ä¹‰ï¼Œä¼šå˜æ›´è°ƒç”¨äº†è¿™äº›æ–¹æ³•çš„åŸå§‹æ•°ç»„ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¹Ÿæœ‰éå˜æ›´æ–¹æ³•ï¼Œä¾‹å¦‚ <code>filter()</code>ã€<code>concat()</code> å’Œ <code>slice()</code>ã€‚å®ƒä»¬ä¸ä¼šå˜æ›´åŸå§‹æ•°ç»„ï¼Œè€Œ<strong>æ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„</strong>ã€‚å½“ä½¿ç”¨éå˜æ›´æ–¹æ³•æ—¶ï¼Œå¯ä»¥ç”¨æ–°æ•°ç»„æ›¿æ¢æ—§æ•°ç»„ï¼š</p>
<pre><code class="language-js">example1.items = example1.items.filter(function (item) {
  return item.message.match(/Foo/)
})
</code></pre>
<p>ä½ å¯èƒ½è®¤ä¸ºè¿™å°†å¯¼è‡´ Vue ä¸¢å¼ƒç°æœ‰ DOM å¹¶é‡æ–°æ¸²æŸ“æ•´ä¸ªåˆ—è¡¨ã€‚å¹¸è¿çš„æ˜¯ï¼Œäº‹å®å¹¶éå¦‚æ­¤ã€‚Vue ä¸ºäº†ä½¿å¾— DOM å…ƒç´ å¾—åˆ°æœ€å¤§èŒƒå›´çš„é‡ç”¨è€Œå®ç°äº†ä¸€äº›æ™ºèƒ½çš„å¯å‘å¼æ–¹æ³•ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ªå«æœ‰ç›¸åŒå…ƒç´ çš„æ•°ç»„å»æ›¿æ¢åŸæ¥çš„æ•°ç»„æ˜¯éå¸¸é«˜æ•ˆçš„æ“ä½œã€‚</p>
<p>ç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue <strong>ä¸èƒ½æ£€æµ‹</strong>æ•°ç»„å’Œå¯¹è±¡çš„å˜åŒ–ã€‚</p>
<h3><a id="%E5%9C%A8template%E4%B8%8A%E4%BD%BF%E7%94%A8-v-for" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åœ¨ <code>&lt;template&gt;</code> ä¸Šä½¿ç”¨ <code>v-for</code></h3>
<p>ç±»ä¼¼äº <code>v-if</code>ï¼Œä½ ä¹Ÿå¯ä»¥åˆ©ç”¨å¸¦æœ‰ <code>v-for</code> çš„ <code>&lt;template&gt;</code> æ¥å¾ªç¯æ¸²æŸ“ä¸€æ®µåŒ…å«å¤šä¸ªå…ƒç´ çš„å†…å®¹ã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="language-html">&lt;ul&gt;
  &lt;template v-for=&quot;item in items&quot;&gt;
    &lt;li&gt;{{ item.msg }}&lt;/li&gt;
    &lt;li class=&quot;divider&quot; role=&quot;presentation&quot;&gt;&lt;/li&gt;
  &lt;/template&gt;
&lt;/ul&gt;
</code></pre>
<h3><a id="v-for%E4%B8%8E-v-if%E4%B8%80%E5%90%8C%E4%BD%BF%E7%94%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>v-for</code> ä¸ <code>v-if</code> ä¸€åŒä½¿ç”¨</h3>
<p>æ³¨æ„æˆ‘ä»¬<strong>ä¸</strong>æ¨èåœ¨åŒä¸€å…ƒç´ ä¸Šä½¿ç”¨ <code>v-if</code> å’Œ <code>v-for</code>ã€‚</p>
<p>å½“å®ƒä»¬å¤„äºåŒä¸€èŠ‚ç‚¹ï¼Œ<code>v-for</code> çš„ä¼˜å…ˆçº§æ¯” <code>v-if</code> æ›´é«˜ï¼Œè¿™æ„å‘³ç€ <code>v-if</code> å°†åˆ†åˆ«é‡å¤è¿è¡Œäºæ¯ä¸ª <code>v-for</code> å¾ªç¯ä¸­ã€‚å½“ä½ åªæƒ³ä¸º<em>éƒ¨åˆ†</em>é¡¹æ¸²æŸ“èŠ‚ç‚¹æ—¶ï¼Œè¿™ç§ä¼˜å…ˆçº§çš„æœºåˆ¶ä¼šååˆ†æœ‰ç”¨ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="language-html">&lt;li v-for=&quot;todo in todos&quot; v-if=&quot;!todo.isComplete&quot;&gt;
  {{ todo }}
&lt;/li&gt;
</code></pre>
<p>ä¸Šé¢çš„ä»£ç å°†åªæ¸²æŸ“æœªå®Œæˆçš„ todoã€‚</p>
<p>è€Œå¦‚æœä½ çš„ç›®çš„æ˜¯æœ‰æ¡ä»¶åœ°è·³è¿‡å¾ªç¯çš„æ‰§è¡Œï¼Œé‚£ä¹ˆå¯ä»¥å°† <code>v-if</code> ç½®äºå¤–å±‚å…ƒç´  (æˆ– <code>&lt;template&gt;</code>) ä¸Šã€‚å¦‚ï¼š</p>
<pre><code class="language-html">&lt;ul v-if=&quot;todos.length&quot;&gt;
  &lt;li v-for=&quot;todo in todos&quot;&gt;
    {{ todo }}
  &lt;/li&gt;
&lt;/ul&gt;
&lt;p v-else&gt;No todos left!&lt;/p&gt;
</code></pre>
<blockquote>
<p>å‚è€ƒï¼š <a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></p>
</blockquote>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OpenGL æœ¯è¯­]]></title>
    <link href="www.dreameverafter.com/17001265069754.html"/>
    <updated>2023-11-16T17:21:46+08:00</updated>
    <id>www.dreameverafter.com/17001265069754.html</id>
    <content type="html"><![CDATA[
<p>å‰ä¸¤å¹´ç¨å¾®æ¥è§¦äº†ä¸€äº› <code>OpenGL</code>ï¼Œè¿‘æœŸå‡†å¤‡æŠŠæ‰€å¾—æ€»ç»“ä¸€ä¸‹ï¼Œå…ˆæŠŠé«˜é¢‘è¯æ±‡åˆ—å‡ºæ¥æŠŠã€‚</p>
<ul>
<li>é¡¶ç‚¹æ•°æ®ï¼ˆVerticesï¼‰</li>
<li>é¡¶ç‚¹ç€è‰²å™¨ï¼ˆVertex Shaderï¼‰</li>
<li>å›¾å…ƒè£…é…ï¼ˆAssemblyï¼‰</li>
<li>å‡ ä½•ç€è‰²å™¨ï¼ˆGeometry Shaderï¼‰</li>
<li>å…‰æ …åŒ–ï¼ˆRasterizationï¼‰</li>
<li>ç‰‡æ–­ç€è‰²å™¨ï¼ˆFragment Shaderï¼‰</li>
<li>é€ç‰‡æ–­å¤„ç†ï¼ˆPer-Fragment Operationsï¼‰</li>
<li>å¸§ç¼“å†²ï¼ˆFrameBufferï¼‰</li>
<li>å†ç»è¿‡åŒç¼“å†²çš„äº¤æ¢ï¼ˆSwapBufferï¼‰ï¼Œæ¸²æŸ“å†…å®¹å°±æ˜¾ç¤ºåˆ°äº†å±å¹•ä¸Šã€‚</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[å½’çº³ä¸æ¼”ç»]]></title>
    <link href="www.dreameverafter.com/17001177799867.html"/>
    <updated>2023-11-16T14:56:19+08:00</updated>
    <id>www.dreameverafter.com/17001177799867.html</id>
    <content type="html"><![CDATA[
<h2><a id="%E5%BD%92%E7%BA%B3%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å½’çº³æ³•</h2>
<p>å½’çº³æ³•æˆ–å½’çº³æ¨ç†ï¼ˆInductive reasoningï¼‰ï¼Œæœ‰æ—¶å«åšå½’çº³é€»è¾‘ï¼Œæ˜¯è®ºè¯çš„å‰ææ”¯æŒç»“è®ºä½†ä¸ç¡®ä¿ç»“è®ºçš„æ¨ç†è¿‡ç¨‹ã€‚</p>
<p>å®ƒåŸºäºå¯¹ç‰¹æ®Šçš„ä»£è¡¨ï¼ˆtokenï¼‰çš„æœ‰é™è§‚å¯Ÿï¼ŒæŠŠæ€§è´¨æˆ–å…³ç³»å½’ç»“åˆ°ç±»å‹ï¼›æˆ–åŸºäºå¯¹åå¤å†ç°çš„ç°è±¡çš„æ¨¡å¼ï¼ˆpatternï¼‰çš„æœ‰é™è§‚å¯Ÿï¼Œå…¬å¼è¡¨è¾¾è§„å¾‹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨å½’çº³æ³•åœ¨å¦‚ä¸‹ç‰¹æ®Šçš„å‘½é¢˜ä¸­ï¼š</p>
<ol>
<li>å†°æ˜¯å†·çš„ã€‚</li>
<li>å¼¹å­çƒåœ¨å‡»æ‰“çƒæ†çš„æ—¶å€™ç§»åŠ¨ã€‚</li>
</ol>
<p>æ¨æ–­å‡ºæ™®éçš„å‘½é¢˜å¦‚ï¼š</p>
<ol>
<li>æ‰€æœ‰å†°éƒ½æ˜¯å†·çš„ã€‚</li>
<li>æ‰€æœ‰å¼¹å­çƒéƒ½åœ¨å‡»æ‰“çƒæ†çš„æ—¶å€™ç§»åŠ¨ã€‚</li>
</ol>
<h2><a id="%E6%BC%94%E7%BB%8E%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ¼”ç»æ³•</h2>
<p>æ¼”ç»æ¨ç†ï¼ˆDeductive Reasoningï¼‰ã€æ­£å‘æ¨ç†åœ¨ä¼ ç»Ÿçš„äºšé‡Œå£«å¤šå¾·é€»è¾‘ä¸­æ˜¯ã€Œç»“è®ºï¼Œå¯ä»å«åšâ€˜å‰æâ€™çš„å·²çŸ¥äº‹å®ï¼Œâ€˜å¿…ç„¶åœ°â€™å¾—å‡ºçš„æ¨ç†ã€ã€‚å¦‚æœå‰æä¸ºçœŸï¼Œåˆ™ç»“è®ºå¿…ç„¶ä¸ºçœŸã€‚è¿™åŒºåˆ«äºæº¯å› æ¨ç†å’Œå½’çº³æ¨ç†ï¼šå®ƒä»¬çš„å‰æå¯ä»¥é¢„æµ‹å‡ºé«˜æ¦‚ç‡çš„ç»“è®ºï¼Œä½†æ˜¯ä¸ç¡®ä¿ç»“è®ºä¸ºçœŸã€‚</p>
<p>â€œæ¼”ç»æ¨ç†â€è¿˜å¯ä»¥å®šä¹‰ä¸ºç»“è®ºåœ¨æ™®éæ€§ä¸Šä¸å¤§äºå‰æçš„æ¨ç†ï¼Œæˆ–ã€Œç»“è®ºåœ¨ç¡®å®šæ€§ä¸Šï¼ŒåŒå‰æä¸€æ ·ã€çš„æ¨ç†ã€‚</p>
<p>ä¾‹å¦‚ï¼š<br />
ä»»ä½•ä¸‰è§’å½¢åªå¯èƒ½æ˜¯é”è§’ä¸‰è§’å½¢ã€ç›´è§’ä¸‰è§’å½¢å’Œé’è§’ä¸‰è§’å½¢ã€‚â€”â€”å¤§å‰æ</p>
<p>è¿™ä¸ªä¸‰è§’å½¢æ—¢ä¸æ˜¯é”è§’ä¸‰è§’å½¢ï¼Œä¹Ÿä¸æ˜¯é’è§’ä¸‰è§’å½¢ã€‚â€”â€”å°å‰æ</p>
<p>æ‰€ä»¥ï¼Œå®ƒæ˜¯ä¸€ä¸ªç›´è§’ä¸‰è§’å½¢ã€‚â€”â€”ç»“è®º</p>
<h2><a id="%E6%95%B0%E5%AD%A6%E5%BD%92%E7%BA%B3%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ•°å­¦å½’çº³æ³•</h2>
<p>æ•°å­¦å½’çº³æ³•ï¼ˆMathematical Inductionã€MIã€IDï¼‰æ˜¯ä¸€ç§æ•°å­¦è¯æ˜æ–¹æ³•ï¼Œé€šå¸¸è¢«ç”¨äºè¯æ˜æŸä¸ªç»™å®šå‘½é¢˜åœ¨æ•´ä¸ªï¼ˆæˆ–è€…å±€éƒ¨ï¼‰è‡ªç„¶æ•°èŒƒå›´å†…æˆç«‹ã€‚</p>
<p>é™¤äº†è‡ªç„¶æ•°ä»¥å¤–ï¼Œå¹¿ä¹‰ä¸Šçš„æ•°å­¦å½’çº³æ³•ä¹Ÿå¯ä»¥ç”¨äºè¯æ˜ä¸€èˆ¬è‰¯åŸºç»“æ„ï¼Œä¾‹å¦‚ï¼šé›†åˆè®ºä¸­çš„æ ‘ã€‚è¿™ç§å¹¿ä¹‰çš„æ•°å­¦å½’çº³æ³•åº”ç”¨äºæ•°å­¦é€»è¾‘å’Œè®¡ç®—æœºç§‘å­¦é¢†åŸŸï¼Œç§°ä½œç»“æ„å½’çº³æ³•ã€‚</p>
<p>è™½ç„¶æ•°å­¦å½’çº³æ³•åå­—ä¸­æœ‰â€œå½’çº³â€ï¼Œä½†æ˜¯æ•°å­¦å½’çº³æ³•å¹¶éä¸ä¸¥è°¨çš„å½’çº³æ¨ç†æ³•ï¼Œå®ƒå±äºå®Œå…¨ä¸¥è°¨çš„æ¼”ç»æ¨ç†æ³•ã€‚äº‹å®ä¸Šï¼Œæ‰€æœ‰çš„æ•°å­¦è¯æ˜éƒ½æ˜¯æ¼”ç»æ³•ã€‚</p>
<p>è¯æ˜æœ‰å…³æ•´æ•°çš„æ–­è¨€å¯¹äº 0 ä»¥ä¸Šçš„æ‰€æœ‰æ•´æ•°ï¼ˆ0ã€1ã€2ã€3â€¦â€¦ï¼‰æ˜¯å¦æˆç«‹ã€‚</p>
<p>å‡è®¾ç°åœ¨è¦ç”¨æ•°å­¦å½’çº³æ³•æ¥è¯æ˜â€œæ–­è¨€ P(n) å¯¹äº 0 ä»¥ä¸Šçš„æ‰€æœ‰æ•´æ•° n éƒ½æˆç«‹â€ã€‚</p>
<p>æ•°å­¦å½’çº³æ³•è¦ç»è¿‡ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤è¿›è¡Œè¯æ˜ã€‚</p>
<ol>
<li>è¯æ˜â€œP(0) æˆç«‹â€ã€‚</li>
<li>è¯æ˜ä¸è®º k ä¸º 0 ä»¥ä¸Šçš„å“ªä¸ªæ•´æ•°ï¼Œâ€œè‹¥ P(k) æˆç«‹ï¼Œåˆ™ P(k+1) ä¹Ÿæˆç«‹â€ã€‚</li>
</ol>
<p>åœ¨æ­¥éª¤ 1 ä¸­ï¼Œè¦è¯æ˜å½“ k ä¸º 0 æ—¶æ–­è¨€ P(0) æ—¶æˆç«‹ã€‚æˆ‘ä»¬å°†æ­¥éª¤ 1 ç§°ä¸ºåŸºåº•ï¼ˆbaseï¼‰ã€‚</p>
<p>åœ¨æ­¥éª¤ 2 ä¸­ï¼Œè¦è¯æ˜æ— è®º k ä¸º 0 ä»¥ä¸Šçš„å“ªä¸ªæ•´æ•°ï¼Œâ€œè‹¥ P(k) æˆç«‹ï¼Œåˆ™ P(k+1) ä¹Ÿæˆç«‹â€ã€‚æˆ‘ä»¬å°†æ­¥éª¤ 2 ç§°ä½œå½’çº³ï¼ˆinductionï¼‰ã€‚è¯¥æ­¥éª¤è¯æ˜æ–­è¨€è‹¥å¯¹äº 0 ä»¥ä¸Šçš„æŸä¸ªæ•´æ•°æˆç«‹ï¼Œåˆ™å¯¹äºä¸‹ä¸€ä¸ªæ•´æ•°ä¹Ÿæˆç«‹ã€‚</p>
<p>è‹¥æ­¥éª¤ 1 å’Œæ­¥éª¤ 2 éƒ½èƒ½å¾—åˆ°è¯æ˜ï¼Œå°±è¯æ˜äº†â€œæ–­è¨€ P(n) å¯¹äº 0 ä»¥ä¸Šçš„æ‰€æœ‰æ•´æ•° n éƒ½æˆç«‹â€ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯æ•°å­¦å½’çº³æ³•çš„è¯æ˜æ–¹æ³•ã€‚</p>
<p>ä»¥ä¸Šå¤§éƒ¨åˆ†å†…å®¹æ¥è‡ªwikiç™¾ç§‘ã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[å‘½ä»¤è¡Œé€šè¿‡ffmpegå‰ªåˆ‡è§†é¢‘]]></title>
    <link href="www.dreameverafter.com/17001265069516.html"/>
    <updated>2023-11-16T17:21:46+08:00</updated>
    <id>www.dreameverafter.com/17001265069516.html</id>
    <content type="html"><![CDATA[
<p>ffmpegçš„å¼ºå¤§è‡ªä¸ç”¨å¤šä¹¦ï¼Œæœ‰æ—¶å€™é‡åˆ°åªæ˜¯æƒ³ç®€å•å‰ªåˆ‡ä¸€ä¸‹è§†é¢‘ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥ç”¨ä¸€ä¸‹è„šæœ¬ï¼Œç®€å•æ–¹æ³•ï¼Œå‰ææ˜¯å…ˆè£…ä¸Šffmpegç¯å¢ƒã€‚</p>
<p>ä»¥ä¸‹å°±æ˜¯è„šæœ¬å†…å®¹ã€‚</p>
<pre><code class="language-python">#!/usr/bin/env PYTHONIOENCODING=UTF-8 /usr/local/anaconda3/bin/python3

import os, sys
import datetime
file, start, end, target = sys.argv[1:]
h0, m0, s0 = [int(i) for i in start.split(&quot;:&quot;)]
h1, m1, s1 = [int(i) for i in end.split(&quot;:&quot;)]
t0 = datetime.datetime(2016, 1, 1, h0, m0, s0)
t1 = datetime.datetime(2016, 1, 1, h1, m1, s1)
delta = str(t1 - t0)
c = &quot;ffmpeg -i {} -ss {} -t {} -acodec copy -vcodec copy {}&quot;
os.system(c.format(file, start, delta, target))
</code></pre>
<p>ä½¿ç”¨ä¹Ÿæ˜¯æå…¶æ–¹ä¾¿ï¼Œå‡è®¾è„šæœ¬åä¸º<code>capture.py</code>ä¸”å·²ç»æ‹¥æœ‰ç›¸å…³æƒé™ï¼Œé‚£ä¹ˆæ•²ä¸‹é¢ä¸€è¡Œå‘½ä»¤å³å¯ï¼š</p>
<pre><code class="language-plain_text">./capture.py {è¢«å‰ªåˆ‡è§†é¢‘è·¯å¾„} {å‰ªåˆ‡çš„èµ·å§‹æ—¶é—´} {å‰ªåˆ‡çš„ç»“æŸæ—¶é—´} {å‰ªåˆ‡è¾“å‡ºè§†é¢‘è·¯å¾„}

// ä¾‹å­å¦‚ä¸‹
./capture.py è¢«å‰ªåˆ‡è§†é¢‘.mp4 00:00:00 00:10:00 å‰ªåˆ‡å¥½çš„è§†é¢‘.mp4

</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç¦»éªš]]></title>
    <link href="www.dreameverafter.com/17001173766480.html"/>
    <updated>2023-11-16T14:49:36+08:00</updated>
    <id>www.dreameverafter.com/17001173766480.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>å…ˆç§¦â€¢å±ˆåŸ</p>
</blockquote>
<p>å¸é«˜é˜³ä¹‹è‹—è£”å…®ï¼Œæœ•çš‡è€ƒæ›°ä¼¯åº¸ã€‚</p>
<p>æ‘„æè´äºå­Ÿé™¬å…®ï¼ŒæƒŸåºšå¯…å¾ä»¥é™ã€‚</p>
<p>çš‡è§ˆæ†ä½™åˆåº¦å…®ï¼Œè‚‡é”¡ä½™ä»¥å˜‰åã€‚</p>
<p>åä½™æ›°æ­£åˆ™å…®ï¼Œå­—ä½™æ›°çµå‡ã€‚</p>
<p>çº·å¾æ—¢æœ‰æ­¤å†…ç¾å…®ï¼Œåˆé‡ä¹‹ä»¥ä¿®èƒ½ã€‚</p>
<p>æ‰ˆæ±Ÿç¦»ä¸è¾ŸèŠ·å…®ï¼Œçº«ç§‹å…°ä»¥ä¸ºä½©ã€‚</p>
<p>æ±©ä½™è‹¥å°†ä¸åŠå…®ï¼Œæå¹´å²ä¹‹ä¸å¾ä¸ã€‚</p>
<p>æœæ´é˜°ä¹‹æœ¨å…°å…®ï¼Œå¤•æ½æ´²ä¹‹å®¿è½ã€‚</p>
<p>æ—¥æœˆå¿½å…¶ä¸æ·¹å…®ï¼Œæ˜¥ä¸ç§‹å…¶ä»£åºã€‚</p>
<p>æƒŸè‰æœ¨ä¹‹é›¶è½å…®ï¼Œæç¾äººä¹‹è¿Ÿæš®ã€‚</p>
<p>ä¸æŠšå£®è€Œå¼ƒç§½å…®ï¼Œä½•ä¸æ”¹ä¹æ­¤åº¦ï¼Ÿ</p>
<p>ä¹˜éªéª¥ä»¥é©°éª‹å…®ï¼Œæ¥å¾é“å¤«å…ˆè·¯ï¼</p>
<p>æ˜”ä¸‰åä¹‹çº¯ç²¹å…®ï¼Œå›ºä¼—èŠ³ä¹‹æ‰€åœ¨ã€‚</p>
<p>æ‚ç”³æ¤’ä¸èŒæ¡‚å…®ï¼Œå²‚æƒŸçº«å¤«è•™èŒï¼</p>
<p>å½¼å°§ã€èˆœä¹‹è€¿ä»‹å…®ï¼Œæ—¢éµé“è€Œå¾—è·¯ã€‚</p>
<p>ä½•æ¡€çº£ä¹‹æ˜ŒæŠ«å…®ï¼Œå¤«æƒŸæ·å¾„ä»¥çª˜æ­¥ã€‚</p>
<p>æƒŸå¤«å…šäººä¹‹å·ä¹å…®ï¼Œè·¯å¹½æ˜§ä»¥é™©éš˜ã€‚</p>
<p>å²‚ä½™èº«ä¹‹æ®šæ®ƒå…®ï¼Œæçš‡èˆ†ä¹‹è´¥ç»©ã€‚</p>
<p>å¿½å¥”èµ°ä»¥å…ˆåå…®ï¼ŒåŠå‰ç‹ä¹‹è¸µæ­¦ã€‚</p>
<p>èƒä¸æŸ¥ä½™ä¹‹ä¸­æƒ…å…®ï¼Œåä¿¡è°—è€Œé½Œæ€’ã€‚</p>
<p>ä½™å›ºçŸ¥è¬‡è¬‡ä¹‹ä¸ºæ‚£å…®ï¼Œå¿è€Œä¸èƒ½èˆä¹Ÿã€‚</p>
<p>æŒ‡ä¹å¤©ä»¥ä¸ºæ­£å…®ï¼Œå¤«æƒŸçµä¿®ä¹‹æ•…ä¹Ÿã€‚</p>
<p>æ›°é»„æ˜ä»¥ä¸ºæœŸå…®ï¼Œç¾Œä¸­é“è€Œæ”¹è·¯ã€‚</p>
<p>åˆæ—¢ä¸ä½™æˆè¨€å…®ï¼Œåæ‚”éè€Œæœ‰ä»–ã€‚</p>
<p>ä½™æ—¢ä¸éš¾å¤«ç¦»åˆ«å…®ï¼Œä¼¤çµä¿®ä¹‹æ•°åŒ–ã€‚</p>
<p>ä½™æ—¢æ»‹å…°ä¹‹ä¹ç•¹å…®ï¼Œåˆæ ‘è•™ä¹‹ç™¾äº©ã€‚</p>
<p>ç•¦ç•™å¤·ä¸æ­è½¦å…®ï¼Œæ‚æœè¡¡ä¸èŠ³èŠ·ã€‚</p>
<p>å†€æå¶ä¹‹å³»èŒ‚å…®ï¼Œæ„¿ä¿Ÿæ—¶ä¹å¾å°†åˆˆã€‚</p>
<p>è™½èç»å…¶äº¦ä½•ä¼¤å…®ï¼Œå“€ä¼—èŠ³ä¹‹èŠœç§½ã€‚</p>
<p>ä¼—çš†ç«è¿›ä»¥è´ªå©ªå…®ï¼Œå‡­ä¸åŒä¹æ±‚ç´¢ã€‚</p>
<p>ç¾Œå†…æ•å·±ä»¥é‡äººå…®ï¼Œå„å…´å¿ƒè€Œå«‰å¦’ã€‚</p>
<p>å¿½é©°éª›ä»¥è¿½é€å…®ï¼Œéä½™å¿ƒä¹‹æ‰€æ€¥ã€‚</p>
<p>è€å†‰å†‰å…¶å°†è‡³å…®ï¼Œæä¿®åä¹‹ä¸ç«‹ã€‚</p>
<p>æœé¥®æœ¨å…°ä¹‹å éœ²å…®ï¼Œå¤•é¤ç§‹èŠä¹‹è½è‹±ã€‚</p>
<p>è‹Ÿä½™æƒ…å…¶ä¿¡å§±ä»¥ç»ƒè¦å…®ï¼Œé•¿é¡‘é¢”äº¦ä½•ä¼¤ã€‚</p>
<p>æ”æœ¨æ ¹ä»¥ç»“èŒå…®ï¼Œè´¯è–œè”ä¹‹è½è•Šã€‚</p>
<p>çŸ«èŒæ¡‚ä»¥çº«è•™å…®ï¼Œç´¢èƒ¡ç»³ä¹‹çºšçºšã€‚</p>
<p>è¬‡å¾æ³•å¤«å‰ä¿®å…®ï¼Œéä¸–ä¿—ä¹‹æ‰€æœã€‚</p>
<p>è™½ä¸å‘¨äºä»Šä¹‹äººå…®ï¼Œæ„¿ä¾å½­å’¸ä¹‹é—åˆ™ã€‚</p>
<p>é•¿å¤ªæ¯ä»¥æ©æ¶•å…®ï¼Œå“€æ°‘ç”Ÿä¹‹å¤šè‰°ã€‚</p>
<p>ä½™è™½å¥½ä¿®å§±ä»¥é¿ç¾å…®ï¼Œè¬‡æœè°‡è€Œå¤•æ›¿ã€‚</p>
<p>æ—¢æ›¿ä½™ä»¥è•™çº•å…®ï¼Œåˆç”³ä¹‹ä»¥æ½èŒã€‚</p>
<p>äº¦ä½™å¿ƒä¹‹æ‰€å–„å…®ï¼Œè™½ä¹æ­»å…¶çŠ¹æœªæ‚”ã€‚</p>
<p>æ€¨çµä¿®ä¹‹æµ©è¡å…®ï¼Œç»ˆä¸å¯Ÿå¤«æ°‘å¿ƒã€‚</p>
<p>ä¼—å¥³å«‰ä½™ä¹‹è›¾çœ‰å…®ï¼Œè°£è¯¼è°“ä½™ä»¥å–„æ·«ã€‚</p>
<p>å›ºæ—¶ä¿—ä¹‹å·¥å·§å…®ï¼Œå­è§„çŸ©è€Œæ”¹é”™ã€‚</p>
<p>èƒŒç»³å¢¨ä»¥è¿½æ›²å…®ï¼Œç«å‘¨å®¹ä»¥ä¸ºåº¦ã€‚</p>
<p>å¿³éƒé‚‘ä½™ä¾˜å‚ºå…®ï¼Œå¾ç‹¬ç©·å›°ä¹æ­¤æ—¶ä¹Ÿã€‚</p>
<p>å®æº˜æ­»ä»¥æµäº¡å…®ï¼Œä½™ä¸å¿ä¸ºæ­¤æ€ä¹Ÿã€‚</p>
<p>é¸·é¸Ÿä¹‹ä¸ç¾¤å…®ï¼Œè‡ªå‰ä¸–è€Œå›ºç„¶ã€‚</p>
<p>ä½•æ–¹åœœä¹‹èƒ½å‘¨å…®ï¼Œå¤«å­°å¼‚é“è€Œç›¸å®‰ï¼Ÿ</p>
<p>å±ˆå¿ƒè€ŒæŠ‘å¿—å…®ï¼Œå¿å°¤è€Œæ”˜è¯Ÿã€‚</p>
<p>ä¼æ¸…ç™½ä»¥æ­»ç›´å…®ï¼Œå›ºå‰åœ£ä¹‹æ‰€åšã€‚</p>
<p>æ‚”ç›¸é“ä¹‹ä¸å¯Ÿå…®ï¼Œå»¶ä¼«ä¹å¾å°†åã€‚</p>
<p>å›æœ•è½¦ä»¥å¤è·¯å…®ï¼ŒåŠè¡Œè¿·ä¹‹æœªè¿œã€‚</p>
<p>æ­¥ä½™é©¬äºå…°çš‹å…®ï¼Œé©°æ¤’ä¸˜ä¸”ç„‰æ­¢æ¯ã€‚</p>
<p>è¿›ä¸å…¥ä»¥ç¦»å°¤å…®ï¼Œé€€å°†å¤ä¿®å¾åˆæœã€‚</p>
<p>åˆ¶èŠ°è·ä»¥ä¸ºè¡£å…®ï¼Œé›†èŠ™è“‰ä»¥ä¸ºè£³ã€‚</p>
<p>ä¸å¾çŸ¥å…¶äº¦å·²å…®ï¼Œè‹Ÿä½™æƒ…å…¶ä¿¡èŠ³ã€‚</p>
<p>é«˜ä½™å† ä¹‹å²Œå²Œå…®ï¼Œé•¿ä½™ä½©ä¹‹é™†ç¦»ã€‚</p>
<p>èŠ³ä¸æ³½å…¶æ‚ç³…å…®ï¼Œå”¯æ˜­è´¨å…¶çŠ¹æœªäºã€‚</p>
<p>å¿½åé¡¾ä»¥æ¸¸ç›®å…®ï¼Œå°†å¾€è§‚ä¹å››è’ã€‚</p>
<p>ä½©ç¼¤çº·å…¶ç¹é¥°å…®ï¼ŒèŠ³è²è²å…¶å¼¥ç« ã€‚</p>
<p>æ°‘ç”Ÿå„æœ‰æ‰€ä¹å…®ï¼Œä½™ç‹¬å¥½ä¿®ä»¥ä¸ºå¸¸ã€‚</p>
<p>è™½ä½“è§£å¾çŠ¹æœªå˜å…®ï¼Œå²‚ä½™å¿ƒä¹‹å¯æƒ©ã€‚</p>
<p>å¥³å¬ƒä¹‹å©µåª›å…®ï¼Œç”³ç”³å…¶è©ˆäºˆã€‚</p>
<p>æ›°ï¼šâ€œé²§å©ç›´ä»¥äº¡èº«å…®ï¼Œç»ˆç„¶å¤­ä¹ç¾½ä¹‹é‡ã€‚</p>
<p>æ±ä½•åšè¬‡è€Œå¥½ä¿®å…®ï¼Œçº·ç‹¬æœ‰æ­¤å§±èŠ‚ã€‚</p>
<p>è–‹è‰è‘¹ä»¥ç›ˆå®¤å…®ï¼Œåˆ¤ç‹¬ç¦»è€Œä¸æœã€‚</p>
<p>ä¼—ä¸å¯æˆ·è¯´å…®ï¼Œå­°äº‘å¯Ÿä½™ä¹‹ä¸­æƒ…ã€‚</p>
<p>ä¸–å¹¶ä¸¾è€Œå¥½æœ‹å…®ï¼Œå¤«ä½•èŒ•ç‹¬è€Œä¸äºˆå¬ï¼Ÿ</p>
<p>ä¾å‰åœ£ä»¥èŠ‚ä¸­å…®ï¼Œå–Ÿå‡­å¿ƒè€Œå†å…¹ã€‚</p>
<p>æµæ²…ã€æ¹˜ä»¥å—å¾å…®ï¼Œå°±é‡åè€Œæ•¶è¯ï¼š</p>
<p>å¯ã€Šä¹è¾©ã€‹ä¸ã€Šä¹æ­Œã€‹å…®ï¼Œå¤åº·å¨±ä»¥è‡ªçºµã€‚</p>
<p>ä¸é¡¾éš¾ä»¥å›¾åå…®ï¼Œäº”å­ç”¨å¤±ä¹å®¶è¡–ã€‚</p>
<p>ç¾¿æ·«æ¸¸ä»¥ä½šç•‹å…®ï¼Œåˆå¥½å°„å¤«å°ç‹ã€‚</p>
<p>å›ºä¹±æµå…¶é²œç»ˆå…®ï¼Œæµåˆè´ªå¤«å¥å®¶ã€‚</p>
<p>æµ‡èº«è¢«æœå¼ºåœ‰å…®ï¼Œçºµæ¬²è€Œä¸å¿ã€‚</p>
<p>æ—¥åº·å¨±è€Œè‡ªå¿˜å…®ï¼Œå¥é¦–ç”¨å¤«é¢ é™¨ã€‚</p>
<p>å¤æ¡€ä¹‹å¸¸è¿å…®ï¼Œä¹ƒé‚ç„‰è€Œé€¢æ®ƒã€‚</p>
<p>åè¾›ä¹‹è¹é†¢å…®ï¼Œæ®·å®—ç”¨è€Œä¸é•¿ã€‚</p>
<p>æ±¤ã€ç¦¹ä¿¨è€Œç¥—æ•¬å…®ï¼Œå‘¨è®ºé“è€Œè«å·®ã€‚</p>
<p>ä¸¾è´¤æ‰è€Œæˆèƒ½å…®ï¼Œå¾ªç»³å¢¨è€Œä¸é¢‡ã€‚</p>
<p>çš‡å¤©æ— ç§é˜¿å…®ï¼Œè§ˆæ°‘å¾·ç„‰é”™è¾…ã€‚</p>
<p>å¤«ç»´åœ£å“²ä»¥èŒ‚è¡Œå…®ï¼Œè‹Ÿå¾—ç”¨æ­¤ä¸‹åœŸã€‚</p>
<p>ç»å‰è€Œé¡¾åå…®ï¼Œç›¸è§‚æ°‘ä¹‹è®¡æã€‚</p>
<p>å¤«å­°éä¹‰è€Œå¯ç”¨å…®ï¼Ÿå­°éå–„è€Œå¯æœï¼Ÿ</p>
<p>é˜½ä½™èº«è€Œå±æ­»å…®ï¼Œè§ˆä½™åˆå…¶çŠ¹æœªæ‚”ã€‚</p>
<p>ä¸é‡å‡¿è€Œæ­£æ˜å…®ï¼Œå›ºå‰ä¿®ä»¥è¹é†¢ã€‚</p>
<p>æ›¾æ­”æ¬·ä½™éƒé‚‘å…®ï¼Œå“€æœ•æ—¶ä¹‹ä¸å½“ã€‚</p>
<p>æ½èŒ¹è•™ä»¥æ©æ¶•å…®ï¼Œæ²¾ä½™è¥Ÿä¹‹æµªæµªã€‚</p>
<p>è·ªæ•·è¡½ä»¥é™ˆè¾å…®ï¼Œè€¿å¾æ—¢å¾—æ­¤ä¸­æ­£ã€‚</p>
<p>é©·ç‰è™¬ä»¥æ¡€é¹¥å…®ï¼Œæº˜åŸƒé£ä½™ä¸Šå¾ã€‚</p>
<p>æœå‘è½«äºè‹æ¢§å…®ï¼Œå¤•ä½™è‡³ä¹å¿åœƒã€‚</p>
<p>æ¬²å°‘ç•™æ­¤çµçå…®ï¼Œæ—¥å¿½å¿½å…¶å°†æš®ã€‚</p>
<p>å¾ä»¤ç¾²å’Œå¼­èŠ‚å…®ï¼Œæœ›å´¦åµ«è€Œå‹¿è¿«ã€‚</p>
<p>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚</p>
<p>é¥®ä½™é©¬äºå’¸æ± å…®ï¼Œæ€»ä½™è¾”ä¹æ‰¶æ¡‘ã€‚</p>
<p>æŠ˜è‹¥æœ¨ä»¥æ‹‚æ—¥å…®ï¼ŒèŠé€é¥ä»¥ç›¸ç¾Šã€‚</p>
<p>å‰æœ›èˆ’ä½¿å…ˆé©±å…®ï¼Œåé£å»‰ä½¿å¥”å±ã€‚</p>
<p>é¸¾çš‡ä¸ºä½™å…ˆæˆ’å…®ï¼Œé›·å¸ˆå‘Šä½™ä»¥æœªå…·ã€‚</p>
<p>å¾ä»¤å‡¤é¸Ÿé£è…¾å…®ï¼Œç»§ä¹‹ä»¥æ—¥å¤œã€‚</p>
<p>é£˜é£å±¯å…¶ç›¸ç¦»å…®ï¼Œå¸…äº‘éœ“è€Œæ¥å¾¡ã€‚</p>
<p>çº·æ€»æ€»å…¶ç¦»åˆå…®ï¼Œæ–‘é™†ç¦»å…¶ä¸Šä¸‹ã€‚</p>
<p>å¾ä»¤å¸é˜å¼€å…³å…®ï¼Œå€šé˜Šé˜–è€Œæœ›äºˆã€‚</p>
<p>æ—¶æš§æš§å…¶å°†ç½¢å…®ï¼Œç»“å¹½å…°è€Œå»¶ä¼«ã€‚</p>
<p>ä¸–æº·æµŠè€Œä¸åˆ†å…®ï¼Œå¥½è”½ç¾è€Œå«‰å¦’ã€‚</p>
<p>æœå¾å°†æµäºç™½æ°´å…®ï¼Œç™»é˜†é£è€Œç»é©¬ã€‚</p>
<p>å¿½åé¡¾ä»¥æµæ¶•å…®ï¼Œå“€é«˜ä¸˜ä¹‹æ— å¥³ã€‚</p>
<p>æº˜å¾æ¸¸æ­¤æ˜¥å®«å…®ï¼ŒæŠ˜ç¼æä»¥ç»§ä½©ã€‚</p>
<p>åŠè£åä¹‹æœªè½å…®ï¼Œç›¸ä¸‹å¥³ä¹‹å¯è¯’ã€‚</p>
<p>å¾ä»¤ä¸°éš†ä¹˜äº‘å…®ï¼Œæ±‚å®“å¦ƒä¹‹æ‰€åœ¨ã€‚</p>
<p>è§£ä½©çº•ä»¥ç»“è¨€å…®ï¼Œå¾ä»¤è¬‡ä¿®ä»¥ä¸ºç†ã€‚</p>
<p>çº·æ€»æ€»å…¶ç¦»åˆå…®ï¼Œå¿½çº¬ç¹£å…¶éš¾è¿ã€‚</p>
<p>å¤•å½’æ¬¡äºç©·çŸ³å…®ï¼Œæœæ¿¯å‘ä¹æ´§ç›˜ã€‚</p>
<p>ä¿å¥ç¾ä»¥éª„å‚²å…®ï¼Œæ—¥åº·å¨±ä»¥æ·«æ¸¸ã€‚</p>
<p>è™½ä¿¡ç¾è€Œæ— ç¤¼å…®ï¼Œæ¥è¿å¼ƒè€Œæ”¹æ±‚ã€‚</p>
<p>è§ˆç›¸è§‚äºå››æå…®ï¼Œå‘¨æµä¹å¤©ä½™ä¹ƒä¸‹ã€‚</p>
<p>æœ›ç‘¶å°ä¹‹åƒè¹‡å…®ï¼Œè§æœ‰å¨€ä¹‹ä½šå¥³ã€‚</p>
<p>å¾ä»¤é¸©ä¸ºåª’å…®ï¼Œé¸©å‘Šä½™ä»¥ä¸å¥½ã€‚</p>
<p>é›„é¸ ä¹‹é¸£é€å…®ï¼Œä½™çŠ¹æ¶å…¶ä½»å·§ã€‚</p>
<p>å¿ƒçŠ¹è±«è€Œç‹ç–‘å…®ï¼Œæ¬²è‡ªé€‚è€Œä¸å¯ã€‚</p>
<p>å‡¤çš‡æ—¢å—è¯’å…®ï¼Œæé«˜è¾›ä¹‹å…ˆæˆ‘ã€‚</p>
<p>æ¬²è¿œé›†è€Œæ— æ‰€æ­¢å…®ï¼ŒèŠæµ®æ¸¸ä»¥é€é¥ã€‚</p>
<p>åŠå°‘åº·ä¹‹æœªå®¶å…®ï¼Œç•™æœ‰è™ä¹‹äºŒå§šã€‚</p>
<p>ç†å¼±è€Œåª’æ‹™å…®ï¼Œæå¯¼è¨€ä¹‹ä¸å›ºã€‚</p>
<p>ä¸–æº·æµŠè€Œå«‰è´¤å…®ï¼Œå¥½è”½ç¾è€Œç§°æ¶ã€‚</p>
<p>é—ºä¸­æ—¢ä»¥é‚ƒè¿œå…®ï¼Œå“²ç‹åˆä¸å¯¤ã€‚</p>
<p>æ€€æœ•æƒ…è€Œä¸å‘å…®ï¼Œä½™ç„‰èƒ½å¿è€Œä¸æ­¤ç»ˆå¤ï¼Ÿ</p>
<p>ç´¢ç¼èŒ…ä»¥ç­³ç¯¿å…®ï¼Œå‘½çµæ°›ä¸ºä½™å ä¹‹ã€‚</p>
<p>æ›°ï¼šâ€œä¸¤ç¾å…¶å¿…åˆå…®ï¼Œå­°ä¿¡ä¿®è€Œæ…•ä¹‹ï¼Ÿ</p>
<p>æ€ä¹å·ä¹‹åšå¤§å…®ï¼Œå²‚æƒŸæ˜¯å…¶æœ‰å¥³ï¼Ÿâ€</p>
<p>æ›°ï¼šâ€œå‹‰è¿œé€è€Œæ— ç‹ç–‘å…®ï¼Œå­°æ±‚ç¾è€Œé‡Šå¥³ï¼Ÿ</p>
<p>ä½•æ‰€ç‹¬æ— èŠ³è‰å…®ï¼Œå°”ä½•æ€€ä¹æ•…å®‡ï¼Ÿâ€</p>
<p>ä¸–å¹½æ˜§ä»¥æ˜¡æ›œå…®ï¼Œå­°äº‘å¯Ÿä½™ä¹‹å–„æ¶ï¼Ÿ</p>
<p>æ°‘å¥½æ¶å…¶ä¸åŒå…®ï¼ŒæƒŸæ­¤å…šäººå…¶ç‹¬å¼‚ï¼</p>
<p>æˆ·æœè‰¾ä»¥ç›ˆè¦å…®ï¼Œè°“å¹½å…°å…¶ä¸å¯ä½©ã€‚</p>
<p>è§ˆå¯Ÿè‰æœ¨å…¶çŠ¹æœªå¾—å…®ï¼Œå²‚çµç¾ä¹‹èƒ½å½“ï¼Ÿ</p>
<p>è‹ç²ªå£¤ä»¥å……ç¥å…®ï¼Œè°“ç”³æ¤’å…¶ä¸èŠ³ã€‚</p>
<p>æ¬²ä»çµæ°›ä¹‹å‰å å…®ï¼Œå¿ƒçŠ¹è±«è€Œç‹ç–‘ã€‚</p>
<p>å·«å’¸å°†å¤•é™å…®ï¼Œæ€€æ¤’ç³ˆè€Œè¦ä¹‹ã€‚</p>
<p>ç™¾ç¥ç¿³å…¶å¤‡é™å…®ï¼Œä¹ç–‘ç¼¤å…¶å¹¶è¿ã€‚</p>
<p>çš‡å‰¡å‰¡å…¶æ‰¬çµå…®ï¼Œå‘Šä½™ä»¥å‰æ•…ã€‚</p>
<p>æ›°ï¼šâ€œå‹‰å‡é™ä»¥ä¸Šä¸‹å…®ï¼Œæ±‚çŸ©çŸ±ä¹‹æ‰€åŒã€‚</p>
<p>æ±¤ã€ç¦¹ä¿¨è€Œæ±‚åˆå…®ï¼ŒæŒšã€å’ç¹‡è€Œèƒ½è°ƒã€‚</p>
<p>è‹Ÿä¸­æƒ…å…¶å¥½ä¿®å…®ï¼Œåˆä½•å¿…ç”¨å¤«è¡Œåª’ï¼Ÿ</p>
<p>è¯´æ“ç­‘äºå‚…å²©å…®ï¼Œæ­¦ä¸ç”¨è€Œä¸ç–‘ã€‚</p>
<p>å•æœ›ä¹‹é¼“åˆ€å…®ï¼Œé­å‘¨æ–‡è€Œå¾—ä¸¾ã€‚</p>
<p>å®æˆšä¹‹è®´æ­Œå…®ï¼Œé½æ¡“é—»ä»¥è¯¥è¾…ã€‚</p>
<p>åŠå¹´å²ä¹‹æœªæ™å…®ï¼Œæ—¶äº¦çŠ¹å…¶æœªå¤®ã€‚</p>
<p>æé¹ˆé´ƒä¹‹å…ˆé¸£å…®ï¼Œä½¿å¤«ç™¾è‰ä¸ºä¹‹ä¸èŠ³ã€‚â€</p>
<p>ä½•ç¼ä½©ä¹‹åƒè¹‡å…®ï¼Œä¼—è–†ç„¶è€Œè”½ä¹‹ã€‚</p>
<p>æƒŸæ­¤å…šäººä¹‹ä¸è°…å…®ï¼Œæå«‰å¦’è€ŒæŠ˜ä¹‹ã€‚</p>
<p>æ—¶ç¼¤çº·å…¶å˜æ˜“å…®ï¼Œåˆä½•å¯ä»¥æ·¹ç•™ï¼Ÿ</p>
<p>å…°èŠ·å˜è€Œä¸èŠ³å…®ï¼Œèƒè•™åŒ–è€Œä¸ºèŒ…ã€‚</p>
<p>ä½•æ˜”æ—¥ä¹‹èŠ³è‰å…®ï¼Œä»Šç›´ä¸ºæ­¤è§è‰¾ä¹Ÿï¼Ÿ</p>
<p>å²‚å…¶æœ‰ä»–æ•…å…®ï¼Œè«å¥½ä¿®ä¹‹å®³ä¹Ÿï¼</p>
<p>ä½™ä»¥å…°ä¸ºå¯æƒå…®ï¼Œç¾Œæ— å®è€Œå®¹é•¿ã€‚</p>
<p>å§”å¥ç¾ä»¥ä»ä¿—å…®ï¼Œè‹Ÿå¾—åˆ—ä¹ä¼—èŠ³ã€‚</p>
<p>æ¤’ä¸“ä½ä»¥æ…¢æ…†å…®ï¼Œæ¨§åˆæ¬²å……å¤«ä½©å¸ã€‚</p>
<p>æ—¢å¹²è¿›è€ŒåŠ¡å…¥å…®ï¼Œåˆä½•èŠ³ä¹‹èƒ½ç¥—ï¼Ÿ</p>
<p>å›ºæ—¶ä¿—ä¹‹æµä»å…®ï¼Œåˆå­°èƒ½æ— å˜åŒ–ï¼Ÿ</p>
<p>è§ˆæ¤’å…°å…¶è‹¥å…¹å…®ï¼Œåˆå†µæ­è½¦ä¸æ±Ÿç¦»ï¼Ÿ</p>
<p>æƒŸå…¹ä½©ä¹‹å¯è´µå…®ï¼Œå§”å¥ç¾è€Œå†å…¹ã€‚</p>
<p>èŠ³è²è²è€Œéš¾äºå…®ï¼ŒèŠ¬è‡³ä»ŠçŠ¹æœªæ²¬ã€‚</p>
<p>å’Œè°ƒåº¦ä»¥è‡ªå¨±å…®ï¼ŒèŠæµ®æ¸¸è€Œæ±‚å¥³ã€‚</p>
<p>åŠä½™é¥°ä¹‹æ–¹å£®å…®ï¼Œå‘¨æµè§‚ä¹ä¸Šä¸‹ã€‚</p>
<p>çµæ°›æ—¢å‘Šä½™ä»¥å‰å å…®ï¼Œå†å‰æ—¥ä¹å¾å°†è¡Œã€‚</p>
<p>æŠ˜ç¼æä»¥ä¸ºç¾å…®ï¼Œç²¾ç¼çˆ¢ä»¥ä¸ºç²»ã€‚</p>
<p>ä¸ºä½™é©¾é£é¾™å…®ï¼Œæ‚ç‘¶è±¡ä»¥ä¸ºè½¦ã€‚</p>
<p>ä½•ç¦»å¿ƒä¹‹å¯åŒå…®ï¼Ÿå¾å°†è¿œé€ä»¥è‡ªç–ã€‚</p>
<p>é‚…å¾é“å¤«æ˜†ä»‘å…®ï¼Œè·¯ä¿®è¿œä»¥å‘¨æµã€‚</p>
<p>æ‰¬äº‘éœ“ä¹‹æ™»è”¼å…®ï¼Œé¸£ç‰é¸¾ä¹‹å•¾å•¾ã€‚</p>
<p>æœå‘è½«äºå¤©æ´¥å…®ï¼Œå¤•ä½™è‡³ä¹è¥¿æã€‚</p>
<p>å‡¤çš‡ç¿¼å…¶æ‰¿æ——å…®ï¼Œé«˜ç¿±ç¿”ä¹‹ç¿¼ç¿¼ã€‚</p>
<p>å¿½å¾è¡Œæ­¤æµæ²™å…®ï¼Œéµèµ¤æ°´è€Œå®¹ä¸ã€‚</p>
<p>éº¾è›Ÿé¾™ä½¿æ¢æ´¥å…®ï¼Œè¯è¥¿çš‡ä½¿æ¶‰äºˆã€‚</p>
<p>è·¯ä¿®è¿œä»¥å¤šè‰°å…®ï¼Œè…¾ä¼—è½¦ä½¿å¾„å¾…ã€‚</p>
<p>è·¯ä¸å‘¨ä»¥å·¦è½¬å…®ï¼ŒæŒ‡è¥¿æµ·ä»¥ä¸ºæœŸã€‚</p>
<p>å±¯ä½™è½¦å…¶åƒä¹˜å…®ï¼Œé½ç‰è½ªè€Œå¹¶é©°ã€‚</p>
<p>é©¾å…«é¾™ä¹‹å©‰å©‰å…®ï¼Œè½½äº‘æ——ä¹‹å§”è›‡ã€‚</p>
<p>æŠ‘å¿—è€Œå¼­èŠ‚å…®ï¼Œç¥é«˜é©°ä¹‹é‚ˆé‚ˆã€‚</p>
<p>å¥ã€Šä¹æ­Œã€‹è€Œèˆã€ŠéŸ¶ã€‹å…®ï¼ŒèŠå‡æ—¥ä»¥å·ä¹ã€‚</p>
<p>é™Ÿå‡çš‡ä¹‹èµ«æˆå…®ï¼Œå¿½ä¸´ç¨å¤«æ—§ä¹¡ã€‚</p>
<p>ä»†å¤«æ‚²ä½™é©¬æ€€å…®ï¼Œèœ·å±€é¡¾è€Œä¸è¡Œã€‚</p>
<p>ä¹±æ›°ï¼šå·²çŸ£å“‰ï¼</p>
<p>å›½æ— äººè«æˆ‘çŸ¥å…®ï¼Œåˆä½•æ€€ä¹æ•…éƒ½ï¼</p>
<p>æ—¢è«è¶³ä¸ä¸ºç¾æ”¿å…®ï¼Œå¾å°†ä»å½­å’¸ä¹‹æ‰€å±…ï¼</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[äººä¸ºä»€ä¹ˆä¼šè¿‡åˆ†è‡ªä¿¡]]></title>
    <link href="www.dreameverafter.com/17001161339218.html"/>
    <updated>2023-11-16T14:28:53+08:00</updated>
    <id>www.dreameverafter.com/17001161339218.html</id>
    <content type="html"><![CDATA[
<p><strong>ä¸ºä»€ä¹ˆäººä»¬ä¼šè¿‡åˆ†è‡ªä¿¡å‘¢ï¼Ÿ</strong></p>
<p>è¿™ä¸»è¦æ˜¯å› ä¸ºäººä»¬æœ‰å¾ˆå¤šå…¶ä»–å¯¼è‡´è‡ªå·±è¿‡åˆ†è‡ªä¿¡çš„ç‰¹å¾ã€‚</p>
<p>æ¯”å¦‚è¯´äººä»¬æ€ç»´ä¸­æœ‰<strong>è‡ªæˆ‘å½’å› åå·®</strong>ï¼šå€¾å‘äºæŠŠå¥½çš„ç»“æœå½’ç»“ä¸ºè‡ªå·±èƒ½åŠ›å‡ºä¼—ï¼Œè€ŒæŠŠåçš„ç»“æœå½’ç»“ä¸ºä¸å—è‡ªå·±æ§åˆ¶çš„å¤–éƒ¨åŸå› ï¼ˆæ¯”å¦‚åˆ«äººé€ æˆçš„åŸå› æˆ–è€…å½’å’äºè¿æ°”ä¸å¥½ï¼‰ã€‚</p>
<p>äººä»¬è¿˜æœ‰<strong>äº‹åè¯¸è‘›äº®çš„åå·®</strong>ï¼šå½“ä¸€ä»¶äº‹å‘ç”Ÿåï¼Œäººä»¬ç»å¸¸ä¼šè¯´ï¼Œæˆ‘æ—©å°±çŸ¥é“è¿™äº‹ä¼šå‘ç”Ÿï¼Œå› æ­¤è§‰å¾—è‡ªå·±çš„åˆ¤æ–­åŠ›è¶…ç¾¤ã€‚ä½†é™¤äº†è¿™ä»¶äº‹ï¼Œä»–å¯èƒ½è¿˜é¢„æµ‹äº†å¾ˆå¤šå…¶ä»–äº‹ï¼Œä½†éƒ½æ²¡å‘ç”Ÿã€‚è¿™äº›é”™è¯¯çš„é¢„æµ‹å®Œå…¨æ²¡æœ‰å¼•èµ·ä»–çš„æ³¨æ„ã€‚</p>
<p>å’Œäº‹åè¯¸è‘›äº®åå·®ç±»ä¼¼ï¼Œäººä»¬<strong>åœ¨æ”¶é›†ä¿¡æ¯æ—¶ä¹Ÿä¼šä¸è‡ªè§‰çš„å¿½ç•¥å’Œè‡ªå·±è§‚ç‚¹ä¸ä¸€è‡´çš„ä¿¡æ¯</strong>ï¼Œåªä¼šå¤„ç†å’ŒåŠ å¼ºé‚£äº›å’Œè‡ªå·±å½“åˆè§‚ç‚¹ä¸€è‡´çš„ä¿¡æ¯ã€‚æ­£æ˜¯è¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬åœ¨ç”Ÿæ´»ä¸­å¾ˆéš¾è¯´æœä¸€ä¸ªäººï¼Œå¤šæ•°çš„äº‰åµå…¶å®éƒ½æ˜¯åœ¨æµªè´¹æ—¶é—´ã€‚è¿™äº›äººæ ¹æœ¬ä¸ä¼šå»æ¥å—ä½ æä¾›çš„æ–°ä¿¡æ¯ï¼›è€Œä½ ä¹Ÿç”¨åŒæ ·çš„æ–¹å¼æ‹’ç»ç€åˆ«äººæä¾›çš„å’Œè‡ªå·±è§‚ç‚¹ç›¸æ‚–çš„ä¿¡æ¯ã€‚</p>
<p>å› æ­¤åœ¨å‡ºç°çŸ›ç›¾åï¼Œæ›´é‡è¦çš„äº‹å¦‚ä½•æ‰¾åˆ°åŒæ–¹éƒ½èƒ½æ¥å—çš„ä¸€ä¸ªè§£å†³æ–¹å¼ï¼Œè€Œä¸æ˜¯è¯•å›¾å»è¯´æœå¯¹æ–¹ï¼ˆæ±‚åŒå­˜å¼‚ï¼‰ã€‚</p>
<blockquote>
<p>æ‘˜è‡ªã€Šç†æ€§çš„éç†æ€§é‡‘èã€‹â€”â€” ä½™å‰‘å³°</p>
</blockquote>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CMakeå…¥é—¨åŠå¸¸ç”¨å˜é‡æŒ‡ä»¤æ‰‹å†Œ]]></title>
    <link href="www.dreameverafter.com/17001196451067.html"/>
    <updated>2023-11-16T15:27:25+08:00</updated>
    <id>www.dreameverafter.com/17001196451067.html</id>
    <content type="html"><![CDATA[
<h2><a id="%E5%AE%9E%E6%88%98" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å®æˆ˜</h2>
<p>å‚è€ƒã€ŠCMake Practiceã€‹ã€‚</p>
<h3><a id="%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é¡¹ç›®ç›®å½•ç»“æ„</h3>
<p>æˆ‘ä»¬é¡¹ç›®çš„åç§°ä¸ºCRNodeï¼Œå‡è®¾æˆ‘ä»¬é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶å­˜æ”¾å†~/workspace/CRNodeï¼Œä¹‹åæ²¡æœ‰ç‰¹æ®Šè¯´æ˜çš„è¯ï¼Œæˆ‘ä»¬æ‰€æŒ‡çš„ç›®å½•éƒ½ä»¥æ­¤ç›®å½•ä¸ºç›¸å¯¹è·¯å¾„ã€‚<br />
æˆ‘ä»¬çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text">~/workspace/CRNode
  â”œâ”€ src
  â”‚  â”œâ”€ rpc
  â”‚  â”‚  â”œâ”€ CRMasterCaller.h
  â”‚  â”‚  â”œâ”€ CRMasterCaller.cc
  â”‚  â”‚  â”œâ”€ CRNode.h
  â”‚  â”‚  â”œâ”€ CRNode.cc
  â”‚  â”‚  â”œâ”€ Schd_constants.h
  â”‚  â”‚  â”œâ”€ Schd_constants.cc
  â”‚  â”‚  â”œâ”€ CRMaster.h
  â”‚  â”‚  â”œâ”€ CRMaster.cc
  â”‚  â”‚  â”œâ”€ CRNode_server.skeleton.h
  â”‚  â”‚  â”œâ”€ CRNode_server.skeleton.cc
  â”‚  â”‚  â”œâ”€ Schd_types.h
  â”‚  â”‚  â””â”€ Schd_types.cc
  â”‚  â”œâ”€ task
  â”‚  â”‚  â”œâ”€ TaskExecutor.h
  â”‚  â”‚  â”œâ”€ TaskExecutor.cc
  â”‚  â”‚  â”œâ”€ TaskMonitor.h
  â”‚  â”‚  â””â”€ TaskMonitor.cc
  â”‚  â”œâ”€ util
  â”‚  â”‚  â”œâ”€ Const.h
  â”‚  â”‚  â”œâ”€ Const.cc
  â”‚  â”‚  â”œâ”€ Globals.h
  â”‚  â”‚  â”œâ”€ Globals.cc
  â”‚  â”‚  â”œâ”€ Properties.h
  â”‚  â”‚  â”œâ”€ Properties.cc
  â”‚  â”‚  â”œâ”€ utils.h
  â”‚  â”‚  â””â”€ utils.cc
  â”‚  â”œâ”€ main.cc
  â”‚  â””â”€ CMakeLists.txt
  â”œâ”€ doc
  â”‚  â””â”€ crnode.txt
  â”œâ”€ COPYRIGHT
  â”œâ”€ README
  â”œâ”€ crnode.sh
  â””â”€ CMakeLists.txt
</code></pre>
<p>å…¶ä¸­ï¼Œsrcå­˜æ”¾æºä»£ç æ–‡ä»¶å’Œä¸€ä¸ªCMakeLists.txtæ–‡ä»¶ï¼ŒCMakeListsæ–‡ä»¶çš„ç¼–å†™æˆ‘ä»¬ç¨å€™ä»‹ç»ï¼›docç›®å½•ä¸­å­˜æ”¾é¡¹ç›®çš„å¸®åŠ©æ–‡æ¡£ï¼Œè¯¥æ–‡æ¡£ä»¥åŠCOPYRIGHTå’ŒREADMEä¸€èµ·å®‰è£…åˆ°/usr/share/doc/crnodeç›®å½•ä¸­ï¼›COPYRIGHTæ–‡ä»¶å­˜æ”¾é¡¹ç›®çš„ç‰ˆæƒä¿¡æ¯ï¼ŒREADMEå­˜æ”¾ä¸€äº›è¯´æ˜æ€§æ–‡å­—ï¼›crnode.shå­˜æ”¾CRNodeçš„å¯åŠ¨å‘½ä»¤ï¼›CMakeLists.txtæ–‡ä»¶ç¨å€™ä»‹ç»ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œé¡¹ç›®è¿˜ä¾èµ–ä¸¤ä¸ªå¤–éƒ¨åº“ï¼šFacebookå¼€å‘çš„thriftåº“ï¼Œå…¶å¤´æ–‡ä»¶å­˜æ”¾åœ¨/usr/include/thriftç›®å½•ä¸­ï¼›log4cppåº“ï¼Œå…¶å¤´æ–‡ä»¶å­˜æ”¾å†/usr/includeä¸‹ã€‚</p>
<h3><a id="cmakelists-txt%E6%96%87%E4%BB%B6" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>CMakeLists.txtæ–‡ä»¶</h3>
<p>æœ¬å·¥ç¨‹ä¸­ä½¿ç”¨äº†ä¸¤ä¸ªCMakeLists.txtæ–‡ä»¶ï¼Œåˆ†åˆ«é¡¹ç›®çš„æ ¹ç›®å½•ï¼ˆå³~/workspace/CRNodeç›®å½•ï¼Œä¸‹åŒï¼‰å’Œsrcç›®å½•ä¸­ï¼ˆå‚è€ƒä»¥ä¸Šç›®å½•ç»“æ„ï¼‰ã€‚æˆ‘ä»¬å…ˆç»™å‡ºä¸¤ä¸ªCMakeLists.txtçš„å†…å®¹ï¼Œåœ¨ä¸‹ä¸€èŠ‚ä¸­å†å¯¹ä¸¤ä¸ªCMakeLists.txtè¿›è¡Œè¯¦ç»†ä»‹ç»ã€‚ä¸¤ä¸ªCMakeLists.txtæ–‡ä»¶çš„å†…å®¹åˆ†åˆ«å¦‚ä¸‹ï¼š</p>
<h4><a id="%E6%A0%B9%E7%9B%AE%E5%BD%95%E4%B8%ADcmakelists%E5%86%85%E5%AE%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ ¹ç›®å½•ä¸­CMakeListså†…å®¹</h4>
<pre><code class="language-plain_text">cmake_minimum_required (VERSION 2.6)

project (CRNode)

ADD_SUBDIRECTORY(src bin)

# SET(CMAKE_INSTALL_PREFIX ${PROJECT_BINARY_DIR})
SET(CMAKE_INSTALL_PREFIX /usr/local)

INSTALL(PROGRAMS crnode.sh DESTINATION bin)

INSTALL(FILES COPYRIGHT README DESTINATION share/doc/crnode)

INSTALL(DIRECTORY doc/ DESTINATION share/doc/crnode)
</code></pre>
<h4><a id="srccmakelists-txt%E5%86%85%E5%AE%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>src/CMakeLists.txtå†…å®¹</h4>
<pre><code class="language-plain_text">INCLUDE_DIRECTORIES(/usr/include/thrift)

SET(SRC_LIST main.cc
        rpc/CRMasterCaller.cpp
        rpc/CRNode_server.skeleton.cpp
        rpc/Schd_constants.cpp
        rpc/CRMaster.cpp
        rpc/CRNode.cpp
        rpc/Schd_types.cpp
        task/TaskExecutor.cpp
        task/TaskMoniter.cpp
        util/Const.cpp
        util/Globals.cc
        util/utils.cc
        util/Properties.cpp
        )

ADD_EXECUTABLE(crnode ${SRC_LIST})

TARGET_LINK_LIBRARIES(crnode log4cpp thrift)

INSTALL(TARGETS crnode
        RUNTIME DESTINATION bin
)
</code></pre>
<h4><a id="cmake%E8%AF%AD%E6%B3%95" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>CMakeè¯­æ³•</h4>
<ol>
<li>å˜é‡ä½¿ç”¨${}æ–¹å¼å–å€¼,ä½†æ˜¯åœ¨ IF æ§åˆ¶è¯­å¥ä¸­æ˜¯ç›´æ¥ä½¿ç”¨å˜é‡åï¼›</li>
<li>æŒ‡ä»¤(å‚æ•° 1 å‚æ•° 2â€¦)ï¼Œå‚æ•°ä½¿ç”¨æ‹¬å¼§æ‹¬èµ·,å‚æ•°ä¹‹é—´ä½¿ç”¨ç©ºæ ¼æˆ–åˆ†å·åˆ†å¼€ï¼›</li>
<li>æŒ‡ä»¤æ˜¯å¤§å°å†™æ— å…³çš„,å‚æ•°å’Œå˜é‡æ˜¯å¤§å°å†™ç›¸å…³çš„ã€‚ä½†,æ¨èä½ å…¨éƒ¨ä½¿ç”¨å¤§å†™æŒ‡ä»¤ã€‚</li>
</ol>
<h4><a id="cmakelists-txt%E5%89%96%E6%9E%90" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>CMakeLists.txtå‰–æ</h4>
<h5><a id="cmake-minimum-required%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmake_minimum_requiredå‘½ä»¤</h5>
<pre><code class="language-plain_text">cmake_minimum_required (VERSION 2.6)
</code></pre>
<p>è§„å®šcmakeç¨‹åºçš„æœ€ä½ç‰ˆæœ¬ã€‚è¿™è¡Œå‘½ä»¤æ˜¯å¯é€‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å†™è¿™å¥è¯ï¼Œä½†åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œå¦‚æœCMakeLists.txtæ–‡ä»¶ä¸­ä½¿ç”¨äº†ä¸€äº›é«˜ç‰ˆæœ¬cmakeç‰¹æœ‰çš„ä¸€äº›å‘½ä»¤çš„æ—¶å€™ï¼Œå°±éœ€è¦åŠ ä¸Šè¿™æ ·ä¸€è¡Œï¼Œæé†’ç”¨æˆ·å‡çº§åˆ°è¯¥ç‰ˆæœ¬ä¹‹åå†æ‰§è¡Œcmakeã€‚</p>
<h5><a id="project%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>projectå‘½ä»¤</h5>
<pre><code class="language-plain_text">project (CRNode)
</code></pre>
<p>æŒ‡å®šé¡¹ç›®çš„åç§°ã€‚é¡¹ç›®æœ€ç»ˆç¼–è¯‘ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å¹¶ä¸ä¸€å®šæ˜¯è¿™ä¸ªé¡¹ç›®åç§°ï¼Œè€Œæ˜¯ç”±å¦ä¸€æ¡å‘½ä»¤ç¡®å®šçš„ï¼Œç¨å€™æˆ‘ä»¬å†ä»‹ç»ã€‚</p>
<p>ä½†æ˜¯è¿™ä¸ªé¡¹ç›®åç§°è¿˜æ˜¯å¿…è¦çš„ï¼Œåœ¨cmakeä¸­æœ‰ä¸¤ä¸ªé¢„å®šä¹‰å˜é‡ï¼š<code>&lt; projectname &gt;_BINARY_DIR</code>ä»¥åŠ<code>&lt; projectname &gt;_SOURCE_DIR</code>ï¼Œåœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œä¸¤ä¸ªå˜é‡åˆ†åˆ«ä¸ºï¼š<code>CRNode_BINARY_DIR</code>å’Œ<code>CRNode_SOURCE_DIR</code>ã€‚å†…éƒ¨ç¼–è¯‘æƒ…å†µä¸‹ä¸¤è€…ç›¸åŒï¼Œåé¢æˆ‘ä»¬ä¼šè®²åˆ°å¤–éƒ¨ç¼–è¯‘,ä¸¤è€…æ‰€æŒ‡ä»£çš„å†…å®¹ä¼šæœ‰æ‰€ä¸åŒã€‚è¦ç†è§£è¿™ä¸¤ä¸ªå˜é‡çš„å®šä¹‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£ä»€ä¹ˆæ˜¯â€œå¤–éƒ¨æ„å»ºï¼ˆout-of-source buildï¼‰â€ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€å°èŠ‚ä¸­ä»‹ç»â€œå¤–éƒ¨æ„å»ºâ€ã€‚</p>
<p>åŒæ—¶cmakeè¿˜é¢„å®šä¹‰äº†PROJECT_BINARY_DIRå’ŒPROJECT_SOURCE_DIRå˜é‡ã€‚åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼ŒPROJECT_BINARY_DIRç­‰åŒäºCRNode_BINARY_DIRï¼ŒPROJECT_SOURCE_DIRç­‰åŒäºCRNode_SOURCE_DIRã€‚åœ¨å®é™…çš„åº”ç”¨ç”¨ï¼Œæˆ‘å¼ºçƒˆæ¨èä½¿ç”¨PROJECT_BINARY_DIRå’ŒPROJECT_SOURCE_DIRå˜é‡ï¼Œè¿™æ ·å³ä½¿é¡¹ç›®åç§°å‘ç”Ÿå˜åŒ–ä¹Ÿä¸ä¼šå½±å“CMakeLists.txtæ–‡ä»¶ã€‚</p>
<h5><a id="%E5%A4%96%E9%83%A8%E6%9E%84%E5%BB%BA" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>å¤–éƒ¨æ„å»º</h5>
<p>å‡è®¾æˆ‘ä»¬æ­¤æ—¶å·²ç»å®Œæˆäº†ä¸¤ä¸ªCMakeLists.txtæ–‡ä»¶çš„ç¼–å†™ï¼Œå¯ä»¥æ‰§è¡Œcmakeå‘½ä»¤ç”ŸæˆMakefileæ–‡ä»¶äº†ã€‚æ­¤æ—¶æˆ‘ä»¬ç”±ä¸¤ç§æ–¹æ³•å¯ä»¥æ‰§è¡Œcmakeã€ç¼–è¯‘å’Œå®‰è£…ï¼š</p>
<pre><code class="language-plain_text">cmake .
make

# æˆ–è€…

mkdir build
cd build
cmake ..
make
</code></pre>
<p>ä¸¤ç§æ–¹æ³•æœ€å¤§çš„ä¸åŒåœ¨äºæ‰§è¡Œcmakeå’Œmakeçš„å·¥ä½œè·¯å¾„ä¸åŒã€‚ç¬¬ä¸€ç§æ–¹æ³•ä¸­ï¼Œcmakeç”Ÿæˆçš„æ‰€æœ‰ä¸­é—´æ–‡ä»¶å’Œå¯æ‰§è¡Œæ–‡ä»¶éƒ½ä¼šå­˜æ”¾åœ¨é¡¹ç›®ç›®å½•ä¸­ï¼›è€Œç¬¬äºŒç§æ–¹æ³•ä¸­ï¼Œä¸­é—´æ–‡ä»¶å’Œå¯æ‰§è¡Œæ–‡ä»¶éƒ½å°†å­˜æ”¾å†buildç›®å½•ä¸­ã€‚ç¬¬äºŒç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¾è€Œæ˜“è§ï¼Œå®ƒæœ€å¤§é™åº¦çš„ä¿æŒäº†ä»£ç ç›®å½•çš„æ•´æ´ã€‚åŒæ—¶ç”±äºç¬¬äºŒç§æ–¹æ³•çš„ç”Ÿæˆã€ç¼–è¯‘å’Œå®‰è£…æ˜¯å‘ç”Ÿåœ¨ä¸åŒäºé¡¹ç›®ç›®å½•çš„å…¶ä»–ç›®å½•ä¸­ï¼Œæ‰€ä»¥ç¬¬äºŒç§æ–¹æ³•å°±å«åšâ€œå¤–éƒ¨æ„å»ºâ€ã€‚</p>
<p>å›åˆ°ä¹‹å‰çš„ç–‘é—®ï¼Œå†å¤–éƒ¨æ„å»ºçš„æƒ…å†µä¸‹ï¼ŒPROJECT_SOURCE_DIRæŒ‡å‘çš„ç›®å½•åŒå†…éƒ¨æ„å»ºç›¸åŒï¼Œä»ç„¶ä¸º~/workspace/CRNodeï¼Œè€ŒPROJECT_BINARY_DIRåˆ™æœ‰æ‰€ä¸åŒï¼ŒæŒ‡å‘~/workspace/CRNode/buildç›®å½•ã€‚<br />
å½“ç„¶ï¼Œcmakeå¼ºçƒˆæ¨èä½¿ç”¨å¤–éƒ¨æ„å»ºçš„æ–¹æ³•ã€‚</p>
<h5><a id="add-subdirectory%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ADD_SUBDIRECTORYå‘½ä»¤</h5>
<pre><code class="language-plain_text">ADD_SUBDIRECTORY(src bin)
</code></pre>
<p>ADD_SUBDIRECTORY(source_dir [binary_dir] [EXCLUDE_FROM_ALL])è¿™ä¸ªæŒ‡ä»¤ç”¨äºå‘å½“å‰å·¥ç¨‹æ·»åŠ å­˜æ”¾æºæ–‡ä»¶çš„å­ç›®å½•,å¹¶å¯ä»¥æŒ‡å®šä¸­é—´äºŒè¿›åˆ¶å’Œç›®æ ‡äºŒè¿›åˆ¶å­˜æ”¾çš„ä½ç½®ã€‚EXCLUDE_FROM_ALL å‚æ•°çš„å«ä¹‰æ˜¯å°†è¿™ä¸ªç›®å½•ä»ç¼–è¯‘è¿‡ç¨‹ä¸­æ’é™¤ã€‚æ¯”å¦‚,å·¥ç¨‹çš„ example,å¯èƒ½å°±éœ€è¦å·¥ç¨‹æ„å»ºå®Œæˆå,å†è¿›å…¥ example ç›®å½•å•ç‹¬è¿›è¡Œæ„å»ºã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†srcç›®å½•åˆ°é¡¹ç›®ä¸­ï¼Œè€ŒæŠŠå¯¹åº”äºsrcç›®å½•ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶å­˜æ”¾åˆ°binç›®å½•ä¸‹ï¼Œåœ¨ä¸Šä¸€èŠ‚ä¸¾ä¾‹ä¸­â€œå¤–éƒ¨æ„å»ºâ€çš„æƒ…å†µä¸‹ï¼Œä¸­é—´æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶å°†å­˜æ”¾åœ¨build/srcobjç›®å½•ä¸‹ã€‚</p>
<h5><a id="set%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>SETå‘½ä»¤</h5>
<pre><code class="language-plain_text">SET(CMAKE_INSTALL_PREFIX /usr/local)
</code></pre>
<p>ç°é˜¶æ®µ,åªéœ€è¦äº†è§£SETå‘½ä»¤å¯ä»¥ç”¨æ¥æ˜¾å¼çš„å®šä¹‰å˜é‡å³å¯ã€‚åœ¨ä»¥ä¸Šçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ˜¾å¼çš„å°†CMAKE_INSTALL_PREFIXçš„å€¼å®šä¹‰ä¸º/usr/localï¼Œå¦‚æ­¤åœ¨å¤–éƒ¨æ„å»ºæƒ…å†µä¸‹æ‰§è¡Œmake installå‘½ä»¤æ—¶ï¼Œmakeä¼šå°†ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶æ‹·è´åˆ°/usr/local/binç›®å½•ä¸‹ã€‚</p>
<p>å½“ç„¶ï¼Œå¯æ‰§è¡Œæ–‡ä»¶çš„å®‰è£…è·¯å¾„CMAKE_INSTALL_PREFIXä¹Ÿå¯ä»¥åœ¨æ‰§è¡Œcmakeå‘½ä»¤çš„æ—¶å€™æŒ‡å®šï¼Œcmakeå‚æ•°å¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text">cmake -DCMAKE_INSTALL_PREFIX=/usr ..
</code></pre>
<p>å¦‚æœcmakeå‚æ•°å’ŒCMakeLists.txtæ–‡ä»¶ä¸­éƒ½ä¸æŒ‡å®šè¯¥å€¼çš„è¯ï¼Œåˆ™è¯¥å€¼ä¸ºé»˜è®¤çš„/usr/localã€‚</p>
<h5><a id="include-directories%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>INCLUDE_DIRECTORIESå‘½ä»¤</h5>
<pre><code class="language-plain_text">INCLUDE_DIRECTORIES(/usr/include/thrift)
</code></pre>
<p>INCLUDE_DIRECTORIESç±»ä¼¼gccä¸­çš„ç¼–è¯‘å‚æ•°â€œ-Iâ€ï¼ŒæŒ‡å®šç¼–è¯‘è¿‡ç¨‹ä¸­ç¼–è¯‘å™¨æœç´¢å¤´æ–‡ä»¶çš„è·¯å¾„ã€‚å½“é¡¹ç›®éœ€è¦çš„å¤´æ–‡ä»¶ä¸åœ¨ç³»ç»Ÿé»˜è®¤çš„æœç´¢è·¯å¾„æ—¶ï¼Œéœ€è¦æŒ‡å®šè¯¥è·¯å¾„ã€‚åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œlog4cppæ‰€éœ€çš„å¤´æ–‡ä»¶éƒ½å­˜æ”¾åœ¨/usr/includeä¸‹ï¼Œä¸éœ€è¦æŒ‡å®šï¼›ä½†thriftçš„å¤´æ–‡ä»¶æ²¡æœ‰å­˜æ”¾åœ¨ç³»ç»Ÿè·¯å¾„ä¸‹ï¼Œéœ€è¦æŒ‡å®šæœç´¢å…¶è·¯å¾„ã€‚</p>
<h5><a id="add-executable%E5%92%8Cadd-library" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ADD_EXECUTABLEå’ŒADD_LIBRARY</h5>
<pre><code class="language-plain_text">SET(SRC_LIST main.cc
        rpc/CRMasterCaller.cpp
        rpc/CRNode_server.skeleton.cpp
        rpc/Schd_constants.cpp
        rpc/CRMaster.cpp
        rpc/CRNode.cpp
        rpc/Schd_types.cpp
        task/TaskExecutor.cpp
        task/TaskMoniter.cpp
        util/Const.cpp
        util/Globals.cc
        util/utils.cc
        util/Properties.cpp
        )

ADD_EXECUTABLE(CRNode ${SRC_LIST})
</code></pre>
<p>ADD_EXECUTABLEå®šä¹‰äº†è¿™ä¸ªå·¥ç¨‹ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶åä¸º CRNode çš„å¯æ‰§è¡Œæ–‡ä»¶,ç›¸å…³çš„æºæ–‡ä»¶æ˜¯ SRC_LIST ä¸­å®šä¹‰çš„æºæ–‡ä»¶åˆ—è¡¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„CRNodeå’Œä¹‹å‰çš„é¡¹ç›®åç§°æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå¯ä»¥ä»»æ„å®šä¹‰ã€‚</p>
<h5><a id="executable-output-path%E5%92%8Clibrary-output-path" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>EXECUTABLE_OUTPUT_PATHå’ŒLIBRARY_OUTPUT_PATH</h5>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ SET æŒ‡ä»¤é‡æ–°å®šä¹‰ EXECUTABLE_OUTPUT_PATH å’Œ LIBRARY_OUTPUT_PATH å˜é‡æ¥æŒ‡å®šæœ€ç»ˆçš„ç›®æ ‡äºŒè¿›åˆ¶çš„ä½ç½®(æŒ‡æœ€ç»ˆç”Ÿæˆçš„CRNodeå¯æ‰§è¡Œæ–‡ä»¶æˆ–è€…æœ€ç»ˆçš„å…±äº«åº“ï¼Œè€Œä¸åŒ…å«ç¼–è¯‘ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶)ã€‚</p>
<p>å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text">SET(EXECUTABLE_OUTPUT_PATH ${PROJECT_BINARY_DIR}/bin)
SET(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR}/lib)
</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å“ªé‡Œ ADD_EXECUTABLE æˆ– ADD_LIBRARYï¼Œå¦‚æœéœ€è¦æ”¹å˜ç›®æ ‡å­˜æ”¾è·¯å¾„,å°±åœ¨å“ªé‡ŒåŠ å…¥ä¸Šè¿°çš„å®šä¹‰ã€‚</p>
<h5><a id="target-link-libraries%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>TARGET_LINK_LIBRARIESå‘½ä»¤</h5>
<pre><code class="language-plain_text">TARGET_LINK_LIBRARIES(CRNode log4cpp thrift)
</code></pre>
<p>è¿™å¥è¯æŒ‡å®šåœ¨é“¾æ¥ç›®æ ‡æ–‡ä»¶çš„æ—¶å€™éœ€è¦é“¾æ¥çš„å¤–éƒ¨åº“ï¼Œå…¶æ•ˆæœç±»ä¼¼gccçš„ç¼–è¯‘å‚æ•°â€œ-lâ€ï¼Œå¯ä»¥è§£å†³å¤–éƒ¨åº“çš„ä¾èµ–é—®é¢˜ã€‚</p>
<h5><a id="install%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>INSTALLå‘½ä»¤</h5>
<p>åœ¨æ‰§è¡ŒINSTALLå‘½ä»¤çš„æ—¶å€™éœ€è¦æ³¨æ„CMAKE_INSTALL_PREFIXå‚æ•°çš„å€¼ã€‚å…¶å‘½ä»¤å½¢å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text">install(TARGETS targets... [EXPORT &lt;export-name&gt;]
      [[ARCHIVE|LIBRARY|RUNTIME|FRAMEWORK|BUNDLE|
        PRIVATE_HEADER|PUBLIC_HEADER|RESOURCE]
       [DESTINATION &lt;dir&gt;]
       [PERMISSIONS permissions...]
       [CONFIGURATIONS [Debug|Release|...]]
       [COMPONENT &lt;component&gt;]
       [OPTIONAL] [NAMELINK_ONLY|NAMELINK_SKIP]
      ] [...])
</code></pre>
<p>å‚æ•°ä¸­çš„ TARGETS åé¢è·Ÿçš„å°±æ˜¯æˆ‘ä»¬é€šè¿‡ ADD_EXECUTABLE æˆ–è€… ADD_LIBRARY å®šä¹‰çš„ç›®æ ‡æ–‡ä»¶,å¯èƒ½æ˜¯å¯æ‰§è¡ŒäºŒè¿›åˆ¶ã€åŠ¨æ€åº“ã€é™æ€åº“ã€‚</p>
<p>DESTINATION å®šä¹‰äº†å®‰è£…çš„è·¯å¾„,å¦‚æœè·¯å¾„ä»¥/å¼€å¤´,é‚£ä¹ˆæŒ‡çš„æ˜¯ç»å¯¹è·¯å¾„,è¿™æ—¶å€™CMAKE_INSTALL_PREFIX å…¶å®å°±æ— æ•ˆäº†ã€‚å¦‚æœä½ å¸Œæœ›ä½¿ç”¨ CMAKE_INSTALL_PREFIX æ¥å®šä¹‰å®‰è£…è·¯å¾„,å°±è¦å†™æˆç›¸å¯¹è·¯å¾„,å³ä¸è¦ä»¥/å¼€å¤´,é‚£ä¹ˆå®‰è£…åçš„è·¯å¾„å°±æ˜¯${CMAKE_INSTALL_PREFIX} /&lt; destination å®šä¹‰çš„è·¯å¾„&gt; ã€‚</p>
<p>ä½ ä¸éœ€è¦å…³å¿ƒ TARGETS å…·ä½“ç”Ÿæˆçš„è·¯å¾„,åªéœ€è¦å†™ä¸Š TARGETS åç§°å°±å¯ä»¥äº†ã€‚</p>
<p>éç›®æ ‡æ–‡ä»¶çš„å¯æ‰§è¡Œç¨‹åºå®‰è£…(æ¯”å¦‚è„šæœ¬ä¹‹ç±»):</p>
<pre><code class="language-plain_text">INSTALL(PROGRAMS files... DESTINATION &lt; dir &gt;
	[PERMISSIONS permissions...]
	[CONFIGURATIONS [Debug|Release|...]]
	[COMPONENT &lt; component &gt;]
	[RENAME &lt; name &gt;] [OPTIONAL])
</code></pre>
<p>è·Ÿä¸Šé¢çš„ FILES æŒ‡ä»¤ä½¿ç”¨æ–¹æ³•ä¸€æ ·,å”¯ä¸€çš„ä¸åŒæ˜¯å®‰è£…åæƒé™ä¸ºOWNER_EXECUTE, GROUP_EXECUTE, å’Œ WORLD_EXECUTE,å³ 755 æƒé™ç›®å½•çš„å®‰è£…ã€‚</p>
<p>å®‰è£…ä¸€ä¸ªç›®å½•çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text">INSTALL(DIRECTORY dirs... DESTINATION &lt; dir &gt;
	[FILE_PERMISSIONS permissions...]
	[DIRECTORY_PERMISSIONS permissions...]
	[USE_SOURCE_PERMISSIONS]
	[CONFIGURATIONS [Debug|Release|...]]
	[COMPONENT &lt; component &gt;]
	[[PATTERN &lt; pattern &gt; | REGEX &lt; regex &gt;]
	[EXCLUDE] [PERMISSIONS permissions...]] [...])
</code></pre>
<p>DIRECTORY åé¢è¿æ¥çš„æ˜¯æ‰€åœ¨ Source ç›®å½•çš„ç›¸å¯¹è·¯å¾„,ä½†åŠ¡å¿…æ³¨æ„:abc å’Œ abc/æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚å¦‚æœç›®å½•åä¸ä»¥/ç»“å°¾,é‚£ä¹ˆè¿™ä¸ªç›®å½•å°†è¢«å®‰è£…ä¸ºç›®æ ‡è·¯å¾„ä¸‹çš„ abc,å¦‚æœç›®å½•åä»¥/ç»“å°¾,ä»£è¡¨å°†è¿™ä¸ªç›®å½•ä¸­çš„å†…å®¹å®‰è£…åˆ°ç›®æ ‡è·¯å¾„,ä½†ä¸åŒ…æ‹¬è¿™ä¸ªç›®å½•æœ¬èº«ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­:</p>
<pre><code class="language-plain_text">INSTALL(DIRECTORY icons scripts/ DESTINATION share/myproj
	PATTERN &quot;CVS&quot; EXCLUDE
	PATTERN &quot;scripts/*&quot;
	PERMISSIONS OWNER_EXECUTE OWNER_WRITE OWNER_READ
	GROUP_EXECUTE GROUP_READ)
</code></pre>
<p>è¿™æ¡æŒ‡ä»¤çš„æ‰§è¡Œç»“æœæ˜¯:</p>
<p>å°† icons ç›®å½•å®‰è£…åˆ° &lt; prefix &gt;/share/myprojï¼Œå°† scripts/ä¸­çš„å†…å®¹å®‰è£…åˆ°&lt; prefix &gt;/share/myprojï¼Œä¸åŒ…å«ç›®å½•åä¸º CVS çš„ç›®å½•,å¯¹äº scripts/*æ–‡ä»¶æŒ‡å®šæƒé™ä¸º OWNER_EXECUTE OWNER_WRITE OWNER_READ GROUP_EXECUTE GROUP_READã€‚</p>
<p>å› ä¸ºcrnode.txt è¦å®‰è£…åˆ°/&lt; prefix &gt;/share/doc/crnode,æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç›´æ¥å®‰è£…æ•´ä¸ª doc ç›®å½•,è¿™é‡Œé‡‡ç”¨çš„æ–¹å¼æ˜¯å®‰è£… doc ç›®å½•ä¸­çš„å†…å®¹,ä¹Ÿå°±æ˜¯ä½¿ç”¨â€doc/â€åœ¨å·¥ç¨‹æ–‡ä»¶ä¸­æ·»åŠ :</p>
<pre><code class="language-plain_text">INSTALL(DIRECTORY doc/ DESTINATION share/doc/crnode)
</code></pre>
<h4><a id="%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç¼–è¯‘å®‰è£…</h4>
<p>ç¼–è¯‘å®‰è£…ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text">[root@sim91 build]# cmake ..
-- Configuring done
-- Generating done
-- Build files have been written to: /home/fify/workspace/CRNode/build

[root@sim91 build]# make
Scanning dependencies of target crnode
[  7%] Building CXX object srcobj/CMakeFiles/crnode.dir/main.cc.o
[ 15%] Building CXX object srcobj/CMakeFiles/crnode.dir/rpc/CRMasterCaller.cpp.o
[ 23%] Building CXX object srcobj/CMakeFiles/crnode.dir/rpc/CRNode_server.skeleton.cpp.o
[ 30%] Building CXX object srcobj/CMakeFiles/crnode.dir/rpc/Schd_constants.cpp.o
[ 38%] Building CXX object srcobj/CMakeFiles/crnode.dir/rpc/CRMaster.cpp.o
[ 46%] Building CXX object srcobj/CMakeFiles/crnode.dir/rpc/CRNode.cpp.o
[ 53%] Building CXX object srcobj/CMakeFiles/crnode.dir/rpc/Schd_types.cpp.o
[ 61%] Building CXX object srcobj/CMakeFiles/crnode.dir/task/TaskExecutor.cpp.o
[ 69%] Building CXX object srcobj/CMakeFiles/crnode.dir/task/TaskMoniter.cpp.o
[ 76%] Building CXX object srcobj/CMakeFiles/crnode.dir/util/Const.cpp.o
[ 84%] Building CXX object srcobj/CMakeFiles/crnode.dir/util/Globals.cc.o
[ 92%] Building CXX object srcobj/CMakeFiles/crnode.dir/util/utils.cc.o
[100%] Building CXX object srcobj/CMakeFiles/crnode.dir/util/Properties.cpp.o
Linking CXX executable crnode

[root@sim91 build]# make install
[100%] Built target crnode
Install the project...
-- Install configuration: &quot;&quot;
-- Installing: /usr/local/bin/crnode.sh
-- Installing: /usr/local/share/doc/crnode/COPYRIGHT
-- Installing: /usr/local/share/doc/crnode/README
-- Installing: /usr/local/share/doc/crnode
-- Installing: /usr/local/share/doc/crnode/crnode.txt
-- Installing: /usr/local/bin/crnode
</code></pre>
<p>å¤§åŠŸå‘Šæˆï¼æ›´å¤šå†…å®¹è¯·å‚è€ƒã€ŠCMake Practiceã€‹ï¼Œå†æ¬¡å¯¹ã€ŠCMake Practiceã€‹çš„ä½œè€…è¡¨ç¤ºæ„Ÿè°¢ï¼</p>
<blockquote>
<p>è¿™æ®µå¼•ç”¨è‡ªï¼š<a href="https://www.cnblogs.com/ph829/p/4759124.html">https://www.cnblogs.com/ph829/p/4759124.html</a></p>
</blockquote>
<h2><a id="%E9%87%8D%E7%82%B9%E8%AF%B4%E4%B8%80%E4%B8%8Bconfigure-make-make-install%E7%9A%84%E4%BD%9C%E7%94%A8" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>é‡ç‚¹è¯´ä¸€ä¸‹./configure,make,make installçš„ä½œç”¨</h2>
<p>è¿™äº›éƒ½æ˜¯å…¸å‹çš„ä½¿ç”¨GNUçš„AUTOCONFå’ŒAUTOMAKEäº§ç”Ÿçš„ç¨‹åºçš„å®‰è£…æ­¥éª¤ã€‚</p>
<p><code>./configure</code>æ˜¯ç”¨æ¥æ£€æµ‹ä½ çš„å®‰è£…å¹³å°çš„ç›®æ ‡ç‰¹å¾çš„ã€‚æ¯”å¦‚å®ƒä¼šæ£€æµ‹ä½ æ˜¯ä¸æ˜¯æœ‰CCæˆ–GCCï¼Œå¹¶ä¸æ˜¯éœ€è¦CCæˆ–GCCï¼Œå®ƒæ˜¯ä¸ªè„šæœ¬ã€‚</p>
<p>makeæ˜¯ç”¨æ¥ç¼–è¯‘çš„ï¼Œå®ƒä»Makefileä¸­è¯»å–æŒ‡ä»¤ï¼Œç„¶åç¼–è¯‘ã€‚</p>
<p>make installæ˜¯ç”¨æ¥å®‰è£…çš„ï¼Œå®ƒä¹Ÿä»Makefileä¸­è¯»å–æŒ‡ä»¤ï¼Œå®‰è£…åˆ°æŒ‡å®šçš„ä½ç½®ã€‚</p>
<p>AUTOMAKEå’ŒAUTOCONFæ˜¯éå¸¸æœ‰ç”¨çš„ç”¨æ¥å‘å¸ƒCç¨‹åºçš„ä¸œè¥¿ã€‚</p>
<h3><a id="configure" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>configure</h3>
<p>è¿™ä¸€æ­¥ä¸€èˆ¬ç”¨æ¥ç”Ÿæˆ Makefileï¼Œä¸ºä¸‹ä¸€æ­¥çš„ç¼–è¯‘åšå‡†å¤‡ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ configure ååŠ ä¸Šå‚æ•°æ¥å¯¹å®‰è£…è¿›è¡Œæ§åˆ¶ï¼Œæ¯”å¦‚ä»£ç :./configure â€“prefix=/usr æ„æ€æ˜¯å°†è¯¥è½¯ä»¶å®‰è£…åœ¨ /usr ä¸‹é¢ï¼Œæ‰§è¡Œæ–‡ä»¶å°±ä¼šå®‰è£…åœ¨ /usr/bin ï¼ˆè€Œä¸æ˜¯é»˜è®¤çš„ /usr/local/bin),èµ„æºæ–‡ä»¶å°±ä¼šå®‰è£…åœ¨ /usr/shareï¼ˆè€Œä¸æ˜¯é»˜è®¤çš„/usr/local/shareï¼‰ã€‚åŒæ—¶ä¸€äº›è½¯ä»¶çš„é…ç½®æ–‡ä»¶ä½ å¯ä»¥é€šè¿‡æŒ‡å®š â€“sys-config= å‚æ•°è¿›è¡Œè®¾å®šã€‚æœ‰ä¸€äº›è½¯ä»¶è¿˜å¯ä»¥åŠ ä¸Š â€“withã€â€“enableã€â€“withoutã€â€“disable ç­‰ç­‰å‚æ•°å¯¹ç¼–è¯‘åŠ ä»¥æ§åˆ¶ï¼Œä½ å¯ä»¥é€šè¿‡å…è®¸ ./configure â€“help å¯Ÿçœ‹è¯¦ç»†çš„è¯´æ˜å¸®åŠ©ã€‚</p>
<h3><a id="make" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>make</h3>
<p>è¿™ä¸€æ­¥å°±æ˜¯ç¼–è¯‘ï¼Œå¤§å¤šæ•°çš„æºä»£ç åŒ…éƒ½ç»è¿‡è¿™ä¸€æ­¥è¿›è¡Œç¼–è¯‘ï¼ˆå½“ç„¶æœ‰äº›perlæˆ–pythonç¼–å†™çš„è½¯ä»¶éœ€è¦è°ƒç”¨perlæˆ–pythonæ¥è¿›è¡Œç¼–è¯‘ï¼‰ã€‚å¦‚æœ åœ¨ make è¿‡ç¨‹ä¸­å‡ºç° error ï¼Œä½ å°±è¦è®°ä¸‹é”™è¯¯ä»£ç ï¼ˆæ³¨æ„ä¸ä»…ä»…æ˜¯æœ€åä¸€è¡Œï¼‰ï¼Œç„¶åä½ å¯ä»¥å‘å¼€å‘è€…æäº¤ bugreportï¼ˆä¸€èˆ¬åœ¨ INSTALL é‡Œæœ‰æäº¤åœ°å€ï¼‰ï¼Œæˆ–è€…ä½ çš„ç³»ç»Ÿå°‘äº†ä¸€äº›ä¾èµ–åº“ç­‰ï¼Œè¿™äº›éœ€è¦è‡ªå·±ä»”ç»†ç ”ç©¶é”™è¯¯ä»£ç ã€‚</p>
<h3><a id="make-insatll" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>make insatll</h3>
<p>è¿™æ¡å‘½ä»¤æ¥è¿›è¡Œå®‰è£…ï¼ˆå½“ç„¶æœ‰äº›è½¯ä»¶éœ€è¦å…ˆè¿è¡Œ make check æˆ– make test æ¥è¿›è¡Œä¸€äº›æµ‹è¯•ï¼‰ï¼Œè¿™ä¸€æ­¥ä¸€èˆ¬éœ€è¦ä½ æœ‰ root æƒé™ï¼ˆå› ä¸ºè¦å‘ç³»ç»Ÿå†™å…¥æ–‡ä»¶ï¼‰ã€‚å¦‚æœåŸå§‹ç ç¼–è¯‘æ— è¯¯ï¼Œä¸”æ‰§è¡Œç»“æœæ­£ç¡®ï¼Œä¾¿å¯ä»¥æŠŠç¨‹åºå®‰è£…è‡³ç³»ç»Ÿé¢„è®¾çš„å¯æ‰§è¡Œæ–‡ä»¶å­˜æ”¾è·¯å¾„ã€‚å¦‚æœç”¨bin_PROGRAMSå®çš„è¯ï¼Œç¨‹åºä¼šè¢«å®‰è£…è‡³/usr/local/binè¿™ä¸ªç›®å½•ã€‚æˆ–è€…åº“æ–‡ä»¶æ‹·è´åˆ°ç›¸åº”çš„ç›®å½•ä¸‹ã€‚</p>
<p>è¯¥å‘½ä»¤ä¸ºä¸€ä¸ªå·¥ç¨‹ç”Ÿæˆå®‰è£…è§„åˆ™ã€‚åœ¨æŸä¸€æºæ–‡ä»¶è·¯å¾„ä¸­ï¼Œè°ƒç”¨è¿™æ¡å‘½ä»¤æ‰€æŒ‡å®šçš„è§„åˆ™ä¼šåœ¨å®‰è£…æ—¶æŒ‰é¡ºåºæ‰§è¡Œã€‚åœ¨ä¸åŒè·¯å¾„ä¹‹é—´çš„é¡ºåºæœªå®šä¹‰ã€‚</p>
<p>è¯¥å‘½ä»¤æœ‰è¯¸å¤šç‰ˆæœ¬ã€‚å…¶ä¸­çš„ä¸€äº›ç‰ˆæœ¬å®šä¹‰äº†æ–‡ä»¶ä»¥åŠç›®æ ‡çš„å®‰è£…å±æ€§ã€‚è¿™å¤šä¸ªç‰ˆæœ¬çš„å…¬å…±å±æ€§éƒ½æœ‰æ‰€æ¶‰åŠï¼Œä½†æ˜¯åªæœ‰åœ¨æŒ‡å®šå®ƒä»¬çš„ç‰ˆæœ¬ä¸­ï¼Œè¿™äº›å±æ€§æ‰æ˜¯åˆæ³•çš„ï¼ˆä¸‹é¢çš„DESTIONATIONåˆ°OPTIONALçš„é€‰é¡¹åˆ—è¡¨æ˜¯å…¬å…±å±æ€§ã€‚â€”â€”è¯‘æ³¨ï¼‰ã€‚</p>
<p>DESTINATIONé€‰é¡¹æŒ‡å®šäº†ä¸€ä¸ªæ–‡ä»¶ä¼šå®‰è£…åˆ°ç£ç›˜çš„å“ªä¸ªè·¯å¾„ä¸‹ã€‚è‹¥æœç»™å‡ºçš„æ˜¯å…¨è·¯å¾„ï¼ˆä»¥åæ–œæ æˆ–è€…é©±åŠ¨å™¨åå¼€å¤´ï¼‰ï¼Œå®ƒä¼šè¢«ç›´æ¥ä½¿ç”¨ã€‚å¦‚æœç»™å‡ºçš„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå®ƒä¼šè¢«è§£é‡Šä¸ºç›¸å¯¹CMAKE_INSTALL_PREFIXçš„å€¼çš„ç›¸å¯¹è·¯å¾„ã€‚</p>
<p>PERMISSIONSé€‰é¡¹åˆ¶å®šäº†å®‰è£…æ–‡ä»¶éœ€è¦çš„æƒé™ã€‚åˆæ³•çš„æƒé™æœ‰ï¼šOWNER_READï¼ŒOWNER_WRITEï¼ŒOWNER_EXECUTEï¼ŒGROUP_READï¼ŒGROUP_WRITEï¼ŒGROUP_EXECUTEï¼ŒWORLD_READï¼ŒWORLD_WRITEï¼ŒWORLD_EXECUTEï¼ŒSETUIDå’ŒSETGIDã€‚å¯¹äºåœ¨æŸäº›ç‰¹å®šçš„å¹³å°ä¸Šæ²¡æœ‰æ„ä¹‰çš„æƒé™ï¼Œåœ¨è¿™äº›å¹³å°ä¸Šä¼šå¿½ç•¥è¿™äº›é€‰é¡¹ã€‚</p>
<p>CONFIGURATIONSé€‰é¡¹æŒ‡å®šäº†è¯¥å®‰è£…è§„åˆ™å°†ä¼šåŠ è¯¸ä¹‹ä¸Šçš„ä¸€ç³»åˆ—çš„æ„å»ºé…ç½®ï¼ˆDebugï¼ŒReleaseï¼Œç­‰ç­‰ï¼‰ã€‚</p>
<p>COMPONENTé€‰é¡¹æŒ‡å®šäº†è¯¥å®‰è£…è§„åˆ™ç›¸å…³çš„ä¸€ä¸ªå®‰è£…éƒ¨ä»¶çš„åå­—ï¼Œæ¯”å¦‚â€œruntimeâ€æˆ–â€œdevelopmentâ€ã€‚å¯¹äºé‚£äº›æŒ‡å®šå®‰è£…éƒ¨ä»¶çš„å®‰è£…è¿‡ç¨‹æ¥è¯´ï¼Œåœ¨å®‰è£…æ—¶åªæœ‰ä¸ç»™å®šçš„éƒ¨ä»¶åç›¸å…³çš„å®‰è£…è§„åˆ™ä¼šè¢«æ‰§è¡Œã€‚å¯¹äºå®Œæ•´å®‰è£…ï¼Œæ‰€æœ‰éƒ¨ä»¶éƒ½ä¼šè¢«å®‰è£…ã€‚</p>
<p>RENAMEé€‰é¡¹ä¸ºä¸€ä¸ªå¯èƒ½ä¸åŒäºåŸå§‹æ–‡ä»¶çš„å·²ç»å®‰è£…çš„æ–‡ä»¶æŒ‡å®šå¦ä¸€ä¸ªåå­—ã€‚é‡å‘½ååªæœ‰åœ¨è¯¥å‘½ä»¤æ­£åœ¨å®‰è£…ä¸€ä¸ªå•ä¸€æ–‡ä»¶æ—¶æ‰è¢«å…è®¸ï¼ˆçŒœæµ‹æ˜¯ä¸ºäº†é˜²æ­¢æ–‡ä»¶åå†²çªæ—¶è¦†ç›–æ‰æ—§æ–‡ä»¶ã€‚â€”â€”è¯‘æ³¨ï¼‰ã€‚</p>
<p>OPTIONALé€‰é¡¹è¡¨ç¤ºè¦å®‰è£…çš„æ–‡ä»¶ä¸å­˜åœ¨ä¸ä¼šå¯¼è‡´é”™è¯¯ã€‚</p>
<h4><a id="targets%E7%89%88%E6%9C%AC%E7%9A%84install%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>TARGETSç‰ˆæœ¬çš„installå‘½ä»¤</h4>
<pre><code class="language-plain_text">install(TARGETS targets... [EXPORT &lt;export-name&gt;]
      [[ARCHIVE|LIBRARY|RUNTIME|FRAMEWORK|BUNDLE|
        PRIVATE_HEADER|PUBLIC_HEADER|RESOURCE]
       [DESTINATION &lt;dir&gt;]
       [PERMISSIONS permissions...]
       [CONFIGURATIONS [Debug|Release|...]]
       [COMPONENT &lt;component&gt;]
       [OPTIONAL] [NAMELINK_ONLY|NAMELINK_SKIP]
      ] [...])
</code></pre>
<p>TARGETSæ ¼å¼çš„installå‘½ä»¤è§„å®šäº†å®‰è£…å·¥ç¨‹ä¸­çš„ç›®æ ‡ï¼ˆtargetsï¼‰çš„è§„åˆ™ã€‚æœ‰5ä¸­å¯ä»¥è¢«å®‰è£…çš„ç›®æ ‡æ–‡ä»¶ï¼šARCHIVEï¼ŒLIBRARYï¼ŒRUNTIMEï¼ŒFRAMEWORKï¼Œå’ŒBUNDLEã€‚é™¤äº†è¢«æ ‡è®°ä¸ºMACOSX_BUNDLEå±æ€§çš„å¯æ‰§è¡Œæ–‡ä»¶è¢«å½“åšOS Xä¸Šçš„BUNDLEç›®æ ‡å¤–ï¼Œå…¶ä»–çš„å¯æ‰§è¡Œæ–‡ä»¶éƒ½è¢«å½“åšRUNTIMEç›®æ ‡ã€‚é™æ€é“¾æ¥çš„åº“æ–‡ä»¶æ€»æ˜¯è¢«å½“åšARCHIVEç›®æ ‡ã€‚æ¨¡å—åº“æ€»æ˜¯è¢«å½“åšLIBRARYç›®æ ‡ã€‚å¯¹äºåŠ¨æ€åº“ä¸æ˜¯DLLæ ¼å¼çš„å¹³å°æ¥è¯´ï¼ŒåŠ¨æ€åº“ä¼šè¢«å½“åšLIBRARYç›®æ ‡æ¥å¯¹å¾…ï¼Œè¢«æ ‡è®°ä¸ºFRAMEWORKçš„åŠ¨æ€åº“æ˜¯ä¾‹å¤–ï¼Œå®ƒä»¬è¢«å½“åšOS Xä¸Šçš„FRAMEWORKç›®æ ‡ã€‚å¯¹äºDLLå¹³å°è€Œè¨€ï¼ŒåŠ¨æ€åº“çš„DLLéƒ¨åˆ†è¢«å½“åšä¸€ä¸ªRUNTIMEç›®æ ‡è€Œå¯¹åº”çš„å¯¼å‡ºåº“è¢«å½“åšæ˜¯ä¸€ä¸ªARCHIVEç›®æ ‡ã€‚æ‰€æœ‰åŸºäºWindowsçš„ç³»ç»Ÿï¼ŒåŒ…æ‹¬Cygwinï¼Œéƒ½æ˜¯DLLå¹³å°ã€‚ARCHIVEï¼ŒLIBRARYï¼ŒRUNTIMEå’ŒFRAMEWORKå‚æ•°æ”¹å˜äº†åç»­å±æ€§ä¼šåŠ è¯¸ä¹‹ä¸Šçš„ç›®æ ‡çš„ç±»å‹ã€‚å¦‚æœåªç»™å‡ºäº†ä¸€ç§ç±»å‹ï¼Œé‚£ä¹ˆåªæœ‰é‚£ç§ç±»å‹çš„ç›®æ ‡ä¼šè¢«å®‰è£…ï¼ˆè¿™æ ·é€šå¸¸åªä¼šå®‰è£…ä¸€ä¸ªDLLæˆ–è€…ä¸€ä¸ªå¯¼å‡ºåº“ã€‚ï¼‰</p>
<p>PRIVATE_HEADERï¼ŒPUBLIC_HEADERï¼Œå’ŒRESOURCEé€‰é¡¹çš„åŠŸèƒ½æ˜¯ï¼Œåœ¨éè‹¹æœå¹³å°ä¸Šï¼Œå°†åç»­çš„å±æ€§åº”ç”¨åœ¨å¾…å®‰è£…çš„ä¸€ä¸ªFRAMEWORKå…±äº«åº“ç›®æ ‡çš„ç›¸å…³æ–‡ä»¶ä¸Šã€‚è¿™äº›é€‰é¡¹å®šä¹‰çš„è§„åˆ™åœ¨è‹¹æœç³»ç»Ÿä¸Šä¼šè¢«å¿½ç•¥æ‰ï¼Œå› ä¸ºç›¸å…³çš„æ–‡ä»¶å°†ä¼šè¢«å®‰è£…åˆ°frameworkæ–‡ä»¶å¤¹å†…çš„åˆé€‚ä½ç½®ã€‚å‚è§PRIVATE_HEADERï¼ŒPUBLIC_HEADERå’ŒRESOURCEç›®æ ‡å±æ€§ä¸­æ›´ä¸ºè¯¦ç»†çš„è§£é‡Šã€‚</p>
<pre><code class="language-plain_text">å¯ä»¥æŒ‡å®šNAMELINK_ONLYæˆ–è€…NAMELINK_SKIPé€‰é¡¹ä½œä¸ºLIBRARYé€‰é¡¹ã€‚åœ¨ä¸€äº›å¹³å°ä¸Šï¼Œç‰ˆæœ¬åŒ–çš„å…±äº«åº“æœ‰ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼Œæ¯”å¦‚lib&lt;name&gt;.so -&gt; lib&lt;name&gt;.so.1ï¼Œå…¶ä¸­â€œlib&lt;name&gt;.so.1â€æ˜¯soåº“æ–‡ä»¶åï¼ˆsonameï¼‰è€Œâ€œlib&lt;name&gt;.soâ€æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼Œå½“æŒ‡å®šâ€œ-l&lt;name&gt;â€é€‰é¡¹æ—¶ï¼Œé“¾æ¥å™¨å°†ä¼šæŸ¥æ‰¾è¿™ä¸ªç¬¦å·é“¾æ¥ã€‚å¦‚æœä¸€ä¸ªåº“ç›®æ ‡å·²ç»è¢«å®‰è£…ï¼ŒNAMELINK_ONLYé€‰é¡¹è¡¨ç¤ºä»…ä»…å®‰è£…ç¬¦å·é“¾æ¥ï¼›è€ŒNAME_SKIPé€‰é¡¹åˆ™è¡¨ç¤ºä»…ä»…å®‰è£…åº“æ–‡ä»¶è€Œä¸æ˜¯ç¬¦å·é“¾æ¥ã€‚å½“ä¸¤ç§é€‰é¡¹éƒ½æ²¡æœ‰ç»™å‡ºæ—¶ï¼ŒåŠ¨æ€åº“çš„ä¸¤ä¸ªéƒ¨åˆ†éƒ½ä¼šè¢«å®‰è£…ã€‚åœ¨é‚£äº›ç‰ˆæœ¬åŒ–çš„å…±äº«åº“æ²¡æœ‰ç¬¦å·é“¾æ¥æˆ–è€…åº“æ²¡æœ‰è¢«ç‰ˆæœ¬åŒ–çš„å¹³å°ï¼Œé€‰é¡¹NAMELINK_SKIPå®‰è£…è¿™ä¸ªåº“ï¼Œè€ŒNAMELINK_ONLYé€‰é¡¹ä»€ä¹ˆéƒ½ä¸ä¼šå®‰è£…ã€‚å‚è§VERSIONå’ŒSOVERSIONç›®æ ‡å±æ€§ï¼Œè·å–å…³äºåˆ›å»ºç‰ˆæœ¬åŒ–å…±äº«åº“çš„æ›´å¤šç»†èŠ‚ã€‚
</code></pre>
<p>åœ¨è¯¥å‘½ä»¤çš„TARGETSç‰ˆæœ¬çš„ä¸€æ¬¡è°ƒç”¨ä¸­ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ç»„ã€‚ä¸€ä¸ªç›®æ ‡ä¹Ÿå¯ä»¥è¢«å¤šæ¬¡å®‰è£…åˆ°ä¸åŒçš„ä½ç½®ã€‚å‡è®¾æœ‰ä¸‰ä¸ªç›®æ ‡myExeï¼ŒmySharedLibå’ŒmyStaticLibï¼Œä¸‹é¢çš„ä»£ç </p>
<pre><code class="language-plain_text">install(TARGETS myExe mySharedLib myStaticLib
        RUNTIME DESTINATION bin
        LIBRARY DESTINATION lib
        ARCHIVE DESTINATION lib/static)
install(TARGETS mySharedLib DESTINATION /some/full/path)
</code></pre>
<p>å°†ä¼šæŠŠmyExeå®‰è£…åˆ°<prefix>/binç›®å½•ä¸‹ï¼ŒæŠŠmyStaticLibå®‰è£…åˆ°<prefix>/lib/staticç›®å½•ä¸‹ã€‚åœ¨é-DLLå¹³å°ä¸Šï¼ŒmySharedLibå°†ä¼šè¢«å®‰è£…åˆ°<prefix>/libå’Œ/some/full/pathä¸‹ã€‚åœ¨DLLå¹³å°ä¸Šï¼ŒmySharedLib DLLå°†ä¼šè¢«å®‰è£…åˆ°<prefix>/binå’Œ/some/full/pathè·¯å¾„ä¸‹ï¼Œå®ƒçš„å¯¼å‡ºåº“ä¼šè¢«å®‰è£…åˆ°<prefix>/lib/staticå’Œ/some/full/pathè·¯å¾„ä¸‹ã€‚</p>
<p>EXPORTé€‰é¡¹å°†å·²ç»å®‰è£…çš„ç›®æ ‡æ–‡ä»¶å’Œä¸€ä¸ªåä¸º<export-name>çš„å¯¼å‡ºæ–‡ä»¶å…³è”èµ·æ¥ã€‚å®ƒå¿…é¡»å‡ºç°åœ¨æ‰€æœ‰RUNTIMEï¼ŒLIBRARYæˆ–è€…ARCHIVEé€‰é¡¹ä¹‹å‰ã€‚ä¸ºäº†å®é™…å®‰è£…å¯¼å‡ºæ–‡ä»¶æœ¬èº«ï¼ˆexport fileï¼‰ï¼Œè°ƒç”¨install(EXPORT)ã€‚å‚è§ä¸‹è¿°installå‘½ä»¤EXPORTç‰ˆæœ¬çš„æ–‡æ¡£è·å–æ›´å¤šçš„ç»†èŠ‚ã€‚</p>
<p>å°†EXCLUDE_FROM_ALLè®¾ç½®ä¸ºtrueæ—¶ï¼Œå®‰è£…ä¸€ä¸ªç›®æ ‡ä¼šé€ æˆæœªå®šä¹‰çš„è¡Œä¸ºã€‚</p>
<h4><a id="files%E7%89%88%E6%9C%AC%E7%9A%84install%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>FILESç‰ˆæœ¬çš„installå‘½ä»¤</h4>
<pre><code class="language-plain_text">install(FILES files... DESTINATION &lt;dir&gt;
      [PERMISSIONS permissions...]
      [CONFIGURATIONS [Debug|Release|...]]
      [COMPONENT &lt;component&gt;]
      [RENAME &lt;name&gt;] [OPTIONAL])
</code></pre>
<p>FILESç‰ˆæœ¬çš„installå‘½ä»¤æŒ‡å®šäº†ä¸ºä¸€ä¸ªå·¥ç¨‹å®‰è£…æ–‡ä»¶çš„è§„åˆ™ã€‚åœ¨å‘½ä»¤ä¸­ï¼Œä»¥ç›¸å¯¹è·¯å¾„æ–¹å¼ç»™å‡ºçš„æ–‡ä»¶åæ˜¯ç›¸å¯¹äºå½“å‰æºä»£ç è·¯å¾„è€Œè¨€çš„ã€‚ä»¥è¿™ä¸ªç‰ˆæœ¬å®‰è£…çš„æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šPERMISSIONSé€‰é¡¹ï¼Œé»˜è®¤ä¼šå…·æœ‰OWNER_WRITEï¼ŒOWNER_READï¼ŒGROUP_READï¼Œå’ŒWORLD_READçš„æƒé™ã€‚</p>
<h4><a id="programs%E7%89%88%E6%9C%AC%E7%9A%84install%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>PROGRAMSç‰ˆæœ¬çš„installå‘½ä»¤</h4>
<pre><code class="language-plain_text">install(PROGRAMS files... DESTINATION &lt;dir&gt;
      [PERMISSIONS permissions...]
      [CONFIGURATIONS [Debug|Release|...]]
      [COMPONENT &lt;component&gt;]
      [RENAME &lt;name&gt;] [OPTIONAL])
</code></pre>
<p>PROGRAMSç‰ˆæœ¬ä¸FILESç‰ˆæœ¬ä¸€æ ·ï¼Œåªåœ¨é»˜è®¤æƒé™ä¸Šæœ‰æ‰€ä¸åŒï¼šå®ƒè¿˜åŒ…æ‹¬äº†OWNER_EXECUTEï¼ŒGROUP_EXECUTEå’ŒWORLD_EXECUTEé€‰é¡¹ã€‚INSTALLçš„è¿™ä¸ªç‰ˆæœ¬ç”¨æ¥å®‰è£…ä¸æ˜¯ç›®æ ‡çš„ç¨‹åºï¼Œæ¯”å¦‚shellè„šæœ¬ã€‚ä½¿ç”¨TARGETSæ ¼å¼å®‰è£…è¯¥å·¥ç¨‹å†…éƒ¨æ„å»ºçš„ç›®æ ‡ã€‚</p>
<h4><a id="directory%E7%89%88%E6%9C%AC%E7%9A%84install%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>DIRECTORYç‰ˆæœ¬çš„installå‘½ä»¤</h4>
<pre><code class="language-plain_text">install(DIRECTORY dirs... DESTINATION &lt;dir&gt;
      [FILE_PERMISSIONS permissions...]
      [DIRECTORY_PERMISSIONS permissions...]
      [USE_SOURCE_PERMISSIONS] [OPTIONAL]
      [CONFIGURATIONS [Debug|Release|...]]
      [COMPONENT &lt;component&gt;] [FILES_MATCHING]
      [[PATTERN &lt;pattern&gt; | REGEX &lt;regex&gt;]
       [EXCLUDE] [PERMISSIONS permissions...]] [...])
</code></pre>
<p>INSTALLçš„DIRECTORYç‰ˆæœ¬å°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªè·¯å¾„ä¸‹çš„å†…å®¹å®‰è£…åˆ°æŒ‡å®šçš„ç›®æ ‡åœ°å€ä¸‹ã€‚ç›®å½•ç»“æ„ä¼šåŸå°ä¸åŠ¨åœ°ï¼ˆverbatimï¼‰æ‹·è´åˆ°ç›®æ ‡åœ°å€ã€‚æ¯ä¸ªè·¯å¾„åçš„æœ€åä¸€éƒ¨åˆ†ä¼šè¿½åŠ åˆ°ç›®æ ‡è·¯å¾„ä¸‹ï¼Œä½†æ˜¯ç»“å°¾åæ–œæ ï¼ˆtrailing slashï¼‰å¯ä»¥ç”¨æ¥é¿å…è¿™ä¸€ç‚¹ï¼Œå› ä¸ºè¿™æ ·æœ€åä¸€éƒ¨åˆ†å°±æ˜¯ç©ºçš„ã€‚ç»™å®šçš„ç›¸å¯¹è·¯å¾„åè¢«è§£é‡Šæˆç›¸å¯¹äºå½“å‰æºè·¯å¾„çš„è·¯å¾„ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šè¾“å…¥ç›®å½•åå­—ï¼Œç›®æ ‡ç›®å½•ä¼šè¢«åˆ›å»ºï¼Œä½†æ˜¯ä¸ä¼šå®‰è£…ä»»ä½•ä¸œè¥¿ã€‚FILE_PERMISSIONSå’ŒDIRECTORY_PERMISSIONSé€‰é¡¹æŒ‡å®šäº†èµ‹äºˆç›®æ ‡è·¯å¾„å’Œç›®æ ‡æ–‡ä»¶çš„æƒé™ã€‚å¦‚æœæŒ‡å®šäº†USE_SOURCE_PERMISSIONSé€‰é¡¹ï¼Œä½†æ²¡æœ‰æŒ‡å®šFILE_PERMISSIONSé€‰é¡¹ï¼Œæ–‡ä»¶æƒé™å°†æ²¿è¢­æºç›®å½•ç»“æ„çš„æƒé™ï¼Œè€Œä¸”è¿™ä¸ªè·¯å¾„ä¼šè¢«èµ‹äºˆPAROGRAMSç‰ˆæœ¬ä¸­æŒ‡å®šçš„é»˜è®¤æƒé™ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨PATTERNæˆ–REGEXé€‰é¡¹å¯ä»¥å¯¹è·¯å¾„å®‰è£…åšå‡ºç»†ç²’åº¦çš„æ§åˆ¶ã€‚è¿™äº›ç”¨äºåŒ¹é…çš„é€‰é¡¹æŒ‡å®šäº†ä¸€ä¸ªæŸ¥è¯¢æ¨¡å¼æˆ–æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…è¾“å…¥è·¯å¾„å†…çš„è·¯å¾„æˆ–æ–‡ä»¶ã€‚å®ƒä»¬å¯ä»¥ç”¨æ¥å°†ç‰¹å®šçš„é€‰é¡¹ï¼ˆè§ä¸‹æ–‡ï¼‰åŠ è¯¸äºé‡åˆ°çš„æ–‡ä»¶å’Œè·¯å¾„çš„ä¸€ä¸ªå­é›†ä¸Šã€‚æ¯ä¸ªè¾“å…¥æ–‡ä»¶æˆ–è·¯å¾„çš„å®Œæ•´è·¯å¾„ï¼ˆåæ–œæ /å¼€å¤´çš„è·¯å¾„ï¼‰å°†ç”¨æ¥åŒ¹é…è¯¥è¡¨è¾¾å¼ã€‚PATTERNä»…ä»…ç”¨æ¥åŒ¹é…å®Œå…¨æ–‡ä»¶åï¼šåŒ¹é…è¯¥æ¨¡å¼çš„å…¨è·¯å¾„çš„é‚£éƒ¨åˆ†å¿…é¡»å‡ºç°åœ¨æ–‡ä»¶åçš„ç»“å°¾ï¼Œå¹¶ä¸”å¿…é¡»ä»¥ä¸€ä¸ªåæ–œæ å¼€å§‹ã€‚</p>
<p>æ­£åˆ™è¡¨è¾¾å¼ä¼šç”¨æ¥åŒ¹é…ä¸€ä¸ªå®Œå…¨è·¯å¾„çš„ä»»ä½•éƒ¨åˆ†ï¼Œä½†æ˜¯å®ƒä¹Ÿå¯ä»¥ä½¿ç”¨'/'å’Œ'$'æ¨¡ä»¿PATTERNçš„è¡Œä¸ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ–‡ä»¶å’Œè·¯å¾„ä¸ç®¡æ˜¯å¦åŒ¹é…éƒ½ä¼šè¢«å®‰è£…ã€‚å¯ä»¥åœ¨ç¬¬ä¸€ä¸ªåŒ¹é…é€‰é¡¹ä¹‹å‰æŒ‡å®šFILE_MATCHINGé€‰é¡¹ï¼Œè¿™æ ·å°±èƒ½ç¦æ­¢å®‰è£…é‚£äº›ä¸ä¸ä»»ä½•è¡¨è¾¾å¼åŒ¹é…çš„æ–‡ä»¶ã€‚æ¯”å¦‚ï¼Œä»£ç </p>
<pre><code class="language-plain_text">install(DIRECTORY src/ DESTINATION include/myproj
      FILES_MATCHING PATTERN &quot;*.h&quot;)
</code></pre>
<p>å°†ä¼šç²¾ç¡®åŒ¹é…å¹¶å®‰è£…ä»æºç æ ‘ä¸Šå¾—åˆ°çš„å¤´æ–‡ä»¶ã€‚</p>
<p>æœ‰äº›é€‰é¡¹åé¢å¯ä»¥è·Ÿåœ¨PATTERNæˆ–è€…REGEXè¡¨è¾¾å¼çš„åé¢ï¼Œè¿™æ ·è¿™äº›é€‰é¡¹åªèƒ½åŠ è¯¸äºåŒ¹é…PATTERN/REGEXçš„æ–‡ä»¶æˆ–è·¯å¾„ä¸Šã€‚EXCLUDEé€‰é¡¹å°†ä¼šæŒ‡ç¤ºå®‰è£…è¿‡ç¨‹è·³è¿‡é‚£äº›åŒ¹é…çš„æ–‡ä»¶æˆ–è€…è·¯å¾„ã€‚PERMISSIONSé€‰é¡¹å¯ä»¥è¦†ç›–é‚£äº›åŒ¹é…PATTERN/REGEXçš„æ–‡ä»¶çš„æƒé™è®¾å®šã€‚ä¾‹å¦‚ï¼Œä»£ç </p>
<pre><code class="language-plain_text">install(DIRECTORY icons scripts/ DESTINATION share/myproj
      PATTERN &quot;CVS&quot; EXCLUDE
      PATTERN &quot;scripts/*&quot;
      PERMISSIONS OWNER_EXECUTE OWNER_WRITE OWNER_READ
                  GROUP_EXECUTE GROUP_READ)
</code></pre>
<p>ä¼šå°†iconsè·¯å¾„å®‰è£…åˆ°share/myproject/iconsä¸‹ï¼ŒåŒæ—¶æŠŠscriptsç›®å½•å®‰è£…åˆ°share/myprojè·¯å¾„ä¸‹ã€‚iconså°†å…·å¤‡é»˜è®¤çš„æ–‡ä»¶æƒé™ï¼Œscriptså°†ä¼šè¢«ç»™ä¸æŒ‡å®šçš„æƒé™ï¼Œä½†æ˜¯æ‰€æœ‰CVSè·¯å¾„æ’é™¤åœ¨å¤–ã€‚</p>
<h4><a id="script%E5%92%8Ccode%E7%89%88%E6%9C%AC%E7%9A%84install%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>SCRIPTå’ŒCODEç‰ˆæœ¬çš„installå‘½ä»¤</h4>
<pre><code class="language-plain_text">install([[SCRIPT &lt;file&gt;] [CODE &lt;code&gt;]] [...])
</code></pre>
<p>SCRIPTæ ¼å¼å°†ä¼šåœ¨å®‰è£…æœŸè°ƒç”¨ç»™å®šçš„è„šæœ¬æ–‡ä»¶ã€‚å¦‚æœè„šæœ¬æ–‡ä»¶åæ˜¯ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼Œå®ƒä¼šè¢«è§£é‡Šä¸ºç›¸å¯¹äºå½“å‰çš„æºè·¯å¾„ã€‚CODEæ ¼å¼å°†ä¼šåœ¨å®‰è£…æœŸè°ƒç”¨ç»™å®šçš„CMakeä»£ç ã€‚codeè¢«æŒ‡å®šä¸ºä¸€ä¸ªåŒå¼•å·æ‹¬èµ·æ¥çš„å•ç‹¬çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œä»£ç </p>
<pre><code class="language-plain_text">  install(CODE &quot;MESSAGE(\&quot;Sample install message.\&quot;)&quot;)
</code></pre>
<p>ä¼šåœ¨å®‰è£…æ—¶æ‰“å°ä¸€æ¡æ¶ˆæ¯ã€‚</p>
<h4><a id="export%E7%89%88%E6%9C%AC%E7%9A%84install%E5%91%BD%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>EXPORTç‰ˆæœ¬çš„installå‘½ä»¤</h4>
<pre><code class="language-plain_text">install(EXPORT &lt;export-name&gt; DESTINATION &lt;dir&gt;
      [NAMESPACE &lt;namespace&gt;] [FILE &lt;name&gt;.cmake]
      [PERMISSIONS permissions...]
      [CONFIGURATIONS [Debug|Release|...]]
      [COMPONENT &lt;component&gt;])
</code></pre>
<p>EXPORTæ ¼å¼çš„installå‘½ä»¤ç”Ÿæˆå¹¶å®‰è£…ä¸€ä¸ªåŒ…å«å°†å®‰è£…è¿‡ç¨‹çš„å®‰è£…æ ‘å¯¼å…¥åˆ°å¦ä¸€ä¸ªå·¥ç¨‹ä¸­çš„CMakeæ–‡ä»¶ã€‚Targetæ ¼å¼çš„å®‰è£…è¿‡ç¨‹ä¸ä¸Šæ–‡æåŠçš„ä½¿ç”¨EXPORTé€‰é¡¹çš„install(TARGET ...)æ ¼å¼çš„å‘½ä»¤ä¸­çš„EXPORT <export-name>é€‰é¡¹æ˜¯ç›¸å…³çš„ã€‚NAMESPACEé€‰é¡¹ä¼šåœ¨å®ƒä»¬è¢«å†™å…¥åˆ°å¯¼å…¥æ–‡ä»¶æ—¶åŠ åˆ°ç›®æ ‡åå­—ä¹‹å‰ã€‚ç¼ºçœæ—¶ï¼Œç”Ÿæˆçš„æ–‡ä»¶å°±æ˜¯<export-name>.cmakeï¼›ä½†æ˜¯FILEé€‰é¡¹å¯ä»¥ç”¨æ¥æŒ‡å®šä¸åŒäºæ¬¡çš„æ–‡ä»¶åã€‚FILEé€‰é¡¹åé¢çš„å‚æ•°å¿…é¡»æ˜¯ä¸€â€œ.cmakeâ€ä¸ºæ‰©å±•åçš„æ–‡ä»¶ã€‚å¦‚æœæŒ‡å®šäº†CONFIGURATIONSé€‰é¡¹ï¼Œé‚£ä¹ˆåªæœ‰é‚£äº›å…·åçš„é…ç½®ä¸­çš„ä¸€ä¸ªè¢«å®‰è£…æ—¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ‰ä¼šè¢«å®‰è£…ã€‚è€Œä¸”ï¼Œç”Ÿæˆçš„å¯¼å…¥æ–‡ä»¶åªèƒ½æ¶‰åŠåˆ°åŒ¹é…çš„ç›®æ ‡é…ç½®ç‰ˆæœ¬ã€‚å¦‚æœæŒ‡å®šäº†ä¸€ä¸ªCOMPONENTé€‰é¡¹ï¼Œå¹¶ä¸”<component>ä¸é‚£ä¸ª<export-name>ç›¸å…³çš„ç›®æ ‡æŒ‡å®šçš„éƒ¨ä»¶ä¸åŒ¹é…ï¼Œé‚£ä¹ˆè¡Œä¸ºæ˜¯æœªå®šä¹‰çš„ã€‚å¦‚æœä¸€ä¸ªåº“ç›®æ ‡è¢«åŒ…å«åœ¨exportä¹‹ä¸­ï¼Œä½†æ˜¯ä¸ä¹‹å…³è”çš„åº“å´æ²¡æœ‰èƒŒåŒ…å«ï¼Œé‚£ä¹ˆç»“æœæ˜¯æœªæŒ‡å®šçš„ã€‚</p>
<p>EXPORTæ ¼å¼å¯ä»¥ååŠ©å¤–éƒ¨å·¥ç¨‹ä½¿ç”¨å½“å‰å·¥ç¨‹æ„å»ºå‡ºæ¥å¹¶å®‰è£…çš„ç›®æ ‡ã€‚ä¾‹å¦‚ï¼Œä»£ç </p>
<pre><code class="language-plain_text">  install(TARGETS myexe EXPORT myproj DESTINATION bin)
  install(EXPORT myproj NAMESPACE mp_ DESTINATION lib/myproj)
</code></pre>
<p>å°†ä¼šæŠŠå¯æ‰§è¡Œæ–‡ä»¶myexeå®‰è£…åˆ°<prefix>/binä¸‹ï¼Œå¹¶ä¸”å°†å¯¼å…¥å®ƒçš„ä»£ç å†™åˆ°æ–‡ä»¶&quot;<prefix>/lib/myproj/myproj.cmake&quot;ä¸­ã€‚ä¸€ä¸ªå¤–éƒ¨å·¥ç¨‹å¯ä»¥ç”¨includeå‘½ä»¤åŠ è½½è¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å®‰è£…æ ‘ä¸Šä½¿ç”¨å¯¼å…¥çš„ç›®æ ‡åmp_myexeï¼ˆå‰ç¼€_ç›®æ ‡åâ€”â€”è¯‘æ³¨ï¼‰å¼•ç”¨myexeå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¦‚åŒè¿™ä¸ªç›®æ ‡æ˜¯å®ƒè‡ªèº«çš„æ„å»ºæ ‘çš„å†…ç½®ç›®æ ‡ä¸€æ ·ã€‚</p>
<p>æ³¨æ„ï¼šè¿™ä¸ªå‘½ä»¤ä¼šå–ä»£INSTALL_TARGETSå‘½ä»¤ä»¥åŠPRE_INSTALL_SCRIPTå’ŒPOST_INSTALL_SCRIPTä¸¤ä¸ªç›®æ ‡å±æ€§ã€‚å®ƒä¹Ÿå¯ä»¥å–ä»£FILESæ ¼å¼çš„INSTALL_FILESå‘½ä»¤å’ŒINSTALL_PROGRAMSå‘½ä»¤ã€‚ç”±INSTALLå‘½ä»¤ç”Ÿæˆçš„å®‰è£…è§„åˆ™ç›¸å¯¹äºé‚£äº›ç”±INSTALL_TARGETSï¼ŒINSTALL_FILESå’ŒINSTALL_PROGRAMSå‘½ä»¤ç”Ÿæˆçš„å®‰è£…è§„åˆ™å¤„ç†é¡ºåºæ˜¯æœªå®šä¹‰çš„ã€‚</p>
<h3><a id="make-clean" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>make clean</h3>
<p>æ¸…é™¤ç¼–è¯‘äº§ç”Ÿçš„å¯æ‰§è¡Œæ–‡ä»¶åŠç›®æ ‡æ–‡ä»¶(object fileï¼Œ*.o)ã€‚</p>
<h2><a id="%E6%9F%A5%E8%A1%A8%E6%89%8B%E5%86%8C" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æŸ¥è¡¨æ‰‹å†Œ</h2>
<h3><a id="cmake%E5%B8%B8%E7%94%A8%E5%8F%98%E9%87%8F" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmake å¸¸ç”¨å˜é‡</h3>
<pre><code class="language-plain_text">CMAKE_BINARY_DIR
PROJECT_BINARY_DIR
&lt;projectname&gt;_BINARY_DIR
</code></pre>
<p>è¿™ä¸‰ä¸ªå˜é‡æŒ‡ä»£çš„å†…å®¹æ˜¯ä¸€è‡´çš„ï¼Œå¦‚æœæ˜¯ in source ç¼–è¯‘ï¼ŒæŒ‡å¾—å°±æ˜¯å·¥ç¨‹é¡¶å±‚ç›®å½•ï¼Œå¦‚æœæ˜¯ out-of-source ç¼–è¯‘ï¼ŒæŒ‡çš„æ˜¯å·¥ç¨‹ç¼–è¯‘å‘ç”Ÿçš„ç›®å½•ã€‚</p>
<p>PROJECT_BINARY_DIR è·Ÿå…¶ä»–æŒ‡ä»¤ç¨æœ‰åŒºåˆ«ï¼Œç°åœ¨ï¼Œä½ å¯ä»¥ç†è§£ä¸ºä»–ä»¬æ˜¯ä¸€è‡´çš„ã€‚</p>
<pre><code class="language-plain_text">CMAKE_SOURCE_DIR
PROJECT_SOURCE_DIR
&lt;projectname&gt;_SOURCE_DIR
</code></pre>
<p>è¿™ä¸‰ä¸ªå˜é‡æŒ‡ä»£çš„å†…å®¹æ˜¯ä¸€è‡´çš„ï¼Œä¸è®ºé‡‡ç”¨ä½•ç§ç¼–è¯‘æ–¹å¼ï¼Œéƒ½æ˜¯å·¥ç¨‹é¡¶å±‚ç›®å½•ã€‚</p>
<p>ä¹Ÿå°±æ˜¯åœ¨ in source ç¼–è¯‘æ—¶ï¼Œä»–è·Ÿ CMAKE_BINARY_DIR ç­‰å˜é‡ä¸€è‡´ã€‚</p>
<p>PROJECT_SOURCE_DIR è·Ÿå…¶ä»–æŒ‡ä»¤ç¨æœ‰åŒºåˆ«ï¼Œç°åœ¨ï¼Œä½ å¯ä»¥ç†è§£ä¸ºä»–ä»¬æ˜¯ä¸€è‡´çš„ã€‚</p>
<pre><code class="language-plain_text">CMAKE_CURRENT_SOURCE_DIR
</code></pre>
<p>æŒ‡çš„æ˜¯å½“å‰å¤„ç†çš„ CMakeLists.txt æ‰€åœ¨çš„è·¯å¾„ï¼Œæ¯”å¦‚ä¸Šé¢æˆ‘ä»¬æåˆ°çš„ src å­ç›®å½•ã€‚</p>
<pre><code class="language-plain_text">CMAKE_CURRRENT_BINARY_DIR
</code></pre>
<p>å¦‚æœæ˜¯ in-source ç¼–è¯‘ï¼Œå®ƒè·Ÿ CMAKE_CURRENT_SOURCE_DIR ä¸€è‡´ï¼Œå¦‚æœæ˜¯ out-of-source ç¼–è¯‘ï¼Œä»–æŒ‡çš„æ˜¯ target ç¼–è¯‘ç›®å½•ã€‚</p>
<p>ä½¿ç”¨ADD_SUBDIRECTORY(src bin)å¯ä»¥æ›´æ”¹è¿™ä¸ªå˜é‡çš„å€¼ã€‚</p>
<p>ä½¿ç”¨ SET(EXECUTABLE_OUTPUT_PATH &lt;æ–°è·¯å¾„&gt;)å¹¶ä¸ä¼šå¯¹è¿™ä¸ªå˜é‡é€ æˆå½±å“,å®ƒä»…ä»…ä¿®æ”¹äº†æœ€ç»ˆç›®æ ‡æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„ã€‚</p>
<pre><code class="language-plain_text">CMAKE_CURRENT_LIST_FILE
</code></pre>
<p>è¾“å‡ºè°ƒç”¨è¿™ä¸ªå˜é‡çš„ CMakeLists.txt çš„å®Œæ•´è·¯å¾„ã€‚</p>
<pre><code class="language-plain_text">CMAKE_CURRENT_LIST_LINE
</code></pre>
<p>è¾“å‡ºè¿™ä¸ªå˜é‡æ‰€åœ¨çš„è¡Œã€‚</p>
<pre><code class="language-plain_text">CMAKE_MODULE_PATH
</code></pre>
<p>è¿™ä¸ªå˜é‡ç”¨æ¥å®šä¹‰è‡ªå·±çš„ cmake æ¨¡å—æ‰€åœ¨çš„è·¯å¾„ã€‚</p>
<p>å¦‚æœä½ çš„å·¥ç¨‹æ¯”è¾ƒå¤æ‚,æœ‰å¯èƒ½ä¼šè‡ªå·±ç¼–å†™ä¸€äº› cmake æ¨¡å—ï¼Œè¿™äº› cmake æ¨¡å—æ˜¯éšä½ çš„å·¥ç¨‹å‘å¸ƒçš„,ä¸ºäº†è®© cmake åœ¨å¤„ç†CMakeLists.txt æ—¶æ‰¾åˆ°è¿™äº›æ¨¡å—ï¼Œä½ éœ€è¦é€šè¿‡ SET æŒ‡ä»¤ï¼Œå°†è‡ªå·±çš„ cmake æ¨¡å—è·¯å¾„è®¾ç½®ä¸€ä¸‹ã€‚</p>
<p>æ¯”å¦‚<code>SET(CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)</code>ï¼Œè¿™æ—¶å€™ä½ å°±å¯ä»¥é€šè¿‡ INCLUDE æŒ‡ä»¤æ¥è°ƒç”¨è‡ªå·±çš„æ¨¡å—äº†ã€‚</p>
<pre><code class="language-plain_text">EXECUTABLE_OUTPUT_PATH
LIBRARY_OUTPUT_PATH
</code></pre>
<p>åˆ†åˆ«ç”¨æ¥é‡æ–°å®šä¹‰æœ€ç»ˆç»“æœçš„å­˜æ”¾ç›®å½•ã€‚</p>
<pre><code class="language-plain_text">PROJECT_NAME
</code></pre>
<p>è¿”å›é€šè¿‡ PROJECT æŒ‡ä»¤å®šä¹‰çš„é¡¹ç›®åç§°ã€‚</p>
<h3><a id="cmake%E8%B0%83%E7%94%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E6%96%B9%E5%BC%8F" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmake è°ƒç”¨ç¯å¢ƒå˜é‡çš„æ–¹å¼</h3>
<p>ä½¿ç”¨<code>$ENV{NAME}</code>æŒ‡ä»¤å°±å¯ä»¥è°ƒç”¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡äº†ã€‚</p>
<p>æ¯”å¦‚<code>MESSAGE(STATUS â€œHOME dir: $ENV{HOME}â€)</code>ã€‚</p>
<p>è®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼æ˜¯:</p>
<pre><code class="language-plain_text">SET(ENV{å˜é‡å} å€¼)
</code></pre>
<pre><code class="language-plain_text">CMAKE_INCLUDE_CURRENT_DIR
</code></pre>
<p>è‡ªåŠ¨æ·»åŠ  CMAKE_CURRENT_BINARY_DIR å’Œ CMAKE_CURRENT_SOURCE_DIR åˆ°å½“å‰å¤„ç†çš„ CMakeLists.txtã€‚</p>
<p>ç›¸å½“äºåœ¨æ¯ä¸ª CMakeLists.txt åŠ å…¥äº†å¦‚ä¸‹ä¸¤è¡Œï¼š</p>
<pre><code class="language-plain_text">INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR}
${CMAKE_CURRENT_SOURCE_DIR})
</code></pre>
<pre><code class="language-plain_text">CMAKE_INCLUDE_DIRECTORIES_PROJECT_BEFORE
</code></pre>
<p>å°†å·¥ç¨‹æä¾›çš„å¤´æ–‡ä»¶ç›®å½•å§‹ç»ˆè‡³äºç³»ç»Ÿå¤´æ–‡ä»¶ç›®å½•çš„å‰é¢ï¼Œå½“ä½ å®šä¹‰çš„å¤´æ–‡ä»¶ç¡®å®è·Ÿç³»ç»Ÿå‘ç”Ÿå†²çªæ—¶å¯ä»¥æä¾›ä¸€äº›å¸®åŠ©ã€‚</p>
<h3><a id="%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ç³»ç»Ÿä¿¡æ¯</h3>
<p>1, <code>CMAKE_MAJOR_VERSION</code>ï¼ŒCMAKE ä¸»ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚ 2.4.6 ä¸­çš„ 2<br />
2, <code>CMAKE_MINOR_VERSION</code>ï¼ŒCMAKE æ¬¡ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚ 2.4.6 ä¸­çš„ 4<br />
3, <code>CMAKE_PATCH_VERSION</code>ï¼ŒCMAKE è¡¥ä¸ç­‰çº§ï¼Œæ¯”å¦‚ 2.4.6 ä¸­çš„ 6<br />
4, <code>CMAKE_SYSTEM,ç³»ç»Ÿåç§°</code>ï¼Œæ¯”å¦‚ Linux-2.6.22<br />
5, <code>CMAKE_SYSTEM_NAME</code>ï¼Œä¸åŒ…å«ç‰ˆæœ¬çš„ç³»ç»Ÿå,æ¯”å¦‚ Linux<br />
6, <code>CMAKE_SYSTEM_VERSION</code>ï¼Œç³»ç»Ÿç‰ˆæœ¬,æ¯”å¦‚ 2.6.22<br />
7, <code>CMAKE_SYSTEM_PROCESSOR</code>ï¼Œå¤„ç†å™¨åç§°,æ¯”å¦‚ i686.<br />
8, <code>UNIX</code>ï¼Œåœ¨æ‰€æœ‰çš„ç±» UNIX å¹³å°ä¸º TRUEï¼ŒåŒ…æ‹¬ OS X å’Œ cygwin<br />
9, <code>WIN32</code>ï¼Œåœ¨æ‰€æœ‰çš„ win32 å¹³å°ä¸º TRUEï¼ŒåŒ…æ‹¬ cygwin</p>
<h3><a id="%E4%B8%BB%E8%A6%81%E7%9A%84%E5%BC%80%E5%85%B3%E9%80%89%E9%A1%B9" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ä¸»è¦çš„å¼€å…³é€‰é¡¹</h3>
<p>1, <code>CMAKE_ALLOW_LOOSE_LOOP_CONSTRUCTS</code>ï¼Œç”¨æ¥æ§åˆ¶ <code>IF ELSE</code> è¯­å¥çš„ä¹¦å†™æ–¹å¼ï¼Œåœ¨ä¸‹ä¸€èŠ‚è¯­æ³•éƒ¨åˆ†ä¼šè®²åˆ°ã€‚<br />
2, <code>BUILD_SHARED_LIBS</code>ï¼Œè¿™ä¸ªå¼€å…³ç”¨æ¥æ§åˆ¶é»˜è®¤çš„åº“ç¼–è¯‘æ–¹å¼ï¼Œå¦‚æœä¸è¿›è¡Œè®¾ç½®ï¼Œä½¿ç”¨ <code>ADD_LIBRARY</code> å¹¶æ²¡æœ‰æŒ‡å®šåº“ç±»å‹çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤ç¼–è¯‘ç”Ÿæˆçš„åº“éƒ½æ˜¯é™æ€åº“ã€‚å¦‚æœ <code>SET(BUILD_SHARED_LIBS ON)</code>å,é»˜è®¤ç”Ÿæˆçš„ä¸ºåŠ¨æ€åº“ã€‚<br />
3,<code>CMAKE_C_FLAGS</code>ï¼Œè®¾ç½® C ç¼–è¯‘é€‰é¡¹,ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡ä»¤ <code>ADD_DEFINITIONS()</code>æ·»åŠ ã€‚<br />
4,<code>CMAKE_CXX_FLAGS</code>ï¼Œè®¾ç½® C++ç¼–è¯‘é€‰é¡¹,ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡ä»¤ <code>ADD_DEFINITIONS()</code>æ·»åŠ ã€‚</p>
<h3><a id="cmake%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>cmake å¸¸ç”¨æŒ‡ä»¤</h3>
<h4><a id="%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>åŸºæœ¬æŒ‡ä»¤</h4>
<h5><a id="add-definitions" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ADD_DEFINITIONS</h5>
<p>å‘ C/C++ç¼–è¯‘å™¨æ·»åŠ -D å®šä¹‰ï¼Œå‚æ•°ä¹‹é—´ç”¨ç©ºæ ¼åˆ†å‰²ã€‚æ¯”å¦‚:</p>
<pre><code class="language-plain_text">ADD_DEFINITIONS(-DENABLE_DEBUG -DABC)
</code></pre>
<p>å¦‚æœä½ çš„ä»£ç ä¸­å®šä¹‰äº†<code>#ifdef ENABLE_DEBUG #endif</code>ï¼Œè¿™ä¸ªä»£ç å—å°±ä¼šç”Ÿæ•ˆã€‚</p>
<p>å¦‚æœè¦æ·»åŠ å…¶ä»–çš„ç¼–è¯‘å™¨å¼€å…³,å¯ä»¥é€šè¿‡ <code>CMAKE_C_FLAGS</code> å˜é‡å’Œ <code>CMAKE_CXX_FLAGS</code> å˜é‡è®¾ç½®ã€‚</p>
<h5><a id="add-dependencies" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ADD_DEPENDENCIES</h5>
<p>å®šä¹‰ target ä¾èµ–çš„å…¶ä»– targetï¼Œç¡®ä¿åœ¨ç¼–è¯‘æœ¬ target ä¹‹å‰,å…¶ä»–çš„ target å·²ç»è¢«æ„å»ºã€‚</p>
<pre><code class="language-plain_text">ADD_DEPENDENCIES(target-name depend-target1
                 depend-target2 ...)
</code></pre>
<h5><a id="add-test%E4%B8%8E-enable-testing%E6%8C%87%E4%BB%A4%E3%80%82" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>ADD_TEST ä¸ ENABLE_TESTING æŒ‡ä»¤ã€‚</h5>
<p>ENABLE_TESTING æŒ‡ä»¤ç”¨æ¥æ§åˆ¶ Makefile æ˜¯å¦æ„å»º test ç›®æ ‡,æ¶‰åŠå·¥ç¨‹æ‰€æœ‰ç›®å½•ã€‚è¯­æ³•å¾ˆç®€å•ï¼Œæ²¡æœ‰ä»»ä½•å‚æ•°ï¼Œ<code>ENABLE_TESTING()</code>ï¼Œä¸€èˆ¬æƒ…å†µè¿™ä¸ªæŒ‡ä»¤æ”¾åœ¨å·¥ç¨‹çš„ä¸»CMakeLists.txt ä¸­ã€‚</p>
<p>ADD_TEST æŒ‡ä»¤çš„è¯­æ³•æ˜¯:</p>
<pre><code class="language-plain_text">ADD_TEST(testname Exename arg1 arg2 ...)
</code></pre>
<p>testname æ˜¯è‡ªå®šä¹‰çš„ test åç§°ï¼ŒExename å¯ä»¥æ˜¯æ„å»ºçš„ç›®æ ‡æ–‡ä»¶ä¹Ÿå¯ä»¥æ˜¯å¤–éƒ¨è„šæœ¬ç­‰ç­‰ã€‚</p>
<p>åé¢è¿æ¥ä¼ é€’ç»™å¯æ‰§è¡Œæ–‡ä»¶çš„å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰åœ¨åŒä¸€ä¸ª CMakeLists.txt ä¸­æ‰“å¼€<code>ENABLE_TESTING()</code>æŒ‡ä»¤,ä»»ä½• ADD_TEST éƒ½æ˜¯æ— æ•ˆçš„ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬å‰é¢çš„ Helloworld ä¾‹å­,å¯ä»¥åœ¨å·¥ç¨‹ä¸» CMakeLists.txt ä¸­æ·»åŠ </p>
<pre><code class="language-plain_text">ADD_TEST(mytest ${PROJECT_BINARY_DIR}/bin/main)
ENABLE_TESTING()
</code></pre>
<p>ç”Ÿæˆ Makefile å,å°±å¯ä»¥è¿è¡Œ make test æ¥æ‰§è¡Œæµ‹è¯•äº†ã€‚</p>
<h5><a id="aux-source-directory" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>AUX_SOURCE_DIRECTORY</h5>
<p>åŸºæœ¬è¯­æ³•æ˜¯:</p>
<pre><code class="language-plain_text">AUX_SOURCE_DIRECTORY(dir VARIABLE)
</code></pre>
<p>ä½œç”¨æ˜¯å‘ç°ä¸€ä¸ªç›®å½•ä¸‹æ‰€æœ‰çš„æºä»£ç æ–‡ä»¶å¹¶å°†åˆ—è¡¨å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œè¿™ä¸ªæŒ‡ä»¤ä¸´æ—¶è¢«ç”¨æ¥è‡ªåŠ¨æ„å»ºæºæ–‡ä»¶åˆ—è¡¨ã€‚å› ä¸ºç›®å‰ cmake è¿˜ä¸èƒ½è‡ªåŠ¨å‘ç°æ–°æ·»åŠ çš„æºæ–‡ä»¶ã€‚</p>
<p>æ¯”å¦‚</p>
<pre><code class="language-plain_text">AUX_SOURCE_DIRECTORY(. SRC_LIST)
ADD_EXECUTABLE(main ${SRC_LIST})
</code></pre>
<p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡åé¢æåˆ°çš„ FOREACH æŒ‡ä»¤æ¥å¤„ç†è¿™ä¸ª LISTã€‚</p>
<h5><a id="cmake-minimum-required" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>CMAKE_MINIMUM_REQUIRED</h5>
<p>å…¶è¯­æ³•ä¸º</p>
<pre><code class="language-plain_text">CMAKE_MINIMUM_REQUIRED(VERSION versionNumber [FATAL_ERROR])
</code></pre>
<p>æ¯”å¦‚</p>
<pre><code class="language-plain_text">CMAKE_MINIMUM_REQUIRED(VERSION 2.5 FATAL_ERROR)
</code></pre>
<p>å¦‚æœ cmake ç‰ˆæœ¬å°ä¸ 2.5,åˆ™å‡ºç°ä¸¥é‡é”™è¯¯,æ•´ä¸ªè¿‡ç¨‹ä¸­æ­¢ã€‚</p>
<h5><a id="exec-program" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>EXEC_PROGRAM</h5>
<p>åœ¨ CMakeLists.txt å¤„ç†è¿‡ç¨‹ä¸­æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸ä¼šåœ¨ç”Ÿæˆçš„ Makefile ä¸­æ‰§è¡Œã€‚</p>
<p>å…·ä½“è¯­æ³•ä¸º:</p>
<pre><code class="language-plain_text">EXEC_PROGRAM(Executable [directory in which to run]
                [ARGS &lt;arguments to executable&gt;]
                [OUTPUT_VARIABLE &lt;var&gt;]
                [RETURN_VALUE &lt;var&gt;])
</code></pre>
<p>ç”¨äºåœ¨æŒ‡å®šçš„ç›®å½•è¿è¡ŒæŸä¸ªç¨‹åºï¼Œé€šè¿‡ ARGS æ·»åŠ å‚æ•°,å¦‚æœè¦è·å–è¾“å‡ºå’Œè¿”å›å€¼ï¼Œå¯é€šè¿‡OUTPUT_VARIABLE å’Œ RETURN_VALUE åˆ†åˆ«å®šä¹‰ä¸¤ä¸ªå˜é‡ã€‚</p>
<p>è¿™ä¸ªæŒ‡ä»¤å¯ä»¥å¸®åŠ©ä½ åœ¨ CMakeLists.txt å¤„ç†è¿‡ç¨‹ä¸­æ”¯æŒä»»ä½•å‘½ä»¤ï¼Œæ¯”å¦‚æ ¹æ®ç³»ç»Ÿæƒ…å†µå»ä¿®æ”¹ä»£ç æ–‡ä»¶ç­‰ç­‰ã€‚</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­,æˆ‘ä»¬è¦åœ¨ src ç›®å½•æ‰§è¡Œ ls å‘½ä»¤,å¹¶æŠŠç»“æœå’Œè¿”å›å€¼å­˜ä¸‹æ¥ã€‚</p>
<p>å¯ä»¥ç›´æ¥åœ¨ src/CMakeLists.txt ä¸­æ·»åŠ :</p>
<pre><code class="language-plain_text">EXEC_PROGRAM(ls ARGS &quot;*.c&quot; OUTPUT_VARIABLE LS_OUTPUT RETURN_VALUE
LS_RVALUE)
IF(not LS_RVALUE)
MESSAGE(STATUS &quot;ls result: &quot; ${LS_OUTPUT})
ENDIF(not LS_RVALUE)
</code></pre>
<p>åœ¨ cmake ç”Ÿæˆ Makefile çš„è¿‡ç¨‹ä¸­ï¼Œå°±ä¼šæ‰§è¡Œ ls å‘½ä»¤ï¼Œå¦‚æœè¿”å› 0ï¼Œåˆ™è¯´æ˜æˆåŠŸæ‰§è¡Œï¼Œé‚£ä¹ˆå°±è¾“å‡º ls *.c çš„ç»“æœã€‚å…³äº IF è¯­å¥ï¼Œåé¢çš„æ§åˆ¶æŒ‡ä»¤ä¼šæåˆ°ã€‚</p>
<h5><a id="file%E6%8C%87%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>FILE æŒ‡ä»¤</h5>
<p>æ–‡ä»¶æ“ä½œæŒ‡ä»¤,åŸºæœ¬è¯­æ³•ä¸º:</p>
<pre><code class="language-plain_text">FILE(WRITE filename &quot;message to write&quot;... )
FILE(APPEND filename &quot;message to write&quot;... )
FILE(READ filename variable)
FILE(GLOB variable [RELATIVE path] [globbing expression_r_rs]...)
FILE(GLOB_RECURSE variable [RELATIVE path] [globbing expression_r_rs]...)
FILE(REMOVE [directory]...)
FILE(REMOVE_RECURSE [directory]...)
FILE(MAKE_DIRECTORY [directory]...)
FILE(RELATIVE_PATH variable directory file)
FILE(TO_CMAKE_PATH path result)
FILE(TO_NATIVE_PATH path result)
</code></pre>
<h5><a id="include%E6%8C%87%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>INCLUDE æŒ‡ä»¤</h5>
<p>ç”¨æ¥è½½å…¥ CMakeLists.txt æ–‡ä»¶,ä¹Ÿç”¨äºè½½å…¥é¢„å®šä¹‰çš„ cmake æ¨¡å—ã€‚</p>
<pre><code class="language-plain_text">INCLUDE(file1 [OPTIONAL])
INCLUDE(module [OPTIONAL])
</code></pre>
<p>OPTIONAL å‚æ•°çš„ä½œç”¨æ˜¯æ–‡ä»¶ä¸å­˜åœ¨ä¹Ÿä¸ä¼šäº§ç”Ÿé”™è¯¯ã€‚</p>
<p>ä½ å¯ä»¥æŒ‡å®šè½½å…¥ä¸€ä¸ªæ–‡ä»¶,å¦‚æœå®šä¹‰çš„æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œé‚£ä¹ˆå°†åœ¨ CMAKE_MODULE_PATH ä¸­æœç´¢è¿™ä¸ªæ¨¡å—å¹¶è½½å…¥ã€‚</p>
<p>è½½å…¥çš„å†…å®¹å°†åœ¨å¤„ç†åˆ° INCLUDE è¯­å¥æ˜¯ç›´æ¥æ‰§è¡Œã€‚</p>
<h4><a id="find%E6%8C%87%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>FIND_æŒ‡ä»¤</h4>
<p>FIND_ç³»åˆ—æŒ‡ä»¤ä¸»è¦åŒ…å«ä¸€ä¸‹æŒ‡ä»¤:</p>
<pre><code class="language-plain_text"># VAR å˜é‡ä»£è¡¨æ‰¾åˆ°çš„æ–‡ä»¶å…¨è·¯å¾„,åŒ…å«æ–‡ä»¶å
FIND_FILE(&lt;VAR&gt; name1 path1 path2 ...)

# VAR å˜é‡è¡¨ç¤ºæ‰¾åˆ°çš„åº“å…¨è·¯å¾„,åŒ…å«åº“æ–‡ä»¶å
FIND_LIBRARY(&lt;VAR&gt; name1 path1 path2 ...)

# VAR å˜é‡ä»£è¡¨åŒ…å«è¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„ã€‚
FIND_PATH(&lt;VAR&gt; name1 path1 path2 ...)

# VAR å˜é‡ä»£è¡¨åŒ…å«è¿™ä¸ªç¨‹åºçš„å…¨è·¯å¾„ã€‚
FIND_PROGRAM(&lt;VAR&gt; name1 path1 path2 ...)

# ç”¨æ¥è°ƒç”¨é¢„å®šä¹‰åœ¨ CMAKE_MODULE_PATH ä¸‹çš„ Find&lt;name&gt;.cmake æ¨¡å—,ä½ ä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰ Find&lt;name&gt;æ¨¡å—,é€šè¿‡ SET(CMAKE_MODULE_PATH dir)å°†å…¶æ”¾å…¥å·¥ç¨‹çš„æŸä¸ªç›®å½•ä¸­ä¾›å·¥ç¨‹ä½¿ç”¨,æˆ‘ä»¬åœ¨åé¢çš„ç« èŠ‚ä¼šè¯¦ç»†ä»‹ç» FIND_PACKAGE çš„ä½¿ç”¨æ–¹æ³•å’Œ Find æ¨¡å—çš„ç¼–å†™ã€‚
FIND_PACKAGE(&lt;name&gt; [major.minor] [QUIET] [NO_MODULE]
                [[REQUIRED|COMPONENTS] [componets...]])

</code></pre>
<p>FIND_LIBRARY ç¤ºä¾‹ï¼š</p>
<pre><code class="language-plain_text">FIND_LIBRARY(libX X11 /usr/lib)
IF(NOT libX)
MESSAGE(FATAL_ERROR â€œlibX not foundâ€)
ENDIF(NOT libX)
</code></pre>
<h5><a id="link-directories" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>link_directories</h5>
<p>æŒ‡å®šè¿æ¥å™¨æŸ¥æ‰¾åº“çš„è·¯å¾„ã€‚</p>
<pre><code class="language-plain_text">link_directories(directory1 directory2 ...)
</code></pre>
<p>æŒ‡å®šè¿æ¥å™¨æœç´¢åº“æ–‡ä»¶æ—¶çš„è·¯å¾„ã€‚è¯¥å‘½ä»¤ä»…ä»…èƒ½ç”¨åœ¨é‚£äº›åœ¨å®ƒè¢«è°ƒç”¨åæ‰ç”Ÿæˆçš„ç›®æ ‡ä¸Šã€‚ç”±äºå†å²ä¸Šçš„åŸå› ï¼Œä¸ºè¯¥å‘½ä»¤æŒ‡å®šçš„ç›¸å¯¹è·¯å¾„å°†ä¼šä¸åŠ æ”¹å˜åœ°ä¼ é€’ç»™è¿æ¥å™¨ï¼ˆä¸åƒè®¸å¤šå…¶ä»–CMakeå‘½ä»¤é‚£æ ·è§£é‡Šä¸ºç›¸å¯¹äºå½“å‰æºè·¯å¾„çš„ç›¸å¯¹è·¯å¾„ã€‚ï¼‰</p>
<h4><a id="%E6%8E%A7%E5%88%B6%E6%8C%87%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>æ§åˆ¶æŒ‡ä»¤:</h4>
<h5><a id="if%E6%8C%87%E4%BB%A4" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>IF æŒ‡ä»¤</h5>
<p>åŸºæœ¬è¯­æ³•ä¸º:</p>
<pre><code class="language-plain_text">IF(expression_r_r)
# THEN section.
    COMMAND1(ARGS ...)
    COMMAND2(ARGS ...)
 ...
ELSE(expression_r_r)
# ELSE section.
    COMMAND1(ARGS ...)
    COMMAND2(ARGS ...)
 ...
ENDIF(expression_r_r)
</code></pre>
<p>å¦å¤–ä¸€ä¸ªæŒ‡ä»¤æ˜¯ ELSEIFï¼Œæ€»ä½“æŠŠæ¡ä¸€ä¸ªåŸåˆ™ï¼Œå‡¡æ˜¯å‡ºç° IF çš„åœ°æ–¹ä¸€å®šè¦æœ‰å¯¹åº”çš„ENDIFï¼Œå‡ºç° ELSEIF çš„åœ°æ–¹ï¼ŒENDIF æ˜¯å¯é€‰çš„ã€‚</p>
<p>è¡¨è¾¾å¼çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹:</p>
<pre><code class="language-plain_text">IF(var),å¦‚æœå˜é‡ä¸æ˜¯:ç©º,0,N, NO, OFF, FALSE, NOTFOUND æˆ–&lt;var&gt;_NOTFOUND æ—¶,è¡¨è¾¾å¼ä¸ºçœŸã€‚
IF(NOT var ),ä¸ä¸Šè¿°æ¡ä»¶ç›¸åã€‚
IF(var1 AND var2),å½“ä¸¤ä¸ªå˜é‡éƒ½ä¸ºçœŸæ˜¯ä¸ºçœŸã€‚
IF(var1 OR var2),å½“ä¸¤ä¸ªå˜é‡å…¶ä¸­ä¸€ä¸ªä¸ºçœŸæ—¶ä¸ºçœŸã€‚
IF(COMMAND cmd),å½“ç»™å®šçš„ cmd ç¡®å®æ˜¯å‘½ä»¤å¹¶å¯ä»¥è°ƒç”¨æ˜¯ä¸ºçœŸã€‚
IF(EXISTS dir)æˆ–è€… IF(EXISTS file),å½“ç›®å½•åæˆ–è€…æ–‡ä»¶åå­˜åœ¨æ—¶ä¸ºçœŸã€‚
IF(file1 IS_NEWER_THAN file2),å½“ file1 æ¯” file2 æ–°,æˆ–è€… file1/file2 å…¶ä¸­æœ‰ä¸€ä¸ªä¸å­˜åœ¨æ—¶ä¸ºçœŸ,æ–‡ä»¶åè¯·ä½¿ç”¨å®Œæ•´è·¯å¾„ã€‚
IF(IS_DIRECTORY dirname),å½“ dirname æ˜¯ç›®å½•æ—¶,ä¸ºçœŸã€‚
IF(variable MATCHES regex)
IF(string MATCHES regex)
</code></pre>
<p>å½“ç»™å®šçš„å˜é‡æˆ–è€…å­—ç¬¦ä¸²èƒ½å¤ŸåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ regex æ—¶ä¸ºçœŸã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="language-plain_text"># æ•°å­—æ¯”è¾ƒè¡¨è¾¾å¼
IF(&quot;hello&quot; MATCHES &quot;ell&quot;)
MESSAGE(&quot;true&quot;)
ENDIF(&quot;hello&quot; MATCHES &quot;ell&quot;)
IF(variable LESS number)
IF(string LESS number)
IF(variable GREATER number)
IF(string GREATER number)
IF(variable EQUAL number)
IF(string EQUAL number)

# æŒ‰ç…§å­—æ¯åºçš„æ’åˆ—è¿›è¡Œæ¯”è¾ƒ.
IF(variable STRLESS string)
IF(string STRLESS string)
IF(variable STRGREATER string)
IF(string STRGREATER string)
IF(variable STREQUAL string)
IF(string STREQUAL string)

</code></pre>
<p><code>IF(DEFINED variable)</code>ï¼Œå¦‚æœå˜é‡è¢«å®šä¹‰,ä¸ºçœŸã€‚</p>
<p>ä¸€ä¸ªå°ä¾‹å­,ç”¨æ¥åˆ¤æ–­å¹³å°å·®å¼‚:</p>
<pre><code class="language-plain_text">IF(WIN32)
    MESSAGE(STATUS â€œThis is windows.â€)
    #ä½œä¸€äº› Windows ç›¸å…³çš„æ“ä½œ
ELSE(WIN32)
    MESSAGE(STATUS â€œThis is not windowsâ€)
    #ä½œä¸€äº›é Windows ç›¸å…³çš„æ“ä½œ
ENDIF(WIN32)
</code></pre>
<p>ä¸Šè¿°ä»£ç ç”¨æ¥æ§åˆ¶åœ¨ä¸åŒçš„å¹³å°è¿›è¡Œä¸åŒçš„æ§åˆ¶ï¼Œä½†æ˜¯ï¼Œé˜…è¯»èµ·æ¥å´å¹¶ä¸æ˜¯é‚£ä¹ˆèˆ’æœã€‚</p>
<p>ELSE(WIN32)ä¹‹ç±»çš„è¯­å¥å¾ˆå®¹æ˜“å¼•èµ·æ­§ä¹‰ã€‚</p>
<p>è¿™å°±ç”¨åˆ°äº†æˆ‘ä»¬åœ¨â€œå¸¸ç”¨å˜é‡â€ä¸€èŠ‚æåˆ°çš„ <code>CMAKE_ALLOW_LOOSE_LOOP_CONSTRUCTS</code> å¼€å…³ã€‚<br />
å¯ä»¥ <code>SET(CMAKE_ALLOW_LOOSE_LOOP_CONSTRUCTS ON)</code></p>
<p>è¿™æ—¶å€™å°±å¯ä»¥å†™æˆï¼š</p>
<pre><code class="language-plain_text">IF(WIN32)
ELSE()
ENDIF()
</code></pre>
<p>å¦‚æœé…åˆ ELSEIF ä½¿ç”¨ï¼Œå¯èƒ½çš„å†™æ³•æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="language-plain_text">IF(WIN32)
# do something related to WIN32
ELSEIF(UNIX)
# do something related to UNIX
ELSEIF(APPLE)
# do something related to APPLE
ENDIF(WIN32)
</code></pre>
<h5><a id="while" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>WHILE</h5>
<p>WHILE æŒ‡ä»¤çš„è¯­æ³•æ˜¯:</p>
<pre><code class="language-plain_text">WHILE(condition)
    COMMAND1(ARGS ...)
    COMMAND2(ARGS ...)
    ...
ENDWHILE(condition)
</code></pre>
<p>å…¶çœŸå‡åˆ¤æ–­æ¡ä»¶å¯ä»¥å‚è€ƒ IF æŒ‡ä»¤ã€‚</p>
<h5><a id="foreach" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>FOREACH</h5>
<p>FOREACH æŒ‡ä»¤çš„ä½¿ç”¨æ–¹æ³•æœ‰ä¸‰ç§å½¢å¼ï¼š</p>
<p>1 åˆ—è¡¨</p>
<pre><code class="language-plain_text">FOREACH(loop_var arg1 arg2 ...)
    COMMAND1(ARGS ...)
    COMMAND2(ARGS ...)
    ...
ENDFOREACH(loop_var)
</code></pre>
<p>åƒæˆ‘ä»¬å‰é¢ä½¿ç”¨çš„ AUX_SOURCE_DIRECTORY çš„ä¾‹å­ï¼š</p>
<pre><code class="language-plain_text">AUX_SOURCE_DIRECTORY(. SRC_LIST)
FOREACH(F ${SRC_LIST})
    MESSAGE(${F})
ENDFOREACH(F)
</code></pre>
<p>2 èŒƒå›´</p>
<pre><code class="language-plain_text">FOREACH(loop_var RANGE total)
ENDFOREACH(loop_var)
</code></pre>
<p>ä» 0 åˆ° total ä»¥1ä¸ºæ­¥è¿›ã€‚</p>
<p>ä¸¾ä¾‹å¦‚ä¸‹:</p>
<pre><code class="language-plain_text">FOREACH(VAR RANGE 10)
MESSAGE(${VAR})
ENDFOREACH(VAR)
</code></pre>
<p>æœ€ç»ˆå¾—åˆ°çš„è¾“å‡ºæ˜¯:</p>
<pre><code class="language-plain_text">0
1
2
3
4
5
6
7
8
9
10
</code></pre>
<p>3 èŒƒå›´å’Œæ­¥è¿›</p>
<pre><code class="language-plain_text">FOREACH(loop_var RANGE start stop [step])
ENDFOREACH(loop_var)
</code></pre>
<p>ä» start å¼€å§‹åˆ° stop ç»“æŸ,ä»¥ step ä¸ºæ­¥è¿›ã€‚</p>
<p>ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text">FOREACH(A RANGE 5 15 3)
MESSAGE(${A})
ENDFOREACH(A)
</code></pre>
<p>æœ€ç»ˆå¾—åˆ°çš„ç»“æœæ˜¯:</p>
<pre><code class="language-plain_text">5
8
11
14
</code></pre>
<p>è¿™ä¸ªæŒ‡ä»¤éœ€è¦æ³¨æ„çš„æ˜¯,çŸ¥é“é‡åˆ° ENDFOREACH æŒ‡ä»¤,æ•´ä¸ªè¯­å¥å—æ‰ä¼šå¾—åˆ°çœŸæ­£çš„æ‰§è¡Œã€‚</p>
<h2><a id="ios%E4%BD%BF%E7%94%A8cmake%E7%BC%96%E8%AF%91framework" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>iosä½¿ç”¨cmakeç¼–è¯‘framework</h2>
<p>ç¼–è¯‘æ–¹å¼é‡‡ç”¨cmakeï¼Œtoochainä¸­ä¸ºiOSå·¥å…·é“¾iOS.cmakeï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="language-plain_text">â”œâ”€ toochain
â”‚  â”œâ”€ iOS.cmake
â”œâ”€ CMakeLists.txt
â”œâ”€ Info.plist
â”œâ”€ ShellScript
</code></pre>
<h3><a id="cmake%E7%BC%96%E8%AF%91%E8%84%9A%E6%9C%AC%E5%A6%82%E4%B8%8B%EF%BC%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>CMakeç¼–è¯‘è„šæœ¬å¦‚ä¸‹ï¼š</h3>
<pre><code class="language-plain_text">#****************************This is Project Info****************************
PROJECT(SKYObject)
CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

#****************************This is Compile Flag****************************
 if(DEBUG)
 message( STATUS &quot;==============================debug==============================&quot; )
 ADD_DEFINITIONS(-g)
 ADD_DEFINITIONS(-D AVX_DEBUG_LEVEL=AVX_DEBUG_DEBUG)
else(DEBUG)
 message( STATUS &quot;==============================release==============================&quot; )
 ADD_DEFINITIONS(-O2)
 ADD_DEFINITIONS(-D AVX_DEBUG_LEVEL=AVX_DEBUG_INFO)
 endif()

ADD_DEFINITIONS(&quot;-Wall&quot;)
ADD_DEFINITIONS(&quot;-fPIC&quot;)
ADD_DEFINITIONS(&quot;-Wl,-lm&quot;)
ADD_DEFINITIONS(&quot;-std=c++11&quot;)
SET(IPHONE_VERSION_MIN &quot;10.0&quot; CACHE STRING &quot;IOS minimum os version.&quot;)
SET(CMAKE_CXX_FLAGS &quot;-Wall -fPIC -Wl,-lm -D__STDC_CONSTANT_MACROS -D__STDC_LIMIT_MACROS&quot;)

SET(CMAKE_CXX_FLAGS &quot;${CMAKE_CXX_FLAGS} -fobjc-abi-version=2 -fobjc-arc -std=gnu++11 -stdlib=libc++ -isysroot ${CMAKE_OSX_SYSROOT} -framework AVX -miphoneos-version-min=${IPHONE_VERSION_MIN}&quot;)
SET(CMAKE_C_FLAGS &quot;${CMAKE_C_FLAGS} -fobjc-abi-version=2 -fobjc-arc -isysroot ${CMAKE_OSX_SYSROOT} -framework AVX -miphoneos-version-min=${IPHONE_VERSION_MIN}&quot;)

#****************************This is Include File/Directories****************************
#INCLUDE_DIRECTORIES( ${CMAKE_CURRENT_SOURCE_DIR}/)
INCLUDE_DIRECTORIES(../../../)
INCLUDE_DIRECTORIES(../../../Library/Include)
INCLUDE_DIRECTORIES(../../../Library/IOS/include)
INCLUDE_DIRECTORIES(../../../Library/IOS/include/libevent)
INCLUDE_DIRECTORIES(../../../Include)
#****************************This is Source File/Directories****************************
#AUX_SOURCE_DIRECTORY(../../Object/ Object_SRCS)
AUX_SOURCE_DIRECTORY(../../../Source/ Source_SRCS)
SET(DIR_SRCS ${Source_SRCS})

#****************************This is Library Directories****************************
LINK_DIRECTORIES(./)
LINK_DIRECTORIES(../../../Bin/IOS)
LINK_DIRECTORIES(../../../Library/IOS/lib)

#****************************This is 3Party Library****************************
LINK_LIBRARIES(pthread dl)

#****************************This is Output Directory****************************
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/../../../Bin/IOS)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/../../../Bin/IOS)
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/../../../Bin/IOS)

#****************************This is Output Library****************************
ADD_LIBRARY(${PROJECT_NAME} SHARED ${DIR_SRCS} )
TARGET_LINK_LIBRARIES(${PROJECT_NAME} pthread dl)
set_target_properties(${PROJECT_NAME} PROPERTIES FRAMEWORK TRUE MACOSX_FRAMEWORK_IDENTIFIER com.skylight.SKYObject MACOSX_FRAMEWORK_INFO_PLIST Info.plist PUBLIC_HEADER ../SKYObect.h XCODE_ATTRIBUTE_CODE_SIGN_IDENTITY &quot;iPhone Developer&quot;)
</code></pre>
<p>CMakeè¯´æ˜ï¼š</p>
<ul>
<li>PROJECT(SKYObject)ä¸­SKYObjectä¸ºframeworkçš„åå­—ã€‚</li>
<li>IPHONE_VERSION_MIN ä¸ºæ”¯æŒçš„iOSçš„æœ€ä½ç³»ç»Ÿï¼Œä¸Info.plistä¸­MinimumOSVersionå€¼ç›¸å¯¹åº”ã€‚</li>
<li>é“¾æ¥å…¶ä»–çš„frameworkä½¿ç”¨-framework XXXã€‚</li>
<li>INCLUDE_DIRECTORIESä¸ºå¤´æ–‡ä»¶è·¯å¾„ã€‚</li>
<li>LINK_DIRECTORIESä¸ºåº“è·¯å¾„ã€‚</li>
<li>set_target_propertiesä¸­MACOSX_FRAMEWORK_IDENTIFIERåè¾¹ç´§è·Ÿçš„å€¼ä¸ºInfo.plistä¸­CFBundleIdentifierï¼Œå¿…é¡»è®¾ç½®ï¼›MACOSX_FRAMEWORK_INFO_PLISTä¸ºä½¿ç”¨è‡ªå·±çš„Info.plistæ¨¡æ¿ï¼Œåè¾¹ç´§è·Ÿçš„å€¼ä¸ºInfo.plistçš„ç›¸å¯¹è·¯å¾„ï¼›PUBLIC_HEADERæŒ‡å®šéœ€è¦çš„å¤´æ–‡ä»¶ï¼Œåè¾¹ç´§è·Ÿçš„å€¼ä¸ºå¤´æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚</li>
</ul>
<h3><a id="info-plist%E5%A6%82%E4%B8%8B%EF%BC%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Info.plistå¦‚ä¸‹ï¼š</h3>
<pre><code class="language-plain_text">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
	&lt;key&gt;CFBundleDevelopmentRegion&lt;/key&gt;
	&lt;string&gt;English&lt;/string&gt;
	&lt;key&gt;CFBundleExecutable&lt;/key&gt;
	&lt;string&gt;SKYObject&lt;/string&gt;
	&lt;key&gt;CFBundleIdentifier&lt;/key&gt;
	&lt;string&gt;com.skylight.SKYObject&lt;/string&gt;
	&lt;key&gt;MinimumOSVersion&lt;/key&gt;
	&lt;string&gt;10.0&lt;/string&gt;
	&lt;key&gt;CFBundleInfoDictionaryVersion&lt;/key&gt;
	&lt;string&gt;6.0&lt;/string&gt;
	&lt;key&gt;CFBundleName&lt;/key&gt;
	&lt;string&gt;SKYObject&lt;/string&gt;
	&lt;key&gt;CFBundlePackageType&lt;/key&gt;
	&lt;string&gt;FMWK&lt;/string&gt;
	&lt;key&gt;CFBundleShortVersionString&lt;/key&gt;
	&lt;string&gt;1.0&lt;/string&gt;
	&lt;key&gt;CFBundleVersion&lt;/key&gt;
	&lt;string&gt;1&lt;/string&gt;
	&lt;key&gt;NSPrincipalClass&lt;/key&gt;
	&lt;string&gt;&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</code></pre>
<h3><a id="shell%E8%84%9A%E6%9C%AC%E5%A6%82%E4%B8%8B%EF%BC%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>shellè„šæœ¬å¦‚ä¸‹ï¼š</h3>
<pre><code class="language-plain_text">#!/bin/bash
rm -rf CMakeCache.txt
rm -r CMakeFiles
rm -rf cmake_install.cmake
rm -rf Makefile
rm -rf CTestTestfile.cmake

if [ â€œ$@â€œ =~ &quot;-d&quot; ];then
        echo &quot;----------------------------cmake debug----------------------------&quot;
        cmake -DDEBUG=ON -DCMAKE_TOOLCHAIN_FILE=./toolchain/IOS.cmake -DIOS_PLATFORM=OS -DBUILD_ARM64=1 .
else
        echo &quot;----------------------------cmake release----------------------------&quot;
        cmake -DDEBUG=NO -DCMAKE_TOOLCHAIN_FILE=./toolchain/IOS.cmake -DIOS_PLATFORM=OS -DBUILD_ARM64=1 .
fi

make

rm -rf CMakeCache.txt
rm -r CMakeFiles
rm -rf cmake_install.cmake~~~~
rm -rf Makefile
rm -rf CTestTestfile.cmake

install_name_tool -id @rpath/Frameworks/SKYObject.framework/SKYObject  ../../../Bin/IOS/SKYObject.framework/SKYObject

</code></pre>
<h3><a id="toochain%E5%B7%A5%E5%85%B7%E9%93%BEios-cmake%E5%A6%82%E4%B8%8B%EF%BC%9A" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>toochainå·¥å…·é“¾iOS.cmakeå¦‚ä¸‹ï¼š</h3>
<pre><code class="language-plain_text"># This file is based off of the Platform/Darwin.cmake and Platform/UnixPaths.cmake
# files which are included with CMake 2.8.4
# It has been altered for iOS development

# Options:
#
# IOS_PLATFORM = OS (default) or SIMULATOR or SIMULATOR64
#   This decides if SDKS will be selected from the iPhoneOS.platform or iPhoneSimulator.platform folders
#   OS - the default, used to build for iPhone and iPad physical devices, which have an arm arch.
#   SIMULATOR - used to build for the Simulator platforms, which have an x86 arch.
#
# CMAKE_IOS_DEVELOPER_ROOT = automatic(default) or /path/to/platform/Developer folder
#   By default this location is automatcially chosen based on the IOS_PLATFORM value above.
#   If set manually, it will override the default location and force the user of a particular Developer Platform
#
# CMAKE_IOS_SDK_ROOT = automatic(default) or /path/to/platform/Developer/SDKs/SDK folder
#   By default this location is automatcially chosen based on the CMAKE_IOS_DEVELOPER_ROOT value.
#   In this case it will always be the most up-to-date SDK found in the CMAKE_IOS_DEVELOPER_ROOT path.
#   If set manually, this will force the use of a specific SDK version

# Macros:
#
# set_xcode_property (TARGET XCODE_PROPERTY XCODE_VALUE)
#  A convenience macro for setting xcode specific properties on targets
#  example: set_xcode_property (myioslib IPHONEOS_DEPLOYMENT_TARGET &quot;3.1&quot;)
#
# find_host_package (PROGRAM ARGS)
#  A macro used to find executable programs on the host system, not within the iOS environment.
#  Thanks to the android-cmake project for providing the command

# Standard settings
set (CMAKE_SYSTEM_NAME Darwin)
set (CMAKE_SYSTEM_VERSION 1)
set (UNIX True)
set (APPLE True)
set (IOS True)

# Required as of cmake 2.8.10
set (CMAKE_OSX_DEPLOYMENT_TARGET &quot;&quot; CACHE STRING &quot;Force unset of the deployment target for iOS&quot; FORCE)

# Determine the cmake host system version so we know where to find the iOS SDKs
find_program (CMAKE_UNAME uname /bin /usr/bin /usr/local/bin)
if (CMAKE_UNAME)
	exec_program(uname ARGS -r OUTPUT_VARIABLE CMAKE_HOST_SYSTEM_VERSION)
	string (REGEX REPLACE &quot;^([0-9]+)\\.([0-9]+).*$&quot; &quot;\\1&quot; DARWIN_MAJOR_VERSION &quot;${CMAKE_HOST_SYSTEM_VERSION}&quot;)
endif (CMAKE_UNAME)

# Force the compilers to gcc for iOS
include (CMakeForceCompiler)
CMAKE_FORCE_C_COMPILER (/usr/bin/gcc Apple)
CMAKE_FORCE_CXX_COMPILER (/usr/bin/g++ Apple)
set(CMAKE_AR ar CACHE FILEPATH &quot;&quot; FORCE)

# Skip the platform compiler checks for cross compiling
set (CMAKE_CXX_COMPILER_WORKS TRUE)
set (CMAKE_C_COMPILER_WORKS TRUE)

# All iOS/Darwin specific settings - some may be redundant
set (CMAKE_SHARED_LIBRARY_PREFIX &quot;lib&quot;)
set (CMAKE_SHARED_LIBRARY_SUFFIX &quot;.dylib&quot;)
set (CMAKE_SHARED_MODULE_PREFIX &quot;lib&quot;)
set (CMAKE_SHARED_MODULE_SUFFIX &quot;.so&quot;)
set (CMAKE_MODULE_EXISTS 1)
set (CMAKE_DL_LIBS &quot;&quot;)

set (CMAKE_C_OSX_COMPATIBILITY_VERSION_FLAG &quot;-compatibility_version &quot;)
set (CMAKE_C_OSX_CURRENT_VERSION_FLAG &quot;-current_version &quot;)
set (CMAKE_CXX_OSX_COMPATIBILITY_VERSION_FLAG &quot;${CMAKE_C_OSX_COMPATIBILITY_VERSION_FLAG}&quot;)
set (CMAKE_CXX_OSX_CURRENT_VERSION_FLAG &quot;${CMAKE_C_OSX_CURRENT_VERSION_FLAG}&quot;)

# Hidden visibilty is required for cxx on iOS 
set (CMAKE_C_FLAGS_INIT &quot;&quot;)
set (CMAKE_CXX_FLAGS_INIT &quot;-fvisibility=hidden -fvisibility-inlines-hidden&quot;)

set (CMAKE_C_LINK_FLAGS &quot;-Wl,-search_paths_first ${CMAKE_C_LINK_FLAGS}&quot;)
set (CMAKE_CXX_LINK_FLAGS &quot;-Wl,-search_paths_first ${CMAKE_CXX_LINK_FLAGS}&quot;)

set (CMAKE_PLATFORM_HAS_INSTALLNAME 1)
set (CMAKE_SHARED_LIBRARY_CREATE_C_FLAGS &quot;-dynamiclib -headerpad_max_install_names&quot;)
set (CMAKE_SHARED_MODULE_CREATE_C_FLAGS &quot;-bundle -headerpad_max_install_names&quot;)
set (CMAKE_SHARED_MODULE_LOADER_C_FLAG &quot;-Wl,-bundle_loader,&quot;)
set (CMAKE_SHARED_MODULE_LOADER_CXX_FLAG &quot;-Wl,-bundle_loader,&quot;)
set (CMAKE_FIND_LIBRARY_SUFFIXES &quot;.dylib&quot; &quot;.so&quot; &quot;.a&quot;)

# hack: if a new cmake (which uses CMAKE_INSTALL_NAME_TOOL) runs on an old build tree
# (where install_name_tool was hardcoded) and where CMAKE_INSTALL_NAME_TOOL isn't in the cache
# and still cmake didn't fail in CMakeFindBinUtils.cmake (because it isn't rerun)
# hardcode CMAKE_INSTALL_NAME_TOOL here to install_name_tool, so it behaves as it did before, Alex
if (NOT DEFINED CMAKE_INSTALL_NAME_TOOL)
	find_program(CMAKE_INSTALL_NAME_TOOL install_name_tool)
endif (NOT DEFINED CMAKE_INSTALL_NAME_TOOL)

# Setup iOS platform unless specified manually with IOS_PLATFORM
if (NOT DEFINED IOS_PLATFORM)
	set (IOS_PLATFORM &quot;OS&quot;)
endif (NOT DEFINED IOS_PLATFORM)
set (IOS_PLATFORM ${IOS_PLATFORM} CACHE STRING &quot;Type of iOS Platform&quot;)

# Setup building for arm64 or not
if (NOT DEFINED BUILD_ARM64)
    set (BUILD_ARM64 true)
endif (NOT DEFINED BUILD_ARM64)
set (BUILD_ARM64 ${BUILD_ARM64} CACHE STRING &quot;Build arm64 arch or not&quot;)

# Check the platform selection and setup for developer root
if (${IOS_PLATFORM} STREQUAL &quot;OS&quot;)
	set (IOS_PLATFORM_LOCATION &quot;iPhoneOS.platform&quot;)

	# This causes the installers to properly locate the output libraries
	set (CMAKE_XCODE_EFFECTIVE_PLATFORMS &quot;-iphoneos&quot;)
elseif (${IOS_PLATFORM} STREQUAL &quot;SIMULATOR&quot;)
    set (SIMULATOR true)
	set (IOS_PLATFORM_LOCATION &quot;iPhoneSimulator.platform&quot;)

	# This causes the installers to properly locate the output libraries
	set (CMAKE_XCODE_EFFECTIVE_PLATFORMS &quot;-iphonesimulator&quot;)
elseif (${IOS_PLATFORM} STREQUAL &quot;SIMULATOR64&quot;)
    set (SIMULATOR true)
	set (IOS_PLATFORM_LOCATION &quot;iPhoneSimulator.platform&quot;)

	# This causes the installers to properly locate the output libraries
	set (CMAKE_XCODE_EFFECTIVE_PLATFORMS &quot;-iphonesimulator&quot;)
else (${IOS_PLATFORM} STREQUAL &quot;OS&quot;)
	message (FATAL_ERROR &quot;Unsupported IOS_PLATFORM value selected. Please choose OS or SIMULATOR&quot;)
endif (${IOS_PLATFORM} STREQUAL &quot;OS&quot;)

# Setup iOS developer location unless specified manually with CMAKE_IOS_DEVELOPER_ROOT
# Note Xcode 4.3 changed the installation location, choose the most recent one available
exec_program(/usr/bin/xcode-select ARGS -print-path OUTPUT_VARIABLE CMAKE_XCODE_DEVELOPER_DIR)
set (XCODE_POST_43_ROOT &quot;${CMAKE_XCODE_DEVELOPER_DIR}/Platforms/${IOS_PLATFORM_LOCATION}/Developer&quot;)
set (XCODE_PRE_43_ROOT &quot;/Developer/Platforms/${IOS_PLATFORM_LOCATION}/Developer&quot;)
if (NOT DEFINED CMAKE_IOS_DEVELOPER_ROOT)
	if (EXISTS ${XCODE_POST_43_ROOT})
		set (CMAKE_IOS_DEVELOPER_ROOT ${XCODE_POST_43_ROOT})
	elseif(EXISTS ${XCODE_PRE_43_ROOT})
		set (CMAKE_IOS_DEVELOPER_ROOT ${XCODE_PRE_43_ROOT})
	endif (EXISTS ${XCODE_POST_43_ROOT})
endif (NOT DEFINED CMAKE_IOS_DEVELOPER_ROOT)
set (CMAKE_IOS_DEVELOPER_ROOT ${CMAKE_IOS_DEVELOPER_ROOT} CACHE PATH &quot;Location of iOS Platform&quot;)

# Find and use the most recent iOS sdk unless specified manually with CMAKE_IOS_SDK_ROOT
if (NOT DEFINED CMAKE_IOS_SDK_ROOT)
	file (GLOB _CMAKE_IOS_SDKS &quot;${CMAKE_IOS_DEVELOPER_ROOT}/SDKs/*&quot;)
	if (_CMAKE_IOS_SDKS) 
		list (SORT _CMAKE_IOS_SDKS)
		list (REVERSE _CMAKE_IOS_SDKS)
		list (GET _CMAKE_IOS_SDKS 0 CMAKE_IOS_SDK_ROOT)
	else (_CMAKE_IOS_SDKS)
		message (FATAL_ERROR &quot;No iOS SDK's found in default search path ${CMAKE_IOS_DEVELOPER_ROOT}. Manually set CMAKE_IOS_SDK_ROOT or install the iOS SDK.&quot;)
	endif (_CMAKE_IOS_SDKS)
	message (STATUS &quot;Toolchain using default iOS SDK: ${CMAKE_IOS_SDK_ROOT}&quot;)
endif (NOT DEFINED CMAKE_IOS_SDK_ROOT)
set (CMAKE_IOS_SDK_ROOT ${CMAKE_IOS_SDK_ROOT} CACHE PATH &quot;Location of the selected iOS SDK&quot;)

# Set the sysroot default to the most recent SDK
set (CMAKE_OSX_SYSROOT ${CMAKE_IOS_SDK_ROOT} CACHE PATH &quot;Sysroot used for iOS support&quot;)

# set the architecture for iOS armv7 armv7s
if (${IOS_PLATFORM} STREQUAL &quot;OS&quot;)
    set (IOS_ARCH  arm64)
elseif (${IOS_PLATFORM} STREQUAL &quot;SIMULATOR&quot;)
    set (IOS_ARCH i386)
elseif (${IOS_PLATFORM} STREQUAL &quot;SIMULATOR64&quot;)
    set (IOS_ARCH x86_64)
endif (${IOS_PLATFORM} STREQUAL &quot;OS&quot;)

set (CMAKE_OSX_ARCHITECTURES ${IOS_ARCH} CACHE string  &quot;Build architecture for iOS&quot;)

# Set the find root to the iOS developer roots and to user defined paths
set (CMAKE_FIND_ROOT_PATH ${CMAKE_IOS_DEVELOPER_ROOT} ${CMAKE_IOS_SDK_ROOT} ${CMAKE_PREFIX_PATH} CACHE string  &quot;iOS find search path root&quot;)

# default to searching for frameworks first
set (CMAKE_FIND_FRAMEWORK FIRST)

# set up the default search directories for frameworks
set (CMAKE_SYSTEM_FRAMEWORK_PATH
	${CMAKE_IOS_SDK_ROOT}/System/Library/Frameworks
	${CMAKE_IOS_SDK_ROOT}/System/Library/PrivateFrameworks
	${CMAKE_IOS_SDK_ROOT}/Developer/Library/Frameworks
)

# only search the iOS sdks, not the remainder of the host filesystem
set (CMAKE_FIND_ROOT_PATH_MODE_PROGRAM ONLY)
set (CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set (CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)


# This little macro lets you set any XCode specific property
macro (set_xcode_property TARGET XCODE_PROPERTY XCODE_VALUE)
	set_property (TARGET ${TARGET} PROPERTY XCODE_ATTRIBUTE_${XCODE_PROPERTY} ${XCODE_VALUE})
endmacro (set_xcode_property)


# This macro lets you find executable programs on the host system
macro (find_host_package)
	set (CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
	set (CMAKE_FIND_ROOT_PATH_MODE_LIBRARY NEVER)
	set (CMAKE_FIND_ROOT_PATH_MODE_INCLUDE NEVER)
	set (IOS FALSE)

	find_package(${ARGN})

	set (IOS TRUE)
	set (CMAKE_FIND_ROOT_PATH_MODE_PROGRAM ONLY)
	set (CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
	set (CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
endmacro (find_host_package)



</code></pre>

]]></content>
  </entry>
  
</feed>
